"use strict";(self.webpackChunkLoadGo=self.webpackChunkLoadGo||[]).push([[179],{2011:(_t,Ie,V)=>{V.d(Ie,{Dh:()=>he,GT:()=>te,cc:()=>Ae,hO:()=>je,on:()=>q,pX:()=>ae,xv:()=>ge});var c=V(4650),H=V(9260),P=V(2122);_t=V.hmd(_t);const re=["ngOnDestroy"],ae=(Se,De,Ne,Oe={})=>new Proxy(Se,{get:(Fe,Te)=>Ne.runOutsideAngular(()=>{var Ze;if(Se[Te])return!(null===(Ze=Oe?.spy)||void 0===Ze)&&Ze.get&&Oe.spy.get(Te,Se[Te]),Se[Te];if(re.indexOf(Te)>-1)return()=>{};const J=De.toPromise().then(ce=>{const ve=ce&&ce[Te];return"function"==typeof ve?ve.bind(ce):ve&&ve.then?ve.then(Ke=>Ne.run(()=>Ke)):Ne.run(()=>ve)});return new Proxy(()=>{},{get:(ce,ve)=>J[ve],apply:(ce,ve,Ke)=>J.then(Ge=>{var kt;const nt=Ge&&Ge(...Ke);return!(null===(kt=Oe?.spy)||void 0===kt)&&kt.apply&&Oe.spy.apply(Te,Ke,nt),nt})})})}),te=(Se,De)=>{De.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Oe=>{Object.defineProperty(Se.prototype,Oe,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Oe))})})};class ye{constructor(De){return De}}const he=new c.OlP("angularfire2.app.options"),ge=new c.OlP("angularfire2.app.name");function q(Se,De,Ne){const Fe="object"==typeof Ne&&Ne||{};Fe.name=Fe.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Ze=H.Z.apps.filter(J=>J&&J.name===Fe.name)[0]||De.runOutsideAngular(()=>H.Z.initializeApp(Se,Fe));try{JSON.stringify(Se)!==JSON.stringify(Ze.options)&&W("error",`${Ze.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(Ze)}const W=(Se,...De)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Se](...De)},X={provide:ye,useFactory:q,deps:[he,c.R0b,[new c.FiY,ge]]};let je=(()=>{class Se{constructor(Ne){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",c.q4F.full,Ne.toString())}static initializeApp(Ne,Oe){return{ngModule:Se,providers:[{provide:he,useValue:Ne},{provide:ge,useValue:Oe}]}}}return Se.\u0275fac=function(Ne){return new(Ne||Se)(c.LFG(c.Lbi))},Se.\u0275mod=c.oAB({type:Se}),Se.\u0275inj=c.cJS({providers:[X]}),Se})();function Ae(Se,De,Ne,Oe,Fe){const[,Te,Ze]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===Se)||[];if(Te)return function We(Se,De){try{return Se.toString()===De.toString()}catch{return Se===De}}(Fe,Ze)||(me("error",`${De} was already initialized on the ${Ne} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Fe,was:Ze})),Te;{const J=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Se,J,Fe]),J}}const ct=!!_t.hot,me=(Se,...De)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Se](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Ie,V)=>{V.d(Ie,{q4:()=>Zu,iC:()=>Ho,HU:()=>yh,vb:()=>Rn,JM:()=>fn});var c=V(4650),H=V(259),P=V(5861),re=V(9681),ae=V(2090),te=V(4859),ye=V(1877),he=V(8766);const ge="@firebase/installations",q="0.6.4",W=1e4,X=`w:${q}`,je="FIS_v2",Ae="https://firebaseinstallations.googleapis.com/v1",We=36e5,De=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(I){return I instanceof ae.ZR&&I.code.includes("request-failed")}function Oe({projectId:I}){return`${Ae}/projects/${I}/installations`}function Fe(I){return{token:I.token,requestStatus:2,expiresIn:Ge(I.expiresIn),creationTime:Date.now()}}function Te(I,S){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(I,S){const z=(yield S.json()).error;return De.create("request-failed",{requestName:I,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function J({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ve(I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function Ge(I){return Number(I.replace("s","000"))}function le(){return(le=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:O}){const z=Oe(I),Q=J(I),oe=S.getImmediate({optional:!0});if(oe){const ut=yield oe.getHeartbeatsHeader();ut&&Q.append("x-firebase-client",ut)}const qe={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:je,appId:I.appId,sdkVersion:X})},Ye=yield ve(()=>fetch(z,qe));if(Ye.ok){const ut=yield Ye.json();return{fid:ut.fid||O,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Fe(ut.authToken)}}throw yield Te("Create Installation",Ye)})).apply(this,arguments)}function pe(I){return new Promise(S=>{setTimeout(S,I)})}const ke=/^[cdef][\w-]{21}$/,Ue="";function Be(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function it(I){return function be(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ke.test(O)?O:Ue}catch{return Ue}}function Xe(I){return`${I.appName}!${I.appId}`}const pn=new Map;function Dt(I,S){const O=Xe(I);un(O,S),function zn(I,S){const O=function gn(){return!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=I=>{un(I.data.key,I.data.fid)}),vn}();O&&O.postMessage({key:I,fid:S}),function li(){0===pn.size&&vn&&(vn.close(),vn=null)}()}(O,S)}function un(I,S){const O=pn.get(I);if(O)for(const z of O)z(S)}let vn=null;const ji="firebase-installations-database",Hr=1,jn="firebase-installations-store";let cr=null;function ur(){return cr||(cr=(0,he.X3)(ji,Hr,{upgrade:(I,S)=>{0===S&&I.createObjectStore(jn)}})),cr}function Sn(I,S){return gi.apply(this,arguments)}function gi(){return(gi=(0,P.Z)(function*(I,S){const O=Xe(I),Q=(yield ur()).transaction(jn,"readwrite"),oe=Q.objectStore(jn),Me=yield oe.get(O);return yield oe.put(S,O),yield Q.done,(!Me||Me.fid!==S.fid)&&Dt(I,S.fid),S})).apply(this,arguments)}function at(I){return wi.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(I){const S=Xe(I),z=(yield ur()).transaction(jn,"readwrite");yield z.objectStore(jn).delete(S),yield z.done})).apply(this,arguments)}function Ei(I,S){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(I,S){const O=Xe(I),Q=(yield ur()).transaction(jn,"readwrite"),oe=Q.objectStore(jn),Me=yield oe.get(O),qe=S(Me);return void 0===qe?yield oe.delete(O):yield oe.put(qe,O),yield Q.done,qe&&(!Me||Me.fid!==qe.fid)&&Dt(I,qe.fid),qe})).apply(this,arguments)}function Hn(I){return er.apply(this,arguments)}function er(){return er=(0,P.Z)(function*(I){let S;const O=yield Ei(I.appConfig,z=>{const Q=function Ut(I){return ci(I||{fid:Be(),registrationStatus:0})}(z),oe=function vt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(De.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},z=function Ft(I,S){return xn.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:z}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Fn(I)}:{installationEntry:S}}(I,Q);return S=oe.registrationPromise,oe.installationEntry});return O.fid===Ue?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}}),er.apply(this,arguments)}function xn(){return xn=(0,P.Z)(function*(I,S){try{const O=yield function nt(I,S){return le.apply(this,arguments)}(I,S);return Sn(I.appConfig,O)}catch(O){throw Ne(O)&&409===O.customData.serverCode?yield at(I.appConfig):yield Sn(I.appConfig,{fid:S.fid,registrationStatus:0}),O}}),xn.apply(this,arguments)}function Fn(I){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,P.Z)(function*(I){let S=yield Ci(I.appConfig);for(;1===S.registrationStatus;)yield pe(100),S=yield Ci(I.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:z}=yield Hn(I);return z||O}return S})).apply(this,arguments)}function Ci(I){return Ei(I,S=>{if(!S)throw De.create("installation-not-found");return ci(S)})}function ci(I){return function Tr(I){return 1===I.registrationStatus&&I.registrationTime+W<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ar(){return(Ar=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:S},O){const z=function Qt(I,{fid:S}){return`${Oe(I)}/${S}/authTokens:generate`}(I,O),Q=function ce(I,{refreshToken:S}){const O=J(I);return O.append("Authorization",function kt(I){return`${je} ${I}`}(S)),O}(I,O),oe=S.getImmediate({optional:!0});if(oe){const ut=yield oe.getHeartbeatsHeader();ut&&Q.append("x-firebase-client",ut)}const qe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:X,appId:I.appId}})},Ye=yield ve(()=>fetch(z,qe));if(Ye.ok)return Fe(yield Ye.json());throw yield Te("Generate Auth Token",Ye)})).apply(this,arguments)}function Hi(I){return $n.apply(this,arguments)}function $n(){return $n=(0,P.Z)(function*(I,S=!1){let O;const z=yield Ei(I.appConfig,oe=>{if(!sn(oe))throw De.create("not-registered");const Me=oe.authToken;if(!S&&function Gn(I){return 2===I.requestStatus&&!function G(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+We}(I)}(Me))return oe;if(1===Me.requestStatus)return O=function He(I,S){return Ce.apply(this,arguments)}(I,S),oe;{if(!navigator.onLine)throw De.create("app-offline");const qe=function $(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}(oe);return O=function It(I,S){return Pt.apply(this,arguments)}(I,qe),qe}});return O?yield O:z.authToken}),$n.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(I,S){let O=yield st(I.appConfig);for(;1===O.authToken.requestStatus;)yield pe(100),O=yield st(I.appConfig);const z=O.authToken;return 0===z.requestStatus?Hi(I,S):z})).apply(this,arguments)}function st(I){return Ei(I,S=>{if(!sn(S))throw De.create("not-registered");return function N(I){return 1===I.requestStatus&&I.requestTime+W<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Pt(){return Pt=(0,P.Z)(function*(I,S){try{const O=yield function Gt(I,S){return Ar.apply(this,arguments)}(I,S),z=Object.assign(Object.assign({},S),{authToken:O});return yield Sn(I.appConfig,z),O}catch(O){if(!Ne(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const z=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Sn(I.appConfig,z)}else yield at(I.appConfig);throw O}}),Pt.apply(this,arguments)}function sn(I){return void 0!==I&&2===I.registrationStatus}function k(){return(k=(0,P.Z)(function*(I){const S=I,{installationEntry:O,registrationPromise:z}=yield Hn(S);return z?z.catch(console.error):Hi(S).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return ue=(0,P.Z)(function*(I,S=!1){const O=I;return yield function lt(I){return xt.apply(this,arguments)}(O),(yield Hi(O,S)).token}),ue.apply(this,arguments)}function xt(){return(xt=(0,P.Z)(function*(I){const{registrationPromise:S}=yield Hn(I);S&&(yield S)})).apply(this,arguments)}function Wl(I){return De.create("missing-app-config-values",{valueName:I})}const ja="installations",ia=I=>{const S=I.getProvider("app").getImmediate(),O=function za(I){if(!I||!I.options)throw Wl("App Configuration");if(!I.name)throw Wl("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!I.options[O])throw Wl(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,re._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Kl=I=>{const S=I.getProvider("app").getImmediate(),O=(0,re._getProvider)(S,ja).getImmediate();return{getId:()=>function F(I){return k.apply(this,arguments)}(O),getToken:Q=>function ee(I){return ue.apply(this,arguments)}(O,Q)}};(function Yl(){(0,re._registerComponent)(new te.wA(ja,ia,"PUBLIC")),(0,re._registerComponent)(new te.wA("installations-internal",Kl,"PRIVATE"))})(),(0,re.registerVersion)(ge,q),(0,re.registerVersion)(ge,q,"esm2017");const hn="@firebase/remote-config",Si=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xs{constructor(S,O,z,Q){this.client=S,this.storage=O,this.storageCache=z,this.logger=Q}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-O,Q=z<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var O=this;return(0,P.Z)(function*(){const[z,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(S.cacheMaxAgeMillis,z))return Q;S.eTag=Q&&Q.eTag;const oe=yield O.client.fetch(S),Me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Me.push(O.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Me),oe})()}}function Zr(I=navigator){return I.languages&&I.languages[0]||I.language}class ei{constructor(S,O,z,Q,oe,Me){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=z,this.projectId=Q,this.apiKey=oe,this.appId=Me}fetch(S){var O=this;return(0,P.Z)(function*(){const[z,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ye={sdk_version:O.sdkVersion,app_instance_id:z,app_instance_id_token:Q,app_id:O.appId,language_code:Zr()},ut={method:"POST",headers:qe,body:JSON.stringify(Ye)},Ct=fetch(Me,ut),zt=new Promise((sr,kn)=>{S.signal.addEventListener(()=>{const dl=new Error("The operation was aborted.");dl.name="AbortError",kn(dl)})});let on;try{yield Promise.race([Ct,zt]),on=yield Ct}catch(sr){let kn="fetch-client-network";throw"AbortError"===sr?.name&&(kn="fetch-timeout"),Si.create(kn,{originalErrorMessage:sr?.message})}let Yn=on.status;const rr=on.headers.get("ETag")||void 0;let Bs,fo;if(200===on.status){let sr;try{sr=yield on.json()}catch(kn){throw Si.create("fetch-client-parse",{originalErrorMessage:kn?.message})}Bs=sr.entries,fo=sr.state}if("INSTANCE_STATE_UNSPECIFIED"===fo?Yn=500:"NO_CHANGE"===fo?Yn=304:("NO_TEMPLATE"===fo||"EMPTY_CONFIG"===fo)&&(Bs={}),304!==Yn&&200!==Yn)throw Si.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:rr,config:Bs}})()}}class jt{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,P.Z)(function*(){const z=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,z)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:z}){var Q=this;return(0,P.Z)(function*(){yield function Ao(I,S){return new Promise((O,z)=>{const Q=Math.max(S-Date.now(),0),oe=setTimeout(O,Q);I.addEventListener(()=>{clearTimeout(oe),z(Si.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const oe=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function oh(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(oe))throw oe;const Me={throttleEndTimeMillis:Date.now()+(0,ae.$s)(z),backoffCount:z+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(S,Me)}})()}}class Su{constructor(S,O,z,Q,oe){this.app=S,this._client=O,this._storageCache=z,this._storage=Q,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function us(I,S){const O=I.target.error||void 0;return Si.create(S,{originalErrorMessage:O&&O?.message})}const qr="app_namespace_store";class Fi{constructor(S,O,z,Q=function mp(){return new Promise((I,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=z=>{S(us(z,"storage-open"))},O.onsuccess=z=>{I(z.target.result)},O.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(qr,{keyPath:"compositeKey"})}}catch(O){S(Si.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=S,this.appName=O,this.namespace=z,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,P.Z)(function*(){const z=yield O.openDbPromise;return new Promise((Q,oe)=>{const qe=z.transaction([qr],"readonly").objectStore(qr),Ye=O.createCompositeKey(S);try{const ut=qe.get(Ye);ut.onerror=Ct=>{oe(us(Ct,"storage-get"))},ut.onsuccess=Ct=>{const zt=Ct.target.result;Q(zt?zt.value:void 0)}}catch(ut){oe(Si.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(S,O){var z=this;return(0,P.Z)(function*(){const Q=yield z.openDbPromise;return new Promise((oe,Me)=>{const Ye=Q.transaction([qr],"readwrite").objectStore(qr),ut=z.createCompositeKey(S);try{const Ct=Ye.put({compositeKey:ut,value:O});Ct.onerror=zt=>{Me(us(zt,"storage-set"))},Ct.onsuccess=()=>{oe()}}catch(Ct){Me(Si.create("storage-set",{originalErrorMessage:Ct?.message}))}})})()}delete(S){var O=this;return(0,P.Z)(function*(){const z=yield O.openDbPromise;return new Promise((Q,oe)=>{const qe=z.transaction([qr],"readwrite").objectStore(qr),Ye=O.createCompositeKey(S);try{const ut=qe.delete(Ye);ut.onerror=Ct=>{oe(us(Ct,"storage-delete"))},ut.onsuccess=()=>{Q()}}catch(ut){oe(Si.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class mi{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const O=S.storage.getLastFetchStatus(),z=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),oe=yield O;oe&&(S.lastFetchStatus=oe);const Me=yield z;Me&&(S.lastSuccessfulFetchTimestampMillis=Me);const qe=yield Q;qe&&(S.activeConfig=qe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Kr(){return oa.apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Xl(){(0,re._registerComponent)(new te.wA("remote-config",function I(S,{instanceIdentifier:O}){const z=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Si.create("registration-window");if(!(0,ae.hl)())throw Si.create("indexed-db-unavailable");const{projectId:oe,apiKey:Me,appId:qe}=z.options;if(!oe)throw Si.create("registration-project-id");if(!Me)throw Si.create("registration-api-key");if(!qe)throw Si.create("registration-app-id");const Ye=new Fi(qe,z.name,O=O||"firebase"),ut=new mi(Ye),Ct=new ye.Yd(hn);Ct.logLevel=ye.in.ERROR;const zt=new ei(Q,re.SDK_VERSION,O,oe,Me,qe),on=new jt(zt,Ye),Yn=new xs(on,Ye,ut,Ct),rr=new Su(z,Yn,ut,Ye,Ct);return function cs(I){const S=(0,ae.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(rr),rr},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(hn,"0.4.4"),(0,re.registerVersion)(hn,"0.4.4","esm2017")}();const Rs="/firebase-messaging-sw.js",Mo="/firebase-cloud-messaging-push-scope",xo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_p="https://fcmregistrations.googleapis.com/v1",Tu="google.c.a.c_id",yp="google.c.a.c_l",vp="google.c.a.ts",aa="google.c.a.e";var Yr=(()=>{return(I=Yr||(Yr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Yr;var I})();function Qs(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bp(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(O),Q=new Uint8Array(z.length);for(let oe=0;oe<z.length;++oe)Q[oe]=z.charCodeAt(oe);return Q}const Oo="fcm_token_details_db",dr=5,Au="fcm_token_object_Store";function Ro(){return Ro=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Oo))return null;let S=null;return(yield(0,he.X3)(Oo,dr,{upgrade:(z=(0,P.Z)(function*(Q,oe,Me,qe){var Ye;if(oe<2||!Q.objectStoreNames.contains(Au))return;const ut=qe.objectStore(Au),Ct=yield ut.index("fcmSenderId").get(I);if(yield ut.clear(),Ct)if(2===oe){const zt=Ct;if(!zt.auth||!zt.p256dh||!zt.endpoint)return;S={token:zt.fcmToken,createTime:null!==(Ye=zt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:zt.auth,p256dh:zt.p256dh,endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:"string"==typeof zt.vapidKey?zt.vapidKey:Qs(zt.vapidKey)}}}else if(3===oe){const zt=Ct;S={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:Qs(zt.auth),p256dh:Qs(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:Qs(zt.vapidKey)}}}else if(4===oe){const zt=Ct;S={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:Qs(zt.auth),p256dh:Qs(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:Qs(zt.vapidKey)}}}}),function(oe,Me,qe,Ye){return z.apply(this,arguments)})})).close(),yield(0,he.Lj)(Oo),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function Za(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var z}),Ro.apply(this,arguments)}const xu="firebase-messaging-database",wp=1,hr="firebase-messaging-store";let qa=null;function Xs(){return qa||(qa=(0,he.X3)(xu,wp,{upgrade:(I,S)=>{0===S&&I.createObjectStore(hr)}})),qa}function la(I){return Js.apply(this,arguments)}function Js(){return Js=(0,P.Z)(function*(I){const S=ds(I),z=yield(yield Xs()).transaction(hr).objectStore(hr).get(S);if(z)return z;{const Q=yield function Mu(I){return Ro.apply(this,arguments)}(I.appConfig.senderId);if(Q)return yield ca(I,Q),Q}}),Js.apply(this,arguments)}function ca(I,S){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,P.Z)(function*(I,S){const O=ds(I),Q=(yield Xs()).transaction(hr,"readwrite");return yield Q.objectStore(hr).put(S,O),yield Q.done,S})).apply(this,arguments)}function Jl(){return(Jl=(0,P.Z)(function*(I){const S=ds(I),z=(yield Xs()).transaction(hr,"readwrite");yield z.objectStore(hr).delete(S),yield z.done})).apply(this,arguments)}function ds({appConfig:I}){return I.appId}const mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tc(I,S){return ko.apply(this,arguments)}function ko(){return(ko=(0,P.Z)(function*(I,S){const O=yield ha(I),z=Ti(S),Q={method:"POST",headers:O,body:JSON.stringify(z)};let oe;try{oe=yield(yield fetch(nc(I.appConfig),Q)).json()}catch(Me){throw mn.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(oe.error)throw mn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw mn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function da(){return(da=(0,P.Z)(function*(I,S){const O=yield ha(I),z=Ti(S.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(z)};let oe;try{oe=yield(yield fetch(`${nc(I.appConfig)}/${S.token}`,Q)).json()}catch(Me){throw mn.create("token-update-failed",{errorInfo:Me?.toString()})}if(oe.error)throw mn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw mn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function ks(I,S){return _i.apply(this,arguments)}function _i(){return(_i=(0,P.Z)(function*(I,S){const z={method:"DELETE",headers:yield ha(I)};try{const oe=yield(yield fetch(`${nc(I.appConfig)}/${S}`,z)).json();if(oe.error)throw mn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(Q){throw mn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function nc({projectId:I}){return`${_p}/projects/${I}/registrations`}function ha(I){return fr.apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*({appConfig:I,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ti({p256dh:I,auth:S,endpoint:O,vapidKey:z}){const Q={web:{endpoint:O,auth:S,p256dh:I}};return z!==xo&&(Q.web.applicationPubKey=z),Q}const ic=6048e5;function Ou(){return Ou=(0,P.Z)(function*(I){const S=yield function sc(I,S){return oc.apply(this,arguments)}(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:Qs(S.getKey("auth")),p256dh:Qs(S.getKey("p256dh"))},z=yield la(I.firebaseDependencies);if(z){if(function ac(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}(z.subscriptionOptions,O))return Date.now()>=z.createTime+ic?function fa(I,S){return Bt.apply(this,arguments)}(I,{token:z.token,createTime:Date.now(),subscriptionOptions:O}):z.token;try{yield ks(I.firebaseDependencies,z.token)}catch(Q){console.warn(Q)}return Ya(I.firebaseDependencies,O)}return Ya(I.firebaseDependencies,O)}),Ou.apply(this,arguments)}function Ka(){return Ka=(0,P.Z)(function*(I){const S=yield la(I.firebaseDependencies);S&&(yield ks(I.firebaseDependencies,S.token),yield function ua(I){return Jl.apply(this,arguments)}(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),Ka.apply(this,arguments)}function Bt(){return Bt=(0,P.Z)(function*(I,S){try{const O=yield function Vn(I,S){return da.apply(this,arguments)}(I.firebaseDependencies,S),z=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield ca(I.firebaseDependencies,z),O}catch(O){throw yield function Mr(I){return Ka.apply(this,arguments)}(I),O}}),Bt.apply(this,arguments)}function Ya(I,S){return rc.apply(this,arguments)}function rc(){return(rc=(0,P.Z)(function*(I,S){const z={token:yield tc(I,S),createTime:Date.now(),subscriptionOptions:S};return yield ca(I,z),z.token})).apply(this,arguments)}function oc(){return(oc=(0,P.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bp(S)})})).apply(this,arguments)}function Ru(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function lc(I,S){if(!S.notification)return;I.notification={};const O=S.notification.title;O&&(I.notification.title=O);const z=S.notification.body;z&&(I.notification.body=z);const Q=S.notification.image;Q&&(I.notification.image=Q);const oe=S.notification.icon;oe&&(I.notification.icon=oe)}(S,I),function Un(I,S){S.data&&(I.data=S.data)}(S,I),function Re(I,S){var O,z,Q,oe,Me;if(!(S.fcmOptions||null!==(O=S.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const qe=null!==(Q=null===(z=S.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==Q?Q:null===(oe=S.notification)||void 0===oe?void 0:oe.click_action;qe&&(I.fcmOptions.link=qe);const Ye=null===(Me=S.fcmOptions)||void 0===Me?void 0:Me.analytics_label;Ye&&(I.fcmOptions.analyticsLabel=Ye)}(S,I),S}function ku(I,S){const O=[];for(let z=0;z<I.length;z++)O.push(I.charAt(z)),z<S.length&&O.push(S.charAt(z));return O.join("")}function Wn(I){return mn.create("missing-app-config-values",{valueName:I})}ku("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ku("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ch{constructor(S,O,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function lh(I){if(!I||!I.options)throw Wn("App Configuration Object");if(!I.name)throw Wn("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const z of S)if(!O[z])throw Wn(z);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:O,analyticsProvider:z}}_delete(){return Promise.resolve()}}function Ps(I){return xr.apply(this,arguments)}function xr(){return(xr=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Rs,{scope:Mo}),I.swRegistration.update().catch(()=>{})}catch(S){throw mn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Xa(){return(Xa=(0,P.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield Ps(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Pu(){return(Pu=(0,P.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=xo)})).apply(this,arguments)}function ti(){return ti=(0,P.Z)(function*(I,S){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield function Ja(I,S){return Pu.apply(this,arguments)}(I,S?.vapidKey),yield function Qa(I,S){return Xa.apply(this,arguments)}(I,S?.serviceWorkerRegistration),function eo(I){return Ou.apply(this,arguments)}(I)}),ti.apply(this,arguments)}function cc(){return(cc=(0,P.Z)(function*(I,S,O){const z=function to(I){switch(I){case Yr.NOTIFICATION_CLICKED:return"notification_open";case Yr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:O[Tu],message_name:O[yp],message_time:O[vp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function el(){return el=(0,P.Z)(function*(I,S){const O=S.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===Yr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ru(O)):I.onMessageHandler.next(Ru(O)));const z=O.data;(function cn(I){return"object"==typeof I&&!!I&&Tu in I})(z)&&"1"===z[aa]&&(yield function Li(I,S,O){return cc.apply(this,arguments)}(I,O.messageType,z))}),el.apply(this,arguments)}const uc="@firebase/messaging",uh=I=>{const S=new ch(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Qr(I,S){return el.apply(this,arguments)}(S,O)),S},hs=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:z=>function pa(I,S){return ti.apply(this,arguments)}(S,z)}};function Nu(){return tl.apply(this,arguments)}function tl(){return(tl=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hc(){(0,re._registerComponent)(new te.wA("messaging",uh,"PUBLIC")),(0,re._registerComponent)(new te.wA("messaging-internal",hs,"PRIVATE")),(0,re.registerVersion)(uc,"0.12.4"),(0,re.registerVersion)(uc,"0.12.4","esm2017")}();const Lu="analytics",Dp="firebase_id",qi="origin",Ns=6e4,bn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nl="https://www.googletagmanager.com/gtag/js",yi=new ye.Yd("@firebase/analytics"),nr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function s_(I){if(!I.startsWith(nl)){const S=nr.create("invalid-gtag-resource",{gtagURL:I});return yi.warn(S.message),""}return I}function hh(I){return Promise.all(I.map(S=>S.catch(O=>O)))}function Or(){return(Or=(0,P.Z)(function*(I,S,O,z,Q,oe){const Me=z[Q];try{if(Me)yield S[Me];else{const Ye=(yield hh(O)).find(ut=>ut.measurementId===Q);Ye&&(yield S[Ye.appId])}}catch(qe){yi.error(qe)}I("config",Q,oe)})).apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(I,S,O,z,Q){try{let oe=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const qe=yield hh(O);for(const Ye of Me){const ut=qe.find(zt=>zt.measurementId===Ye),Ct=ut&&S[ut.appId];if(!Ct){oe=[];break}oe.push(Ct)}}0===oe.length&&(oe=Object.values(S)),yield Promise.all(oe),I("event",z,Q||{})}catch(oe){yi.error(oe)}})).apply(this,arguments)}const il=30,ya=new class mc{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function _c(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function No(){return(No=(0,P.Z)(function*(I){var S;const{appId:O,apiKey:z}=I,Q={method:"GET",headers:_c(z)},oe=bn.replace("{app-id}",O),Me=yield fetch(oe,Q);if(200!==Me.status&&304!==Me.status){let qe="";try{const Ye=yield Me.json();null!==(S=Ye.error)&&void 0!==S&&S.message&&(qe=Ye.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:qe})}return Me.json()})).apply(this,arguments)}function Fo(){return(Fo=(0,P.Z)(function*(I,S=ya,O){const{appId:z,apiKey:Q,measurementId:oe}=I.options;if(!z)throw nr.create("no-app-id");if(!Q){if(oe)return{measurementId:oe,appId:z};throw nr.create("no-api-key")}const Me=S.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new fh;return setTimeout((0,P.Z)(function*(){qe.abort()}),void 0!==O?O:Ns),Xr({appId:z,apiKey:Q,measurementId:oe},Me,qe,S)})).apply(this,arguments)}function Xr(I,S,O){return ba.apply(this,arguments)}function ba(){return ba=(0,P.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:O},z,Q=ya){var oe;const{appId:Me,measurementId:qe}=I;try{yield function wa(I,S){return new Promise((O,z)=>{const Q=Math.max(S-Date.now(),0),oe=setTimeout(O,Q);I.addEventListener(()=>{clearTimeout(oe),z(nr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(z,S)}catch(Ye){if(qe)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:Me,measurementId:qe};throw Ye}try{const Ye=yield function va(I){return No.apply(this,arguments)}(I);return Q.deleteThrottleMetadata(Me),Ye}catch(Ye){const ut=Ye;if(!function rl(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ut)){if(Q.deleteThrottleMetadata(Me),qe)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Me,measurementId:qe};throw Ye}const Ct=503===Number(null===(oe=ut?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,ae.$s)(O,Q.intervalMillis,il):(0,ae.$s)(O,Q.intervalMillis),zt={throttleEndTimeMillis:Date.now()+Ct,backoffCount:O+1};return Q.setThrottleMetadata(Me,zt),yi.debug(`Calling attemptFetch again in ${Ct} millis`),Xr(I,zt,z,Q)}}),ba.apply(this,arguments)}class fh{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let no,Bo;function fs(){return(fs=(0,P.Z)(function*(I,S,O,z,Q){if(Q&&Q.global)I("event",O,z);else{const oe=yield S;I("event",O,Object.assign(Object.assign({},z),{send_to:oe}))}})).apply(this,arguments)}function al(){return(al=(0,P.Z)(function*(){if(!(0,ae.hl)())return yi.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(I){return yi.warn(nr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function ll(){return ll=(0,P.Z)(function*(I,S,O,z,Q,oe,Me){var qe;const Ye=function On(I){return Fo.apply(this,arguments)}(I);Ye.then(Yn=>{O[Yn.measurementId]=Yn.appId,I.options.measurementId&&Yn.measurementId!==I.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>yi.error(Yn)),S.push(Ye);const ut=function gh(){return al.apply(this,arguments)}().then(Yn=>{if(Yn)return z.getId()}),[Ct,zt]=yield Promise.all([Ye,ut]);(function o_(I){const S=window.document.getElementsByTagName("script");for(const O of Object.values(S))if(O.src&&O.src.includes(nl)&&O.src.includes(I))return O;return null})(oe)||function ga(I,S){const O=function gc(I,S){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(I,S)),O}("firebase-js-sdk-policy",{createScriptURL:s_}),z=document.createElement("script"),Q=`${nl}?l=${I}&id=${S}`;z.src=O?O?.createScriptURL(Q):Q,z.async=!0,document.head.appendChild(z)}(oe,Ct.measurementId),Bo&&(Q("consent","default",Bo),function ro(I){Bo=I}(void 0)),Q("js",new Date);const on=null!==(qe=Me?.config)&&void 0!==qe?qe:{};return on[qi]="firebase",on.update=!0,null!=zt&&(on[Dp]=zt),Q("config",Ct.measurementId,on),no&&(Q("set",no),function Ea(I){no=I}(void 0)),Ct.measurementId}),ll.apply(this,arguments)}class Bu{constructor(S){this.app=S}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},cl=[];const gs={};let ul,Ki,Ca="dataLayer",vc="gtag",bc=!1;function zu(I,S,O){!function wc(){const I=[];if((0,ae.ru)()&&I.push("This is a browser extension environment."),(0,ae.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((z,Q)=>`(${Q+1}) ${z}`).join(" "),O=nr.create("invalid-analytics-context",{errorInfo:S});yi.warn(O.message)}}();const z=I.options.appId;if(!z)throw nr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw nr.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[z])throw nr.create("already-exists",{id:z});if(!bc){!function Po(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Ca);const{wrappedGtag:oe,gtagCore:Me}=function Uu(I,S,O,z,Q){let oe=function(...Me){window[z].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(oe=window[Q]),window[Q]=function _a(I,S,O,z){function oe(){return oe=(0,P.Z)(function*(Me,qe,Ye){try{"event"===Me?yield function Vu(I,S,O,z,Q){return Rr.apply(this,arguments)}(I,S,O,qe,Ye):"config"===Me?yield function ma(I,S,O,z,Q,oe){return Or.apply(this,arguments)}(I,S,O,z,qe,Ye):"consent"===Me?I("consent","update",Ye):I("set",qe)}catch(ut){yi.error(ut)}}),oe.apply(this,arguments)}return function Q(Me,qe,Ye){return oe.apply(this,arguments)}}(oe,I,S,O),{gtagCore:oe,wrappedGtag:window[Q]}}(kr,cl,gs,Ca,vc);Ki=oe,ul=Me,bc=!0}return kr[z]=function yc(I,S,O,z,Q,oe,Me){return ll.apply(this,arguments)}(I,cl,gs,S,ul,Ca,O),new Bu(I)}function so(){return oo.apply(this,arguments)}function oo(){return(oo=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Ec="@firebase/analytics";!function Dc(){(0,re._registerComponent)(new te.wA(Lu,(S,{options:O})=>zu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,re._registerComponent)(new te.wA("analytics-internal",function I(S){try{const O=S.getProvider(Lu).getImmediate();return{logEvent:(z,Q,oe)=>function Fs(I,S,O,z){I=(0,ae.m9)(I),function sl(I,S,O,z,Q){return fs.apply(this,arguments)}(Ki,kr[I.app.options.appId],S,O,z).catch(Q=>yi.error(Q))}(O,z,Q,oe)}}catch(O){throw nr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,re.registerVersion)(Ec,"0.9.5"),(0,re.registerVersion)(Ec,"0.9.5","esm2017")}();var l_=V(4408),c_=V(7565);const lo=new class $u extends c_.v{}(class mh extends l_.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(S,O,z):(S.flush(this),0)}});var u_=V(4986),Kn=V(8505),Gu=V(9468),Pr=V(5363);const Zu=new c.GfV("7.5.0"),ir="__angularfire_symbol__analyticsIsSupportedValue",Ls="__angularfire_symbol__analyticsIsSupported",Ic="__angularfire_symbol__remoteConfigIsSupportedValue",co="__angularfire_symbol__remoteConfigIsSupported",uo="__angularfire_symbol__messagingIsSupportedValue",qu="__angularfire_symbol__messagingIsSupported";function fn(I,S,O){if(S){if(1===S.length)return S[0];const oe=S.filter(Me=>Me.app===O);if(1===oe.length)return oe[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ls]||(globalThis[Ls]=so().then(I=>globalThis[ir]=I).catch(()=>globalThis[ir]=!1)),globalThis[qu]||(globalThis[qu]=Nu().then(I=>globalThis[uo]=I).catch(()=>globalThis[uo]=!1)),globalThis[co]||(globalThis[co]=Kr().then(I=>globalThis[Ic]=I).catch(()=>globalThis[Ic]=!1));const Rn=(I,S)=>{const O=S?[S]:(0,H.C6)(),z=[];return O.forEach(Q=>{Q.container.getProvider(I).instances.forEach(Me=>{z.includes(Me)||z.push(Me)})}),z};function ho(){}class Sc{constructor(S,O=lo){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,z){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{S.apply(this,[Me])})},O,z)}}class Sa{constructor(S){this.zone=S,this.task=null}call(S,O){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ho,{},ho,ho)),O.pipe((0,Kn.b)({next:z,complete:z,error:z})).subscribe(S).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yh=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Sc(Zone.current)),this.insideAngular=O.run(()=>new Sc(Zone.current,u_.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Vs(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ho(I){return Vs(),function Ta(I){return function(O){return(O=O.lift(new Sa(I.ngZone))).pipe((0,Gu.R)(I.outsideAngular),(0,Pr.Q)(I.insideAngular))}}(Vs())(I)}},3432:(_t,Ie,V)=>{V.d(Ie,{$:()=>tc,A:()=>W,C:()=>Ae,H:()=>Kl,I:()=>tr,K:()=>jt,M:()=>Gn,N:()=>oa,P:()=>Gu,Q:()=>_p,R:()=>Fs,U:()=>Tu,V:()=>yp,W:()=>xo,X:()=>Yr,Y:()=>Qs,Z:()=>Mu,_:()=>ec,a:()=>mc,a0:()=>Vn,a1:()=>nc,a2:()=>Ou,a3:()=>Ka,a4:()=>Bt,a5:()=>rc,a6:()=>oc,a7:()=>Ru,a8:()=>Un,a9:()=>Re,aA:()=>Bs,aB:()=>Ge,aC:()=>G,aD:()=>Ct,aE:()=>Ho,aF:()=>ft,aG:()=>Di,aK:()=>va,aN:()=>aa,aa:()=>ku,ab:()=>lh,ac:()=>xr,ad:()=>Xa,ae:()=>Pu,ah:()=>cc,ai:()=>Qr,aj:()=>el,am:()=>hr,an:()=>Fu,ap:()=>yi,aq:()=>ma,ar:()=>ve,as:()=>rn,at:()=>lt,au:()=>Ne,av:()=>hl,aw:()=>dl,ax:()=>Ot,ay:()=>Oe,az:()=>J,b:()=>il,c:()=>_h,d:()=>fn,e:()=>$b,f:()=>$o,g:()=>oe,h:()=>O,i:()=>yc,j:()=>Ye,k:()=>kp,l:()=>l_,m:()=>Pp,p:()=>he,r:()=>c_,s:()=>Cc,u:()=>u_});var c=V(5861),H=V(2090),P=V(9681),re=V(1877),ae=V(655),te=V(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new re.Yd("@firebase/auth");function De(b,...g){Se.logLevel<=re.in.ERROR&&Se.error(`Auth (${P.SDK_VERSION}): ${b}`,...g)}function Ne(b,...g){throw Ze(b,...g)}function Oe(b,...g){return Ze(b,...g)}function Fe(b,g,m){const w=Object.assign(Object.assign({},We()),{[g]:m});return new H.LL("auth","Firebase",w).create(g,{appName:b.name})}function Te(b,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ne(b,"argument-error"),Fe(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(b,...g){if("string"!=typeof b){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(m,...w)}return ct.create(b,...g)}function J(b,g,...m){if(!b)throw Ze(g,...m)}function ce(b){const g="INTERNAL ASSERTION FAILED: "+b;throw De(g),new Error(g)}function ve(b,g){b||ce(g)}const Ke=new Map;function Ge(b){ve(b instanceof Function,"Expected a class definition");let g=Ke.get(b);return g?(ve(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Ke.set(b,g),g)}function le(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function pe(){return"http:"===be()||"https:"===be()}function be(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Be{constructor(g,m){this.shortDelay=g,this.longDelay=m,ve(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pe()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function it(b,g){ve(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Xe{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new Be(3e4,6e4);function yt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function rt(b,g,m,w){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(b,g,m,w,x={}){return zn(b,x,(0,c.Z)(function*(){let L={},ie={};w&&("GET"===g?ie=w:L={body:JSON.stringify(w)});const xe=(0,H.xO)(Object.assign({key:b.config.apiKey},ie)).slice(1),Qe=yield b._getAdditionalHeaders();return Qe["Content-Type"]="application/json",b.languageCode&&(Qe["X-Firebase-Locale"]=b.languageCode),Xe.fetch()(ji(b,b.config.apiHost,m,xe),Object.assign({method:g,headers:Qe,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function zn(b,g,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(b,g,m){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},pn),g);try{const x=new Hr(b),L=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const ie=yield L.json();if("needConfirmation"in ie)throw jn(b,"account-exists-with-different-credential",ie);if(L.ok&&!("errorMessage"in ie))return ie;{const xe=L.ok?ie.errorMessage:ie.error.message,[Qe,wt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw jn(b,"credential-already-in-use",ie);if("EMAIL_EXISTS"===Qe)throw jn(b,"email-already-in-use",ie);if("USER_DISABLED"===Qe)throw jn(b,"user-disabled",ie);const Kt=w[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Fe(b,Kt,wt);Ne(b,Kt)}}catch(x){if(x instanceof H.ZR)throw x;Ne(b,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function gn(b,g,m,w){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(b,g,m,w,x={}){const L=yield rt(b,g,m,w,x);return"mfaPendingCredential"in L&&Ne(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function ji(b,g,m,w){const x=`${g}${m}?${w}`;return b.config.emulator?it(b.config,x):`${b.config.apiScheme}://${x}`}class Hr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Oe(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(b,g,m){const w={appName:b.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=Oe(b,g,w);return x.customData._tokenResponse=m,x}function ur(){return(ur=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ei(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function er(){return(er=(0,c.Z)(function*(b,g=!1){const m=(0,H.m9)(b),w=yield m.getIdToken(g),x=vt(w);J(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,ie=L?.sign_in_provider;return{claims:x,token:w,authTime:Ei(Ut(x.auth_time)),issuedAtTime:Ei(Ut(x.iat)),expirationTime:Ei(Ut(x.exp)),signInProvider:ie||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(b){return 1e3*Number(b)}function vt(b){const[g,m,w]=b.split(".");if(void 0===g||void 0===m||void 0===w)return De("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,H.tV)(m);return x?JSON.parse(x):(De("Failed to decode base64 JWT payload"),null)}catch(x){return De("Caught error parsing JWT payload as JSON",x?.toString()),null}}function xn(b,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(b,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof H.ZR&&function Jn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class Ci{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class ci{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(b){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,c.Z)(function*(b){var g;const m=b.auth,w=yield b.getIdToken(),x=yield xn(b,function at(b,g){return wi.apply(this,arguments)}(m,{idToken:w}));J(x?.users.length,m,"internal-error");const L=x.users[0];b._notifyReloadListener(L);const ie=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?function $n(b){return b.map(g=>{var{providerId:m}=g,w=(0,ae._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(L.providerUserInfo):[],xe=function Hi(b,g){return[...b.filter(w=>!g.some(x=>x.providerId===w.providerId)),...g]}(b.providerData,ie),Kt=!!b.isAnonymous&&!(b.email&&L.passwordHash||xe?.length),Bn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:xe,metadata:new ci(L.createdAt,L.lastLoginAt),isAnonymous:Kt};Object.assign(b,Bn)}),Gt.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(b){const g=(0,H.m9)(b);yield Tr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ce(){return(Ce=(0,c.Z)(function*(b,g){const m=yield zn(b,{},(0,c.Z)(function*(){const w=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:L}=b.config,ie=ji(b,x,"/v1/token",`key=${L}`),xe=yield b._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",Xe.fetch()(ie,{method:"POST",headers:xe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){J(g.idToken,"internal-error"),J(typeof g.idToken<"u","internal-error"),J(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ft(b){const g=vt(b);return J(g,"internal-error"),J(typeof g.exp<"u","internal-error"),J(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,c.Z)(function*(){return J(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:ie}=yield function He(b,g){return Ce.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(x,L,Number(ie))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:x,expirationTime:L}=m,ie=new st;return w&&(J("string"==typeof w,"internal-error",{appName:g}),ie.refreshToken=w),x&&(J("string"==typeof x,"internal-error",{appName:g}),ie.accessToken=x),L&&(J("number"==typeof L,"internal-error",{appName:g}),ie.expirationTime=L),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return ce("not implemented")}}function It(b,g){J("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Pt{constructor(g){var{uid:m,auth:w,stsTokenManager:x}=g,L=(0,ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new ci(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const w=yield xn(m,m.stsTokenManager.getToken(m.auth,g));return J(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function Hn(b){return er.apply(this,arguments)}(this,g)}reload(){return function Ar(b){return Qt.apply(this,arguments)}(this)}_assign(g){this!==g&&(J(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new Pt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,c.Z)(function*(){let x=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield Tr(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield xn(g,function cr(b,g){return ur.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,x,L,ie,xe,Qe,wt,Kt;const Bn=null!==(w=m.displayName)&&void 0!==w?w:void 0,_s=null!==(x=m.email)&&void 0!==x?x:void 0,Aa=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,Sh=null!==(ie=m.photoURL)&&void 0!==ie?ie:void 0,__=null!==(xe=m.tenantId)&&void 0!==xe?xe:void 0,Lp=null!==(Qe=m._redirectEventId)&&void 0!==Qe?Qe:void 0,Vp=null!==(wt=m.createdAt)&&void 0!==wt?wt:void 0,Up=null!==(Kt=m.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:xc,emailVerified:td,isAnonymous:Bp,providerData:Oc,stsTokenManager:zp}=m;J(xc&&zp,g,"internal-error");const jp=st.fromJSON(this.name,zp);J("string"==typeof xc,g,"internal-error"),It(Bn,g.name),It(_s,g.name),J("boolean"==typeof td,g,"internal-error"),J("boolean"==typeof Bp,g,"internal-error"),It(Aa,g.name),It(Sh,g.name),It(__,g.name),It(Lp,g.name),It(Vp,g.name),It(Up,g.name);const pl=new Pt({uid:xc,auth:g,email:_s,emailVerified:td,displayName:Bn,isAnonymous:Bp,photoURL:Sh,phoneNumber:Aa,tenantId:__,stsTokenManager:jp,createdAt:Vp,lastLoginAt:Up});return Oc&&Array.isArray(Oc)&&(pl.providerData=Oc.map(Hp=>Object.assign({},Hp))),Lp&&(pl._redirectEventId=Lp),pl}static _fromIdTokenResponse(g,m,w=!1){return(0,c.Z)(function*(){const x=new st;x.updateFromServerResponse(m);const L=new Pt({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:w});return yield Tr(L),L})()}}const Gn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,c.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return b.type="NONE",b})();function G(b,g,m){return`firebase:${b}:${g}:${m}`}class ${constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:x,name:L}=this.auth;this.fullUserKey=G(this.userKey,x.apiKey,L),this.fullPersistenceKey=G("persistence",x.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Pt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new $(Ge(Gn),g,w);const x=(yield Promise.all(m.map(function(){var wt=(0,c.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let L=x[0]||Ge(Gn);const ie=G(w,g.config.apiKey,g.name);let xe=null;for(const wt of m)try{const Kt=yield wt._get(ie);if(Kt){const Bn=Pt._fromJSON(g,Kt);wt!==L&&(xe=Bn),L=wt;break}}catch{}const Qe=x.filter(wt=>wt._shouldAllowMigration);return L._shouldAllowMigration&&Qe.length?(L=Qe[0],xe&&(yield L._set(ie,xe.toJSON())),yield Promise.all(m.map(function(){var wt=(0,c.Z)(function*(Kt){if(Kt!==L)try{yield Kt._remove(ie)}catch{}});return function(Kt){return wt.apply(this,arguments)}}())),new $(L,g,w)):new $(L,g,w)})()}}function N(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ue(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(F(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(xt(g))return"Blackberry";if(Nt(g))return"Webos";if(k(g))return"Safari";if((g.includes("chrome/")||ee(g))&&!g.includes("edge/"))return"Chrome";if(lt(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function F(b=(0,H.z$)()){return/firefox\//i.test(b)}function k(b=(0,H.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ee(b=(0,H.z$)()){return/crios\//i.test(b)}function ue(b=(0,H.z$)()){return/iemobile/i.test(b)}function lt(b=(0,H.z$)()){return/android/i.test(b)}function xt(b=(0,H.z$)()){return/blackberry/i.test(b)}function Nt(b=(0,H.z$)()){return/webos/i.test(b)}function rn(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ot(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function $i(b=(0,H.z$)()){return rn(b)||lt(b)||Nt(b)||xt(b)||/windows phone/i.test(b)||ue(b)}function za(b,g=[]){let m;switch(b){case"Browser":m=N((0,H.z$)());break;case"Worker":m=`${N((0,H.z$)())}-${b}`;break;default:m=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${w}`}class Wl{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=L=>new Promise((ie,xe)=>{try{ie(g(L))}catch(Qe){xe(Qe)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===g)return;const w=[];try{for(const x of m.queue)yield x(g),x.onAbort&&w.push(x.onAbort)}catch(x){w.reverse();for(const L of w)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class ja{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ia(this),this.idTokenSubscription=new ia(this),this.beforeStateQueue=new Wl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=Ge(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,L;if(!w._deleted&&(w.persistenceManager=yield $.create(w,g),!w._deleted)){if(null!==(x=w._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let L=x,ie=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const xe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Qe=L?._redirectEventId,wt=yield m.tryRedirectSignIn(g);(!xe||xe===Qe)&&wt?.user&&(L=wt.user,ie=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(ie)try{yield m.beforeStateQueue.runMiddleware(L)}catch(xe){L=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(xe))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return J(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){try{yield Tr(g)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const w=g?(0,H.m9)(g):null;return w&&J(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return g&&J(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Ge(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,c.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&Ge(g)||m._popupRedirectResolver;J(w,m,"argument-error"),m.redirectPersistenceManager=yield $.create(m,[Ge(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,x){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return J(ie,this,"internal-error"),ie.then(()=>L(this.currentUser)),"function"==typeof m?g.addObserver(m,w,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function Di(b){return(0,H.m9)(b)}class ia{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kl(b,g,m){const w=Di(b);J(w._canInitEmulator,w,"emulator-config-failed"),J(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const x=!!m?.disableWarnings,L=Yl(g),{host:ie,port:xe}=function hn(b){const g=Yl(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const L=x[1];return{host:L,port:Zn(w.substr(L.length+1))}}{const[L,ie]=w.split(":");return{host:L,port:Zn(ie)}}}(g);w.config.emulator={url:`${L}//${ie}${null===xe?"":`:${xe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ie,port:xe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Ii(){function b(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Yl(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Zn(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class tr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ce("not implemented")}_getIdTokenResponse(g){return ce("not implemented")}_linkToIdToken(g,m){return ce("not implemented")}_getReauthenticationResolver(g){return ce("not implemented")}}function Gi(b,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:resetPassword",yt(b,g))})).apply(this,arguments)}function Ha(b,g){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",yt(b,g))})).apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithPassword",yt(b,g))})).apply(this,arguments)}function Zi(b,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:sendOobCode",yt(b,g))})).apply(this,arguments)}function cs(){return(cs=(0,c.Z)(function*(b,g){return Zi(b,g)})).apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(b,g){return Zi(b,g)})).apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(b,g){return Zi(b,g)})).apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(b,g){return Zi(b,g)})).apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithEmailLink",yt(b,g))})).apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithEmailLink",yt(b,g))})).apply(this,arguments)}class Zr extends tr{constructor(g,m,w,x=null){super("password",w),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new Zr(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new Zr(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function qt(b,g){return Cn.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ra(b,g){return Ys.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Ha(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Pi(b,g){return xs.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ei(b,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithIdp",yt(b,g))})).apply(this,arguments)}class jt extends tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new jt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ne("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x}=m,L=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const ie=new jt(w,x);return ie.idToken=L.idToken||void 0,ie.accessToken=L.accessToken||void 0,ie.secret=L.secret,ie.nonce=L.nonce,ie.pendingToken=L.pendingToken||null,ie}_getIdTokenResponse(g){return ei(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,ei(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ei(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,H.xO)(m)}return g}}function sa(){return(sa=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:sendVerificationCode",yt(b,g))})).apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,g))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(b,g){const m=yield gn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,g));if(m.temporaryProof)throw jn(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ni={USER_NOT_FOUND:"user-not-found"};function Fi(){return(Fi=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",yt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ni)})).apply(this,arguments)}class mi extends tr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new mi({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new mi({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Su(b,g){return us.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function qr(b,g){return Os.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function mp(b,g){return Fi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:L}=g;return w||m||x||L?new mi({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:L}):null}}class Wr{constructor(g){var m,w,x,L,ie,xe;const Qe=(0,H.zd)((0,H.pd)(g)),wt=null!==(m=Qe.apiKey)&&void 0!==m?m:null,Kt=null!==(w=Qe.oobCode)&&void 0!==w?w:null,Bn=function Xl(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Qe.mode)&&void 0!==x?x:null);J(wt&&Kt&&Bn,"argument-error"),this.apiKey=wt,this.operation=Bn,this.code=Kt,this.continueUrl=null!==(L=Qe.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ie=Qe.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(xe=Qe.tenantId)&&void 0!==xe?xe:null}static parseLink(g){const m=function Ga(b){const g=(0,H.zd)((0,H.pd)(b)).link,m=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,w=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(w?(0,H.zd)((0,H.pd)(w)).link:null)||w||m||g||b}(g);try{return new Wr(m)}catch{return null}}}let oa=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,w){return Zr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=Wr.parseLink(w);return J(x,"argument-error"),Zr._fromEmailAndCode(m,x.code,x.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Rs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Mo extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class xo extends Mo{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return J("providerId"in m&&"signInMethod"in m,"argument-error"),jt._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return J(g.idToken||g.accessToken,"argument-error"),jt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return xo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return xo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:L,nonce:ie,providerId:xe}=g;if(!w&&!x&&!m&&!L||!xe)return null;try{return new xo(xe)._credential({idToken:m,accessToken:w,nonce:ie,pendingToken:L})}catch{return null}}}let _p=(()=>{class b extends Mo{constructor(){super("facebook.com")}static credential(m){return jt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Tu=(()=>{class b extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return jt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return b.credential(w,x)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),yp=(()=>{class b extends Mo{constructor(){super("github.com")}static credential(m){return jt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class aa extends tr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return ei(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,ei(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ei(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x,pendingToken:L}=m;return w&&x&&L&&w===x?new aa(w,L):null}static _create(g,m){return new aa(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yr extends Rs{constructor(g){J(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Yr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Yr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=aa.fromJSON(g);return J(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return aa._create(w,m)}catch{return null}}}let Qs=(()=>{class b extends Mo{constructor(){super("twitter.com")}static credential(m,w){return jt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return b.credential(w,x)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function bp(b,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signUp",yt(b,g))})).apply(this,arguments)}class dr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,x=!1){return(0,c.Z)(function*(){const L=yield Pt._fromIdTokenResponse(g,w,x),ie=Au(w);return new dr({user:L,providerId:ie,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const x=Au(w);return new dr({user:g,providerId:x,_tokenResponse:w,operationType:m})})()}}function Au(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Mu(b){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(b){var g;const m=Di(b);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new dr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield bp(m,{returnSecureToken:!0}),x=yield dr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Za extends H.ZR{constructor(g,m,w,x){var L;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Za.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,x){return new Za(g,m,w,x)}}function xu(b,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Za._fromErrorAndOperation(b,L,g,w):L})}function wp(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function hr(b,g){return qa.apply(this,arguments)}function qa(){return qa=(0,c.Z)(function*(b,g){const m=(0,H.m9)(b);yield Js(!0,m,g);const{providerUserInfo:w}=yield function Sn(b,g){return gi.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=wp(w||[]);return m.providerData=m.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),qa.apply(this,arguments)}function Xs(b,g){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(b,g,m=!1){const w=yield xn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),m);return dr._forOperation(b,"link",w)})).apply(this,arguments)}function Js(b,g,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(b,g,m){yield Tr(g);const x=!1===b?"provider-already-linked":"no-such-provider";J(wp(g.providerData).has(m)===b,g.auth,x)})).apply(this,arguments)}function Wa(b,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(b,g,m=!1){const{auth:w}=b,x="reauthenticate";try{const L=yield xn(b,xu(w,x,g,b),m);J(L.idToken,w,"internal-error");const ie=vt(L.idToken);J(ie,w,"internal-error");const{sub:xe}=ie;return J(b.uid===xe,w,"user-mismatch"),dr._forOperation(b,x,L)}catch(L){throw"auth/user-not-found"===L?.code&&Ne(w,"user-mismatch"),L}})).apply(this,arguments)}function Jl(b,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(b,g,m=!1){const w="signIn",x=yield xu(b,w,g),L=yield dr._fromIdTokenResponse(b,w,x);return m||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function ec(b,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(b,g){return Jl(Di(b),g)})).apply(this,arguments)}function tc(b,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(b,g){const m=(0,H.m9)(b);return yield Js(!1,m,g.providerId),Xs(m,g)})).apply(this,arguments)}function Vn(b,g){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(b,g){return Wa((0,H.m9)(b),g)})).apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(b,g){return gn(b,"POST","/v1/accounts:signInWithCustomToken",yt(b,g))})).apply(this,arguments)}function nc(b,g){return ha.apply(this,arguments)}function ha(){return ha=(0,c.Z)(function*(b,g){const m=Di(b),w=yield function ks(b,g){return _i.apply(this,arguments)}(m,{token:g,returnSecureToken:!0}),x=yield dr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x}),ha.apply(this,arguments)}class fr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Ti._fromServerResponse(g,m):"totpInfo"in m?ic._fromServerResponse(g,m):Ne(g,"internal-error")}}class Ti extends fr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Ti(m)}}class ic extends fr{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new ic(m)}}function eo(b,g,m){var w;J((null===(w=m.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),J(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(J(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(J(m.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ou(b,g,m){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b),x={requestType:"PASSWORD_RESET",email:g};m&&eo(w,x,m),yield function Ln(b,g){return Gr.apply(this,arguments)}(w,x)}),Mr.apply(this,arguments)}function Ka(b,g,m){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(b,g,m){yield Gi((0,H.m9)(b),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Bt(b,g){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,c.Z)(function*(b,g){yield function $r(b,g){return Je.apply(this,arguments)}((0,H.m9)(b),{oobCode:g})}),Ya.apply(this,arguments)}function rc(b,g){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(b,g){const m=(0,H.m9)(b),w=yield Gi(m,{oobCode:g}),x=w.requestType;switch(J(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(w.mfaInfo,m,"internal-error");default:J(w.email,m,"internal-error")}let L=null;return w.mfaInfo&&(L=fr._fromServerResponse(Di(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function oc(b,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(b,g){const{data:m}=yield rc((0,H.m9)(b),g);return m.email})).apply(this,arguments)}function Ru(b,g,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(b,g,m){const w=Di(b),x=yield bp(w,{returnSecureToken:!0,email:g,password:m}),L=yield dr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function Un(b,g,m){return ec((0,H.m9)(b),oa.credential(g,m))}function Re(b,g,m){return cn.apply(this,arguments)}function cn(){return cn=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b),x={requestType:"EMAIL_SIGNIN",email:g};J(m.handleCodeInApp,w,"argument-error"),m&&eo(w,x,m),yield function Ql(b,g){return $t.apply(this,arguments)}(w,x)}),cn.apply(this,arguments)}function ku(b,g){return"EMAIL_SIGNIN"===Wr.parseLink(g)?.operation}function lh(b,g,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b),x=oa.credentialWithLink(g,m||le());return J(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ec(w,x)})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:createAuthUri",yt(b,g))})).apply(this,arguments)}function xr(b,g){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,c.Z)(function*(b,g){const w={identifier:g,continueUri:pe()?le():"http://localhost"},{signinMethods:x}=yield function ch(b,g){return Ps.apply(this,arguments)}((0,H.m9)(b),w);return x||[]}),Qa.apply(this,arguments)}function Xa(b,g){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,c.Z)(function*(b,g){const m=(0,H.m9)(b),x={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&eo(m.auth,x,g);const{email:L}=yield function qn(b,g){return cs.apply(this,arguments)}(m.auth,x);L!==b.email&&(yield b.reload())}),Ja.apply(this,arguments)}function Pu(b,g,m){return pa.apply(this,arguments)}function pa(){return pa=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};m&&eo(w.auth,L,m);const{email:ie}=yield function $a(b,g){return Ms.apply(this,arguments)}(w.auth,L);ie!==b.email&&(yield b.reload())}),pa.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(b,g){return rt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cc(b,g){return to.apply(this,arguments)}function to(){return to=(0,c.Z)(function*(b,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,H.m9)(b),L={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ie=yield xn(w,function ti(b,g){return Li.apply(this,arguments)}(w.auth,L));w.displayName=ie.displayName||null,w.photoURL=ie.photoUrl||null;const xe=w.providerData.find(({providerId:Qe})=>"password"===Qe);xe&&(xe.displayName=w.displayName,xe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ie)}),to.apply(this,arguments)}function Qr(b,g){return uc((0,H.m9)(b),g,null)}function el(b,g){return uc((0,H.m9)(b),null,g)}function uc(b,g,m){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(b,g,m){const{auth:w}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(L.email=g),m&&(L.password=m);const ie=yield xn(b,Ha(w,L));yield b._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class hs{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class hc extends hs{constructor(g,m,w,x){super(g,m,w),this.username=x}}class Nu extends hs{constructor(g,m){super(g,"facebook.com",m)}}class tl extends hc{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ep extends hs{constructor(g,m){super(g,"google.com",m)}}class fc extends hc{constructor(g,m,w){super(g,"twitter.com",m,w)}}function Fu(b){const{user:g,_tokenResponse:m}=b;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function uh(b){var g,m;if(!b)return null;const{providerId:w}=b,x=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const ie=null===(m=null===(g=vt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ie)return new hs(L,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!w)return null;switch(w){case"facebook.com":return new Nu(L,x);case"github.com":return new tl(L,x);case"google.com":return new Ep(L,x);case"twitter.com":return new fc(L,x,b.screenName||null);case"custom":case"anonymous":return new hs(L,null);default:return new hs(L,w,x)}}(m)}class bn{constructor(g,m,w){this.type=g,this.credential=m,this.auth=w}static _fromIdtoken(g,m){return new bn("enroll",g,m)}static _fromMfaPendingCredential(g){return new bn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return bn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return bn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class nl{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=Di(g),x=m.customData._serverResponse,L=(x.mfaInfo||[]).map(xe=>fr._fromServerResponse(w,xe));J(x.mfaPendingCredential,w,"internal-error");const ie=bn._fromMfaPendingCredential(x.mfaPendingCredential);return new nl(ie,L,function(){var xe=(0,c.Z)(function*(Qe){const wt=yield Qe._process(w,ie);delete x.mfaInfo,delete x.mfaPendingCredential;const Kt=Object.assign(Object.assign({},x),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(m.operationType){case"signIn":const Bn=yield dr._fromIdTokenResponse(w,m.operationType,Kt);return yield w._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return J(m.user,w,"internal-error"),dr._forOperation(m.user,m.operationType,Kt);default:Ne(w,"internal-error")}});return function(Qe){return xe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function yi(b,g){var m;const w=(0,H.m9)(b),x=g;return J(g.customData.operationType,w,"argument-error"),J(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),nl._fromError(w,x)}class ga{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>fr._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new ga(g)}getSession(){var g=this;return(0,c.Z)(function*(){return bn._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var w=this;return(0,c.Z)(function*(){const x=g,L=yield w.getSession(),ie=yield xn(w.user,x._process(w.user.auth,L,m));return yield w.user._updateTokensIfNecessary(ie),w.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){const w="string"==typeof g?g:g.uid,x=yield m.user.getIdToken();try{const L=yield xn(m.user,function gc(b,g){return rt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(b,g))}(m.user.auth,{idToken:x,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ie})=>ie!==w),yield m.user._updateTokensIfNecessary(L),yield m.user.reload()}catch(L){throw L}})()}}const Po=new WeakMap;function ma(b){const g=(0,H.m9)(b);return Po.has(g)||Po.set(g,ga._fromUser(g)),Po.get(g)}const Or="__sak";class Vu{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Or,"1"),this.storage.removeItem(Or),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class b extends Vu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rr(){const b=(0,H.z$)();return k(b)||rn(b)}()&&function ql(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$i(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),L=this.localCache[w];x!==L&&m(w,L,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((xe,Qe,wt)=>{this.notifyListeners(xe,wt)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(x);if(m.newValue!==xe)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const L=()=>{const xe=this.storage.getItem(x);!w&&this.localCache[x]===xe||this.notifyListeners(x,xe)},ie=this.storage.getItem(x);!function Zt(){return(0,H.w1)()&&10===document.documentMode}()||ie===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,L=this;return(0,c.Z)(function*(){yield x().call(L,m,w),L.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,c.Z)(function*(){const L=yield w().call(x,m);return x.localCache[m]=JSON.stringify(L),L})()}_remove(m){var w=()=>super._remove,x=this;return(0,c.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return b.type="LOCAL",b})(),mc=(()=>{class b extends Vu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return b.type="SESSION",b})();let _c=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(L=>L.isListeningto(m));if(w)return w;const x=new b(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const x=m,{eventId:L,eventType:ie,data:xe}=x.data,Qe=w.handlersMap[ie];if(!Qe?.size)return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:ie});const wt=Array.from(Qe).map(function(){var Bn=(0,c.Z)(function*(_s){return _s(x.origin,xe)});return function(_s){return Bn.apply(this,arguments)}}()),Kt=yield function ya(b){return Promise.all(b.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(wt);x.ports[0].postMessage({status:"done",eventId:L,eventType:ie,response:Kt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function va(b="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return b+m}class No{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var x=this;return(0,c.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ie,xe;return new Promise((Qe,wt)=>{const Kt=va("",20);L.port1.start();const Bn=setTimeout(()=>{wt(new Error("unsupported_event"))},w);xe={messageChannel:L,onMessage(_s){const Aa=_s;if(Aa.data.eventId===Kt)switch(Aa.data.status){case"ack":clearTimeout(Bn),ie=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),Qe(Aa.data.response);break;default:clearTimeout(Bn),clearTimeout(ie),wt(new Error("invalid_response"))}}},x.handlers.add(xe),L.port1.addEventListener("message",xe.onMessage),x.target.postMessage({eventType:g,eventId:Kt,data:m},[L.port2])}).finally(()=>{xe&&x.removeMessageHandler(xe)})})()}}function On(){return window}function Xr(){return typeof On().WorkerGlobalScope<"u"&&"function"==typeof On().importScripts}function wa(){return(wa=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const no="firebaseLocalStorageDb",sl=1,fs="firebaseLocalStorage",ph="fbase_key";class ps{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Lo(b,g){return b.transaction([fs],g?"readwrite":"readonly").objectStore(fs)}function Wi(){const b=indexedDB.open(no,sl);return new Promise((g,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(fs,{keyPath:ph})}catch(x){m(x)}}),b.addEventListener("success",(0,c.Z)(function*(){const w=b.result;w.objectStoreNames.contains(fs)?g(w):(w.close(),yield function Vo(){const b=indexedDB.deleteDatabase(no);return new ps(b).toPromise()}(),g(yield Wi()))}))})}function ol(b,g,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(b,g,m){const w=Lo(b,!0).put({[ph]:g,value:m});return new ps(w).toPromise()})).apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(b,g){const m=Lo(b,!1).get(g),w=yield new ps(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ro(b,g){const m=Lo(b,!0).delete(g);return new ps(m).toPromise()}const yc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Wi()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const L=yield w._openDb();return yield m(L)}catch(L){if(x++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Xr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=_c._getInstance(function fh(){return Xr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(x,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(x,L){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function ba(){return wa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new No(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);L&&null!==(w=L[0])&&void 0!==w&&w.fulfilled&&null!==(x=L[0])&&void 0!==x&&x.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function rl(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Wi();return yield ol(m,Or,"1"),yield ro(m,Or),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(L=>ol(L,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const x=yield w._withRetries(L=>function Uo(b,g){return Bo.apply(this,arguments)}(L,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(x=>ro(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(ie=>{const xe=Lo(ie,!1).getAll();return new ps(xe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:ie,value:xe}of w)L.add(ie),JSON.stringify(m.localCache[ie])!==JSON.stringify(xe)&&(m.notifyListeners(ie,xe),x.push(ie));for(const ie of Object.keys(m.localCache))m.localCache[ie]&&!L.has(ie)&&(m.notifyListeners(ie,null),x.push(ie));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function gs(){return(gs=(0,c.Z)(function*(b){return(yield rt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vc(b){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=x=>{const L=Oe("internal-error");L.customData=x,m(L)},w.type="text/javascript",w.charset="UTF-8",function Ca(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function ul(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Da=1e12;class wc{constructor(g){this.auth=g,this.counter=Da,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new zu(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||Da;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Da))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(g||Da))||void 0===w||w.execute(),""})()}}class zu{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;J(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ju(b){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zo=ul("rcb"),so=new Be(3e4,6e4);class Ia{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=On().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return J(function Sp(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(On().grecaptcha):new Promise((w,x)=>{const L=On().setTimeout(()=>{x(Oe(g,"network-request-failed"))},so.get());On()[zo]=()=>{On().clearTimeout(L),delete On()[zo];const xe=On().grecaptcha;if(!xe)return void x(Oe(g,"internal-error"));const Qe=xe.render;xe.render=(wt,Kt)=>{const Bn=Qe(wt,Kt);return this.counter++,Bn},this.hostLanguage=m,w(xe)},vc(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:zo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),x(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=On().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hu{load(g){return(0,c.Z)(function*(){return new wc(g)})()}clearedOneInstance(){}}const ao="recaptcha",Tp={theme:"light",type:"image"};class Fs{constructor(g,m=Object.assign({},Tp),w){this.parameters=m,this.type=ao,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Di(w),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;J(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hu:new Ia,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(L=>{const ie=xe=>{xe&&(g.tokenChangeListeners.delete(ie),L(xe))};g.tokenChangeListeners.add(ie),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=On()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){J(pe()&&!Xr(),g.auth,"internal-error"),yield function An(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function cl(b){return gs.apply(this,arguments)}(g.auth);J(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ec{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=mi._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Cc(b,g,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(b,g,m){const w=Di(b),x=yield lo(w,g,(0,H.m9)(m));return new Ec(x,L=>ec(w,L))})).apply(this,arguments)}function l_(b,g,m){return mh.apply(this,arguments)}function mh(){return(mh=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b);yield Js(!1,w,"phone");const x=yield lo(w.auth,g,(0,H.m9)(m));return new Ec(x,L=>tc(w,L))})).apply(this,arguments)}function c_(b,g,m){return $u.apply(this,arguments)}function $u(){return($u=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b),x=yield lo(w.auth,g,(0,H.m9)(m));return new Ec(x,L=>Vn(w,L))})).apply(this,arguments)}function lo(b,g,m){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,c.Z)(function*(b,g,m){var w;const x=yield m.verify();try{let L;if(J("string"==typeof x,b,"argument-error"),J(m.type===ao,b,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const ie=L.session;if("phoneNumber"in L)return J("enroll"===ie.type,b,"internal-error"),(yield function Ip(b,g){return rt(b,"POST","/v2/accounts/mfaEnrollment:start",yt(b,g))}(b,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{J("signin"===ie.type,b,"internal-error");const xe=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return J(xe,b,"missing-multi-factor-info"),(yield function ll(b,g){return rt(b,"POST","/v2/accounts/mfaSignIn:start",yt(b,g))}(b,{mfaPendingCredential:ie.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield function gp(b,g){return sa.apply(this,arguments)}(b,{phoneNumber:L.phoneNumber,recaptchaToken:x});return ie}}finally{m._reset()}}),Ap.apply(this,arguments)}function u_(b,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(b,g){yield Xs((0,H.m9)(b),g)})).apply(this,arguments)}let Gu=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=Di(m)}verifyPhoneNumber(m,w){return lo(this.auth,m,(0,H.m9)(w))}static credential(m,w){return mi._fromVerification(m,w)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?mi._fromTokenResponse(w,x):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Pr(b,g){return g?Ge(g):(J(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Zu extends tr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ei(g,this._buildIdpRequest())}_linkToIdToken(g,m){return ei(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return ei(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function ir(b){return Jl(b.auth,new Zu(b),b.bypassAuthState)}function Ls(b){const{auth:g,user:m}=b;return J(m,g,"internal-error"),Wa(m,new Zu(b),b.bypassAuthState)}function Ic(b){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(b){const{auth:g,user:m}=b;return J(m,g,"internal-error"),Xs(m,new Zu(b),b.bypassAuthState)})).apply(this,arguments)}class uo{constructor(g,m,w,x,L=!1){this.auth=g,this.resolver=w,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(w,x){g.pendingPromise={resolve:w,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:L,tenantId:ie,error:xe,type:Qe}=g;if(xe)return void m.reject(xe);const wt={auth:m.auth,requestUri:w,sessionId:x,tenantId:ie||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Qe)(wt))}catch(Kt){m.reject(Kt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ir;case"linkViaPopup":case"linkViaRedirect":return Ic;case"reauthViaPopup":case"reauthViaRedirect":return Ls;default:Ne(this.auth,"internal-error")}}resolve(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qu=new Be(2e3,1e4);function _h(b,g,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(b,g,m){const w=Di(b);Te(b,g,Rs);const x=Pr(w,m);return new ho(w,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function $b(b,g,m){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b);Te(w.auth,g,Rs);const x=Pr(w.auth,m);return new ho(w.auth,"reauthViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}function fn(b,g,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b);Te(w.auth,g,Rs);const x=Pr(w.auth,m);return new ho(w.auth,"linkViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}let ho=(()=>{class b extends uo{constructor(m,w,x,L,ie){super(m,w,L,ie),this.provider=x,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return J(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){ve(1===m.filter.length,"Popup operations only handle one event");const w=va();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Oe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=null!==(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,qu.get())};m()}}return b.currentPopupAction=null,b})();const Sc="pendingRedirect",Sa=new Map;class yh extends uo{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=Sa.get(m.auth._key());if(!w){try{const L=(yield function Vs(b,g){return Tc.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(L)}catch(x){w=()=>Promise.reject(x)}Sa.set(m.auth._key(),w)}return m.bypassAuthState||Sa.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const x=yield w.auth._redirectUserForId(g.eventId);if(x)return w.user=x,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Tc(){return(Tc=(0,c.Z)(function*(b,g){const m=Us(g),w=Ta(b);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function dn(b,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(b,g){return Ta(b)._set(Us(g),"true")})).apply(this,arguments)}function ft(){Sa.clear()}function Ho(b,g){Sa.set(b._key(),g)}function Ta(b){return Ge(b._redirectPersistence)}function Us(b){return G(Sc,b.config.apiKey,b.name)}function $o(b,g,m){return function I(b,g,m){return S.apply(this,arguments)}(b,g,m)}function S(){return(S=(0,c.Z)(function*(b,g,m){const w=Di(b);Te(b,g,Rs),yield w._initializationPromise;const x=Pr(w,m);return yield dn(x,w),x._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function O(b,g,m){return function z(b,g,m){return Q.apply(this,arguments)}(b,g,m)}function Q(){return(Q=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b);Te(w.auth,g,Rs),yield w.auth._initializationPromise;const x=Pr(w.auth,m);yield dn(x,w.auth);const L=yield on(w);return x._openRedirect(w.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function oe(b,g,m){return function Me(b,g,m){return qe.apply(this,arguments)}(b,g,m)}function qe(){return(qe=(0,c.Z)(function*(b,g,m){const w=(0,H.m9)(b);Te(w.auth,g,Rs),yield w.auth._initializationPromise;const x=Pr(w.auth,m);yield Js(!1,w,g.providerId),yield dn(x,w.auth);const L=yield on(w);return x._openRedirect(w.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function Ye(b,g){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(b,g){return yield Di(b)._initializationPromise,Ct(b,g,!1)})).apply(this,arguments)}function Ct(b,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(b,g,m=!1){const w=Di(b),x=Pr(w,g),ie=yield new yh(w,x,m).execute();return ie&&!m&&(delete ie.user._redirectEventId,yield w._persistUserIfCurrent(ie.user),yield w._setRedirectUser(null,g)),ie})).apply(this,arguments)}function on(b){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(b){const g=va(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Bs{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function kn(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sr(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!sr(g)){const x=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Oe(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(g))}saveEventToCache(g){this.cachedEventUids.add(fo(g)),this.lastProcessedEventTime=Date.now()}}function fo(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function sr({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function dl(b){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(b,g={}){return rt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Yu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gb=/^https?/;function xp(){return(xp=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield dl(b);for(const m of g)try{if(d_(m))return}catch{}Ne(b,"unauthorized-domain")})).apply(this,arguments)}function d_(b){const g=le(),{protocol:m,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const ie=new URL(b);return""===ie.hostname&&""===w?"chrome-extension:"===m&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ie.hostname===w}if(!Gb.test(m))return!1;if(Yu.test(b))return w===b;const x=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const h_=new Be(3e4,6e4);function Qu(){const b=On().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let Xu=null;const qb=new Be(5e3,15e3),Wb="__/auth/iframe",Kb="emulator/auth/iframe",Yb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f_(b){const g=b.config;J(g.authDomain,b,"auth-domain-config-required");const m=g.emulator?it(g,Kb):`https://${b.config.authDomain}/${Wb}`,w={apiKey:g.apiKey,appName:b.name,v:P.SDK_VERSION},x=Qb.get(b.config.apiHost);x&&(w.eid=x);const L=b._getFrameworks();return L.length&&(w.fw=L.join(",")),`${m}?${(0,H.xO)(w).slice(1)}`}function Ac(){return Ac=(0,c.Z)(function*(b){const g=yield function vh(b){return Xu=Xu||function Zb(b){return new Promise((g,m)=>{var w,x,L;function ie(){Qu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Qu(),m(Oe(b,"network-request-failed"))},timeout:h_.get()})}if(null!==(x=null===(w=On().gapi)||void 0===w?void 0:w.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(L=On().gapi)||void 0===L||!L.load){const xe=ul("iframefcb");return On()[xe]=()=>{gapi.load?ie():m(Oe(b,"network-request-failed"))},vc(`https://apis.google.com/js/api.js?onload=${xe}`).catch(Qe=>m(Qe))}ie()}}).catch(g=>{throw Xu=null,g})}(b),Xu}(b),m=On().gapi;return J(m,b,"internal-error"),g.open({where:document.body,url:f_(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yb,dontclear:!0},w=>new Promise(function(){var x=(0,c.Z)(function*(L,ie){yield w.restyle({setHideOnLeave:!1});const xe=Oe(b,"network-request-failed"),Qe=On().setTimeout(()=>{ie(xe)},qb.get());function wt(){On().clearTimeout(Qe),L(w)}w.ping(wt).then(wt,()=>{ie(xe)})});return function(L,ie){return x.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const p_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rp=500,g_=600,po="_blank",mt="http://localhost";class zs{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const js="__/auth/handler",vi="emulator/auth/handler";function hl(b,g,m,w,x,L){J(b.config.authDomain,b,"auth-domain-config-required"),J(b.config.apiKey,b,"invalid-api-key");const ie={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:w,v:P.SDK_VERSION,eventId:x};if(g instanceof Rs){g.setDefaultLanguage(b.languageCode),ie.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Qe,wt]of Object.entries(L||{}))ie[Qe]=wt}if(g instanceof Mo){const Qe=g.getScopes().filter(wt=>""!==wt);Qe.length>0&&(ie.scopes=Qe.join(","))}b.tenantId&&(ie.tid=b.tenantId);const xe=ie;for(const Qe of Object.keys(xe))void 0===xe[Qe]&&delete xe[Qe];return`${function bh({config:b}){return b.emulator?it(b,vi):`https://${b.authDomain}/${js}`}(b)}?${(0,H.xO)(xe).slice(1)}`}const Jr="webStorageSupport",kp=class Xb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mc,this._completeRedirectFn=Ct,this._overrideRedirectResult=Ho}_openPopup(g,m,w,x){var L=this;return(0,c.Z)(function*(){var ie;ve(null===(ie=L.eventManagers[g._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const xe=hl(g,m,w,le(),x);return function Yi(b,g,m,w=Rp,x=g_){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),ie=Math.max((window.screen.availWidth-w)/2,0).toString();let xe="";const Qe=Object.assign(Object.assign({},p_),{width:w.toString(),height:x.toString(),top:L,left:ie}),wt=(0,H.z$)().toLowerCase();m&&(xe=ee(wt)?po:m),F(wt)&&(g=g||mt,Qe.scrollbars="yes");const Kt=Object.entries(Qe).reduce((_s,[Aa,Sh])=>`${_s}${Aa}=${Sh},`,"");if(function Tn(b=(0,H.z$)()){var g;return rn(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(wt)&&"_self"!==xe)return function ms(b,g){const m=document.createElement("a");m.href=b,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",xe),new zs(null);const Bn=window.open(g||"",xe,Kt);J(Bn,b,"popup-blocked");try{Bn.focus()}catch{}return new zs(Bn)}(g,xe,va())})()}_openRedirect(g,m,w,x){var L=this;return(0,c.Z)(function*(){return yield L._originValidation(g),function Fo(b){On().location.href=b}(hl(g,m,w,le(),x)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:L}=this.eventManagers[m];return x?Promise.resolve(x):(ve(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const w=yield function Op(b){return Ac.apply(this,arguments)}(g),x=new Bs(g);return w.register("authEvent",L=>(J(L?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=w,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Jr,{type:Jr},x=>{var L;const ie=null===(L=x?.[0])||void 0===L?void 0:L[Jr];void 0!==ie&&m(!!ie),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Mp(b){return xp.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return $i()||k()||rn()}};class pr{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return ce("unexpected MultiFactorSessionType")}}}class Mc extends pr{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Mc(g)}_finalizeEnroll(g,m,w){return function nr(b,g){return rt(b,"POST","/v2/accounts/mfaEnrollment:finalize",yt(b,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bu(b,g){return rt(b,"POST","/v2/accounts/mfaSignIn:finalize",yt(b,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pp=(()=>{class b{constructor(){}static assertion(m){return Mc._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var Eh="@firebase/auth";class Ch{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Dh(b){(0,P._registerComponent)(new te.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:L,authDomain:ie}=w.options;return((xe,Qe)=>{J(L&&!L.includes(":"),"invalid-api-key",{appName:xe.name}),J(!ie?.includes(":"),"argument-error",{appName:xe.name});const wt={apiKey:L,authDomain:ie,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:za(b)},Kt=new ja(xe,Qe,wt);return function nt(b,g){const m=g?.persistence||[],w=(Array.isArray(m)?m:[m]).map(Ge);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(Kt,m),Kt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new te.wA("auth-internal",g=>{const m=Di(g.getProvider("auth").getImmediate());return new Ch(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Eh,"0.22.0",function Fp(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(Eh,"0.22.0","esm2017")}("Browser")},2090:(_t,Ie,V)=>{V.d(Ie,{$s:()=>It,BH:()=>Te,G6:()=>ke,L:()=>ge,LL:()=>Dt,Pz:()=>Fe,Sg:()=>Ze,UG:()=>ve,US:()=>te,ZB:()=>X,ZR:()=>pn,aH:()=>Oe,b$:()=>kt,eu:()=>Be,hl:()=>Ue,jU:()=>Ke,m9:()=>Gn,ne:()=>Ut,pd:()=>Hn,r3:()=>jn,ru:()=>Ge,tV:()=>q,uI:()=>ce,vZ:()=>gi,w1:()=>le,xO:()=>Ei,xb:()=>ur,z$:()=>J,zI:()=>it,zd:()=>Xn});const re=function(G){const $=[];let N=0;for(let F=0;F<G.length;F++){let k=G.charCodeAt(F);k<128?$[N++]=k:k<2048?($[N++]=k>>6|192,$[N++]=63&k|128):55296==(64512&k)&&F+1<G.length&&56320==(64512&G.charCodeAt(F+1))?(k=65536+((1023&k)<<10)+(1023&G.charCodeAt(++F)),$[N++]=k>>18|240,$[N++]=k>>12&63|128,$[N++]=k>>6&63|128,$[N++]=63&k|128):($[N++]=k>>12|224,$[N++]=k>>6&63|128,$[N++]=63&k|128)}return $},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let k=0;k<G.length;k+=3){const ee=G[k],ue=k+1<G.length,lt=ue?G[k+1]:0,xt=k+2<G.length,Nt=xt?G[k+2]:0;let Tn=(15&lt)<<2|Nt>>6,Zt=63&Nt;xt||(Zt=64,ue||(Tn=64)),F.push(N[ee>>2],N[(3&ee)<<4|lt>>4],N[Tn],N[Zt])}return F.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(re(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let N=0,F=0;for(;N<G.length;){const k=G[N++];if(k<128)$[F++]=String.fromCharCode(k);else if(k>191&&k<224){const ee=G[N++];$[F++]=String.fromCharCode((31&k)<<6|63&ee)}else if(k>239&&k<365){const xt=((7&k)<<18|(63&G[N++])<<12|(63&G[N++])<<6|63&G[N++])-65536;$[F++]=String.fromCharCode(55296+(xt>>10)),$[F++]=String.fromCharCode(56320+(1023&xt))}else{const ee=G[N++],ue=G[N++];$[F++]=String.fromCharCode((15&k)<<12|(63&ee)<<6|63&ue)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const N=$?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let k=0;k<G.length;){const ee=N[G.charAt(k++)],lt=k<G.length?N[G.charAt(k)]:0;++k;const Nt=k<G.length?N[G.charAt(k)]:64;++k;const Ot=k<G.length?N[G.charAt(k)]:64;if(++k,null==ee||null==lt||null==Nt||null==Ot)throw new ye;F.push(ee<<2|lt>>4),64!==Nt&&(F.push(lt<<4&240|Nt>>2),64!==Ot&&F.push(Nt<<6&192|Ot))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(G){return function(G){const $=re(G);return te.encodeByteArray($,!0)}(G).replace(/\./g,"")},q=function(G){try{return te.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function X(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const N in $)!$.hasOwnProperty(N)||!je(N)||(G[N]=X(G[N],$[N]));return G}function je(G){return"__proto__"!==G}const Se=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&q(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Oe=()=>{var G;return null===(G=Se())||void 0===G?void 0:G.config},Fe=G=>{var $;return null===($=Se())||void 0===$?void 0:$[`_${G}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,N)=>{this.resolve=$,this.reject=N})}wrapCallback($){return(N,F)=>{N?this.reject(N):this.resolve(F),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(N):$(N,F))}}}function Ze(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=$||"demo-project",k=G.iat||0,ee=G.sub||G.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ue=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:k,exp:k+3600,auth_time:k,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(ue)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function ve(){var G;const $=null===(G=Se())||void 0===G?void 0:G.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function Ge(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function le(){const G=J();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function ke(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((G,$)=>{try{let N=!0;const F="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(F);k.onsuccess=()=>{k.result.close(),N||self.indexedDB.deleteDatabase(F),G(!0)},k.onupgradeneeded=()=>{N=!1},k.onerror=()=>{var ee;$((null===(ee=k.error)||void 0===ee?void 0:ee.message)||"")}}catch(N){$(N)}})}function it(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor($,N,F){super(N),this.code=$,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor($,N,F){this.service=$,this.serviceName=N,this.errors=F}create($,...N){const F=N[0]||{},k=`${this.service}/${$}`,ee=this.errors[$],ue=ee?function yt(G,$){return G.replace(rt,(N,F)=>{const k=$[F];return null!=k?String(k):`<${F}?>`})}(ee,F):"Error";return new pn(k,`${this.serviceName}: ${ue} (${k}).`,F)}}const rt=/\{\$([^}]+)}/g;function jn(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function ur(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function gi(G,$){if(G===$)return!0;const N=Object.keys(G),F=Object.keys($);for(const k of N){if(!F.includes(k))return!1;const ee=G[k],ue=$[k];if(at(ee)&&at(ue)){if(!gi(ee,ue))return!1}else if(ee!==ue)return!1}for(const k of F)if(!N.includes(k))return!1;return!0}function at(G){return null!==G&&"object"==typeof G}function Ei(G){const $=[];for(const[N,F]of Object.entries(G))Array.isArray(F)?F.forEach(k=>{$.push(encodeURIComponent(N)+"="+encodeURIComponent(k))}):$.push(encodeURIComponent(N)+"="+encodeURIComponent(F));return $.length?"&"+$.join("&"):""}function Xn(G){const $={};return G.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[k,ee]=F.split("=");$[decodeURIComponent(k)]=decodeURIComponent(ee)}}),$}function Hn(G){const $=G.indexOf("?");if(!$)return"";const N=G.indexOf("#",$);return G.substring($,N>0?N:void 0)}function Ut(G,$){const N=new vt(G,$);return N.subscribe.bind(N)}class vt{constructor($,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{$(this)}).catch(F=>{this.error(F)})}next($){this.forEachObserver(N=>{N.next($)})}error($){this.forEachObserver(N=>{N.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,N,F){let k;if(void 0===$&&void 0===N&&void 0===F)throw new Error("Missing Observer.");k=function xn(G,$){if("object"!=typeof G||null===G)return!1;for(const N of $)if(N in G&&"function"==typeof G[N])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:N,complete:F},void 0===k.next&&(k.next=Fn),void 0===k.error&&(k.error=Fn),void 0===k.complete&&(k.complete=Fn);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),ee}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,$)}sendOne($,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{N(this.observers[$])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}const $n=1e3,He=2,Ce=144e5,st=.5;function It(G,$=$n,N=He){const F=$*Math.pow(N,G),k=Math.round(st*F*(Math.random()-.5)*2);return Math.min(Ce,F+k)}function Gn(G){return G&&G._delegate?G._delegate:G}},638:(_t,Ie,V)=>{var c=V(4650);let H=null;function P(){return H}class ae{}const te=new c.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(q)}()},providedIn:"platform"}),n})();const ge=new c.OlP("Location Initialized");let q=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function X(){return new q((0,c.LFG)(te))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let ct=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Se)},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let Se=(()=>{class n extends ct{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+We(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+We(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),De=(()=>{class n extends ct{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=je(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+We(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+We(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(Te(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+We(i))}normalize(t){return n.stripTrailingSlash(function Fe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=We,n.joinWithSlash=je,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(c.LFG(ct))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Oe(){return new Ne((0,c.LFG)(ct))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}function Ha(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}const As=/\s+/,$r=[];let Je=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this.initialClasses=$r,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(As):$r}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(As):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(As).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ls{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ls(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),cs(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{cs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function cs(n,e){n.context.$implicit=e.item}let Gr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ql,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$t("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$t("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ql{constructor(){this.$implicit=null,this.ngIf=null}}function $t(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let ei=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split("."),u=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${i}${a}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const dr="browser",Au="server";function xu(n){return n===Au}let Xs=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new la((0,c.LFG)(te),window)}),n})();class la{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ca(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Js(this.window.history)||Js(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ua{}class Po extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ma extends Po{static makeCurrent(){!function re(n){H||(H=n)}(new ma)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Vu(){return Or=Or||document.querySelector("base"),Or?Or.getAttribute("href"):null}();return null==t?null:function _a(n){Rr=Rr||document.createElement("a"),Rr.setAttribute("href",n);const e=Rr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Or=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ha(document.cookie,e)}}let Rr,Or=null;const Uu=new c.OlP("TRANSITION_ID"),il=[{provide:c.ip1,useFactory:function o_(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Uu,te,c.zs3],multi:!0}];let mc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ya=new c.OlP("EventManagerPlugins");let _c=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ya),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class va{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let No=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let a=r.get(t)??0;return a+=i,a>0?r.set(t,a):r.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),On=(()=>{class n extends No{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(a=>a.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const a=this.styleRef.get(i);a?a.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Fo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xr=/%COMP%/g,sl=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ps(n,e){return e.flat(100).map(t=>t.replace(Xr,n))}function Lo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Vo=(()=>{class n{constructor(t,i,r,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Wi(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof Ea?r.applyToHost(t):r instanceof ro&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case c.ifc.Emulated:a=new Ea(u,f,i,this.appId,_);break;case c.ifc.ShadowDom:return new Bo(u,f,t,i);default:a=new ro(u,f,i,_)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_c),c.LFG(On),c.LFG(c.AFp),c.LFG(sl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Wi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Fo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Uo(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Uo(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Fo[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Fo[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lo(i)):this.eventManager.addEventListener(e,t,Lo(i))}}function Uo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bo extends Wi{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ps(r.id,r.styles);for(const u of a){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ro extends Wi{constructor(e,t,i,r,a=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ps(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ea extends ro{constructor(e,t,i,r,a){const u=r+"-"+i.id;super(e,t,i,a,u),this.contentAttr=function fs(n){return"_ngcontent-%COMP%".replace(Xr,n)}(u),this.hostAttr=function ph(n){return"_nghost-%COMP%".replace(Xr,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let gh=(()=>{class n extends va{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const al=["alt","control","meta","shift"],yc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ll={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bu=(()=>{class n extends va{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),al.forEach(v=>{const D=i.indexOf(v);D>-1&&(i.splice(D,1),u+=v+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=yc[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),al.forEach(u=>{u!==r&&(0,ll[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:dr},{provide:c.g9A,useValue:function ul(){ma.makeCurrent()},multi:!0},{provide:te,useFactory:function bc(){return(0,c.RDi)(document),document},deps:[]}]),zu=new c.OlP(""),ju=[{provide:c.rWj,useClass:class a_{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],zo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ki(){return new c.qLn},deps:[]},{provide:ya,useClass:gh,multi:!0,deps:[te,c.R0b,c.Lbi]},{provide:ya,useClass:Bu,multi:!0,deps:[te]},{provide:Vo,useClass:Vo,deps:[_c,On,c.AFp,sl]},{provide:c.FYo,useExisting:Vo},{provide:No,useExisting:On},{provide:On,useClass:On,deps:[te]},{provide:_c,useClass:_c,deps:[ya,c.R0b]},{provide:ua,useClass:mc,deps:[]},[]];let so=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Uu,useExisting:c.AFp},il]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zu,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...zo,...ju],imports:[Oo,c.hGG]}),n})(),ao=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Hu(){return new ao((0,c.LFG)(te))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var At=V(7579);class fn extends At.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Rn=V(9751);const{isArray:ho}=Array,{getPrototypeOf:Sc,prototype:Sa,keys:yh}=Object;function Vs(n){if(1===n.length){const e=n[0];if(ho(e))return{args:e,keys:null};if(function Tc(n){return n&&"object"==typeof n&&Sc(n)===Sa}(e)){const t=yh(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var dn=V(8996),jo=V(4671),ft=V(4004);const{isArray:Ho}=Array;function Us(n){return(0,ft.U)(e=>function Ta(n,e){return Ho(e)?n(...e):n(e)}(n,e))}var $o=V(3269);function I(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var S=V(5403),O=V(9672);function z(...n){const e=(0,$o.yG)(n),t=(0,$o.jO)(n),{args:i,keys:r}=Vs(n);if(0===i.length)return(0,dn.D)([],e);const a=new Rn.y(function Q(n,e,t=jo.y){return i=>{oe(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)oe(e,()=>{const v=(0,dn.D)(n[_],e);let D=!1;v.subscribe((0,S.x)(i,M=>{a[_]=M,D||(D=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>I(r,u):jo.y));return t?a.pipe(Us(t)):a}function oe(n,e,t){n?(0,O.f)(t,n,e):e()}var Me=V(8421),qe=V(4482);function Ye(n,e){return(0,qe.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,S.x)(i,_=>{r?.unsubscribe();let v=0;const D=a++;(0,Me.Xf)(n(_,D)).subscribe(r=(0,S.x)(i,M=>i.next(e?e(_,M,D,v++):M),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var ut=V(515);function Ct(n){return n<=0?()=>ut.E:(0,qe.e)((e,t)=>{let i=0;e.subscribe((0,S.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}var zt=V(5032);function on(n){return(0,qe.e)((e,t)=>{(0,Me.Xf)(n).subscribe((0,S.x)(t,()=>t.complete(),zt.Z)),!t.closed&&e.subscribe(t)})}let Rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function mt(...n){const e=(0,$o.yG)(n);return(0,dn.D)(n,e)}function zs(n){return(0,qe.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,S.x)(t,void 0,void 0,u=>{a=(0,Me.Xf)(n(u,zs(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var Yi=V(5577),ms=V(576);function js(n,e){return(0,ms.m)(e)?(0,Yi.z)(n,e,1):(0,Yi.z)(n,1)}function vi(n,e){return(0,qe.e)((t,i)=>{let r=0;t.subscribe((0,S.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}class hl{}class bh{}class Jr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Jr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kp{encodeKey(e){return wh(e)}encodeValue(e){return wh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Mc=/%(\d[a-f0-9])/gi,Pp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wh(n){return encodeURIComponent(n).replace(Mc,(e,t)=>Pp[t]??e)}function ni(n){return`${n}`}class Nr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pr(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(ni):[ni(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Nr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ni(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ni(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Eh{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Ch(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Fp(n){return typeof Blob<"u"&&n instanceof Blob}function Dh(n){return typeof FormData<"u"&&n instanceof FormData}class fl{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Np(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new Eh),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Nr,this.urlWithParams=t}serializeBody(){return null===this.body?null:Ch(this.body)||Fp(this.body)||Dh(this.body)||function m_(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dh(this.body)?null:Fp(this.body)?this.body.type||null:Ch(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,v=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,B)=>M.set(B,e.setHeaders[B]),_)),e.setParams&&(v=Object.keys(e.setParams).reduce((M,B)=>M.set(B,e.setParams[B]),v)),new fl(t,i,a,{params:v,headers:_,context:D,reportProgress:f,responseType:r,withCredentials:u})}}var ii=(()=>((ii=ii||{})[ii.Sent=0]="Sent",ii[ii.UploadProgress=1]="UploadProgress",ii[ii.ResponseHeader=2]="ResponseHeader",ii[ii.DownloadProgress=3]="DownloadProgress",ii[ii.Response=4]="Response",ii[ii.User=5]="User",ii))();class Ih{constructor(e,t=200,i="OK"){this.headers=e.headers||new Jr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ed extends Ih{constructor(e={}){super(e),this.type=ii.ResponseHeader}clone(e={}){return new ed({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b extends Ih{constructor(e={}){super(e),this.type=ii.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new b({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class g extends Ih{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function m(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let w=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof fl)a=t;else{let _,v;_=r.headers instanceof Jr?r.headers:new Jr(r.headers),r.params&&(v=r.params instanceof Nr?r.params:new Nr({fromObject:r.params})),a=new fl(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=mt(a).pipe(js(_=>this.handler.handle(_)));if(t instanceof fl||"events"===r.observe)return u;const f=u.pipe(vi(_=>_ instanceof b));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ft.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Nr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,m(r,i))}post(t,i,r={}){return this.request("POST",t,m(r,i))}put(t,i,r={}){return this.request("PUT",t,m(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function x(n,e){return e(n)}function L(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const xe=new c.OlP("HTTP_INTERCEPTORS"),Qe=new c.OlP("HTTP_INTERCEPTOR_FNS");function wt(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(xe,{optional:!0})??[]).reduceRight(L,x)),n(e,t))}let Kt=(()=>{class n extends hl{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Qe)));this.chain=i.reduceRight((r,a)=>function ie(n,e,t){return(i,r)=>t.runInContext(()=>e(i,a=>n(a,r)))}(r,a,this.injector),x)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bh),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Oc=/^\)\]\}',?\n/;let jp=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Rn.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((j,K)=>r.setRequestHeader(j,K.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&r.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();r.responseType="json"!==j?j:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const j=r.statusText||"OK",K=new Jr(r.getAllResponseHeaders()),ne=function zp(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new ed({headers:K,status:r.status,statusText:j,url:ne}),u},_=()=>{let{headers:j,status:K,statusText:ne,url:_e}=f(),ze=null;204!==K&&(ze=typeof r.response>"u"?r.responseText:r.response),0===K&&(K=ze?200:0);let dt=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof ze){const ht=ze;ze=ze.replace(Oc,"");try{ze=""!==ze?JSON.parse(ze):null}catch(bt){ze=ht,dt&&(dt=!1,ze={error:bt,text:ze})}}dt?(i.next(new b({body:ze,headers:j,status:K,statusText:ne,url:_e||void 0})),i.complete()):i.error(new g({error:ze,headers:j,status:K,statusText:ne,url:_e||void 0}))},v=j=>{const{url:K}=f(),ne=new g({error:j,status:r.status||0,statusText:r.statusText||"Unknown Error",url:K||void 0});i.error(ne)};let D=!1;const M=j=>{D||(i.next(f()),D=!0);let K={type:ii.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(K.total=j.total),"text"===t.responseType&&r.responseText&&(K.partialText=r.responseText),i.next(K)},B=j=>{let K={type:ii.UploadProgress,loaded:j.loaded};j.lengthComputable&&(K.total=j.total),i.next(K)};return r.addEventListener("load",_),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",M),null!==a&&r.upload&&r.upload.addEventListener("progress",B)),r.send(a),i.next({type:ii.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",_),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",M),null!==a&&r.upload&&r.upload.removeEventListener("progress",B)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ua))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const pl=new c.OlP("XSRF_ENABLED"),gl=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),y_=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ew{}let CR=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ha(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(c.Lbi),c.LFG(gl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function $p(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(pl)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,c.f3M)(ew).getToken(),r=(0,c.f3M)(y_);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ui=(()=>((ui=ui||{})[ui.Interceptors=0]="Interceptors",ui[ui.LegacyInterceptors=1]="LegacyInterceptors",ui[ui.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ui[ui.NoXsrfProtection=3]="NoXsrfProtection",ui[ui.JsonpSupport=4]="JsonpSupport",ui[ui.RequestsMadeViaParent=5]="RequestsMadeViaParent",ui))();function Rc(n,e){return{\u0275kind:n,\u0275providers:e}}function tw(...n){const e=[w,jp,Kt,{provide:hl,useExisting:Kt},{provide:bh,useExisting:jp},{provide:Qe,useValue:$p,multi:!0},{provide:pl,useValue:!0},{provide:ew,useClass:CR}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const v_=new c.OlP("LEGACY_INTERCEPTOR_FN");let Th=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tw(Rc(ui.LegacyInterceptors,[{provide:v_,useFactory:wt},{provide:Qe,useExisting:v_,multi:!0}]))]}),n})();const Zp=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ah=V(8189);function Mh(...n){return function ow(){return(0,Ah.J)(1)}()((0,dn.D)(n,(0,$o.yG)(n)))}function kc(n){return new Rn.y(e=>{(0,Me.Xf)(n()).subscribe(e)})}var w_=V(9635);function Go(n,e){const t=(0,ms.m)(n)?n:()=>n,i=r=>r.error(t());return new Rn.y(e?r=>e.schedule(i,0,r):i)}var nd=V(727);function E_(){return(0,qe.e)((n,e)=>{let t=null;n._refCount++;const i=(0,S.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class II extends Rn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qe.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,S.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nd.w0.EMPTY)}return e}refCount(){return E_()(this)}}function ml(...n){const e=(0,$o.yG)(n);return(0,qe.e)((t,i)=>{(e?Mh(n,t,e):Mh(n,t)).subscribe(i)})}function id(n){return(0,qe.e)((e,t)=>{let i=!1;e.subscribe((0,S.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function aw(n=lw){return(0,qe.e)((e,t)=>{let i=!1;e.subscribe((0,S.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function lw(){return new Zp}function Hs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):jo.y,Ct(1),t?id(e):aw(()=>new Zp))}var Qi=V(8505);function rd(n,e){return(0,qe.e)(function cw(n,e,t,i,r){return(a,u)=>{let f=t,_=e,v=0;a.subscribe((0,S.x)(u,D=>{const M=v++;_=f?n(_,D,M):(f=!0,D),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}function qp(n){return n<=0?()=>ut.E:(0,qe.e)((e,t)=>{let i=[];e.subscribe((0,S.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function C_(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):jo.y,qp(1),t?id(e):aw(()=>new Zp))}function D_(n){return(0,qe.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Xt="primary",xh=Symbol("RouteTitle");class _l{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zo(n){return new _l(n)}function AI(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ma(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!MI(n[r],e[r]))return!1;return!0}function MI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function xI(n){return Array.prototype.concat.apply([],n)}function OI(n){return n.length>0?n[n.length-1]:null}function or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yl(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,dn.D)(Promise.resolve(n)):mt(n)}const Wp=!1,kI={exact:function I_(n,e,t){if(!sd(n.segments,e.segments)||!T_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!I_(n.children[i],e.children[i],t))return!1;return!0},subset:S_},Kp={exact:function Oh(n,e){return Ma(n,e)},subset:function uw(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MI(n[t],e[t]))},ignored:()=>!0};function qo(n,e,t){return kI[t.paths](n.root,e.root,t.matrixParams)&&Kp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function S_(n,e,t){return PI(n,e,e.segments,t)}function PI(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!sd(r,t)||e.hasChildren()||!T_(r,t,i))}if(n.segments.length===t.length){if(!sd(n.segments,t)||!T_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!S_(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(sd(n.segments,r)&&T_(n.segments,r,i)&&n.children[Xt])&&PI(n.children[Xt],e,a,i)}}function T_(n,e,t){return e.every((i,r)=>Kp[t](n[r].parameters,i.parameters))}class Pc{constructor(e=new an([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return NI.serialize(this)}}class an{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yp(this)}}class Nc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zo(this.parameters)),this._parameterMap}toString(){return fw(this)}}function sd(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Rh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new A_},providedIn:"root"}),n})();class A_{parse(e){const t=new MR(e);return new Pc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${od(e.root,!0)}`,i=function gw(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Qp(t)}=${Qp(r)}`).join("&"):`${Qp(t)}=${Qp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function M_(n){return encodeURI(n)}(e.fragment)}`:""}`}}const NI=new A_;function Yp(n){return n.segments.map(e=>fw(e)).join("/")}function od(n,e){if(!n.hasChildren())return Yp(n);if(e){const t=n.children[Xt]?od(n.children[Xt],!1):"",i=[];return or(n.children,(r,a)=>{a!==Xt&&i.push(`${a}:${od(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function dw(n,e){let t=[];return or(n.children,(i,r)=>{r===Xt&&(t=t.concat(e(i,r)))}),or(n.children,(i,r)=>{r!==Xt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Xt?[od(n.children[Xt],!1)]:[`${r}:${od(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${Yp(n)}/${t[0]}`:`${Yp(n)}/(${t.join("//")})`}}function kh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qp(n){return kh(n).replace(/%3B/gi,";")}function x_(n){return kh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ri(n){return decodeURIComponent(n)}function hw(n){return ri(n.replace(/\+/g,"%20"))}function fw(n){return`${x_(n.path)}${function pw(n){return Object.keys(n).map(e=>`;${x_(e)}=${x_(n[e])}`).join("")}(n.parameters)}`}const FI=/^[^\/()?;=#]+/;function Xp(n){const e=n.match(FI);return e?e[0]:""}const LI=/^[^=?&#]+/,mw=/^[^&#]+/;class MR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Xt]=new an(e,t)),i}parseSegment(){const e=Xp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Wp);return this.capture(e),new Nc(ri(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Xp(this.remaining);r&&(i=r,this.capture(i))}e[ri(t)]=ri(i)}parseQueryParam(e){const t=function VI(n){const e=n.match(LI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function AR(n){const e=n.match(mw);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=hw(t),a=hw(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Xp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,Wp);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Xt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Xt]:new an([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Wp)}}function Fc(n){return n.segments.length>0?new an([],{[Xt]:n}):n}function ad(n){const e={};for(const i of Object.keys(n.children)){const a=ad(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function _w(n){if(1===n.numberOfChildren&&n.children[Xt]){const e=n.children[Xt];return new an(n.segments.concat(e.segments),e.children)}return n}(new an(n.segments,e))}function vl(n){return n instanceof Pc}const Jp=!1;function vw(n,e,t,i,r){if(0===t.length)return bl(e.root,e.root,e.root,i,r);const a=function R_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tg(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return or(a.outlets,(_,v)=>{f[v]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new tg(t,e,i)}(t);return a.toRoot()?bl(e.root,e.root,new an([],{}),i,r):function u(_){const v=function UI(n,e,t,i){if(n.isAbsolute)return new Vc(e.root,!0,0);if(-1===i)return new Vc(t,t===e.root,0);return function ng(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,Jp&&"Invalid number of '../'");r=i.segments.length}return new Vc(i,!1,r-a)}(t,i+(Lc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),D=v.processChildren?wl(v.segmentGroup,v.index,a.commands):k_(v.segmentGroup,v.index,a.commands);return bl(e.root,v.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function Lc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function eg(n){return"object"==typeof n&&null!=n&&n.outlets}function bl(n,e,t,i,r){let u,a={};i&&or(i,(_,v)=>{a[v]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),u=n===e?t:bw(n,e,t);const f=Fc(ad(u));return new Pc(f,a,r)}function bw(n,e,t){const i={};return or(n.children,(r,a)=>{i[a]=r===e?t:bw(r,e,t)}),new an(n.segments,i)}class tg{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Lc(i[0]))throw new c.vHH(4003,Jp&&"Root segment cannot have matrix parameters");const r=i.find(eg);if(r&&r!==OI(i))throw new c.vHH(4004,Jp&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function k_(n,e,t){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return wl(n,e,t);const i=function rg(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(eg(f))break;const _=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ew(_,v,u))return a;i+=2}else{if(!Ew(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new an(n.segments.slice(0,i.pathIndex),{});return a.children[Xt]=new an(n.segments.slice(i.pathIndex),n.children),wl(a,0,r)}return i.match&&0===r.length?new an(n.segments,{}):i.match&&!n.hasChildren()?xa(n,e,t):i.match?wl(n,0,r):xa(n,e,t)}function wl(n,e,t){if(0===t.length)return new an(n.segments,{});{const i=function ig(n){return eg(n[0])?n[0].outlets:{[Xt]:n}}(t),r={};return!i[Xt]&&n.children[Xt]&&1===n.numberOfChildren&&0===n.children[Xt].segments.length?wl(n.children[Xt],e,t):(or(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=k_(n.children[u],e,a))}),or(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new an(n.segments,r))}}function xa(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(eg(a)){const _=ww(a.outlets);return new an(i,_)}if(0===r&&Lc(t[0])){i.push(new Nc(n.segments[e].path,sg(t[0]))),r++;continue}const u=eg(a)?a.outlets[Xt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Lc(f)?(i.push(new Nc(u,sg(f))),r+=2):(i.push(new Nc(u,{})),r++)}return new an(i,{})}function ww(n){const e={};return or(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=xa(new an([],{}),0,t))}),e}function sg(n){const e={};return or(n,(t,i)=>e[i]=`${t}`),e}function Ew(n,e,t){return n==t.path&&Ma(e,t.parameters)}const Ph="imperative";class go{constructor(e,t){this.id=e,this.url=t}}class El extends go{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bc extends go{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class og extends go{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ag extends go{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Nh extends go{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BI extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cw extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zI extends go{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dw extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OR extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ld{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $I{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P_{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qI=(()=>{class n{createUrlTree(t,i,r,a,u,f){return vw(t||i.root,r,a,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return qI.\u0275fac(e)},providedIn:"root"}),n})();class lg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vh(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Vh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=N_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return N_(e,this._root).map(t=>t.value)}}function Vh(n,e){if(n===e.value)return e;for(const t of e.children){const i=Vh(n,t);if(i)return i}return null}function N_(n,e){if(n===e.value)return[e];for(const t of e.children){const i=N_(n,t);if(i.length)return i.unshift(e),i}return[]}class mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Tw extends lg{constructor(e,t){super(e),this.snapshot=t,_o(this,e)}toString(){return this.snapshot.toString()}}function Aw(n,e){const t=function WI(n,e){const u=new cg([],{},{},"",{},Xt,e,null,n.root,-1,{});return new jc("",new mo(u,[]))}(n,e),i=new fn([new Nc("",{})]),r=new fn({}),a=new fn({}),u=new fn({}),f=new fn(""),_=new zc(i,r,u,f,a,Xt,e,t.root);return _.snapshot=t.root,new Tw(new mo(_,[]),t)}class zc{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ft.U)(v=>v[xh]))??mt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>Zo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>Zo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mw(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function KI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class cg{get title(){return this.data?.[xh]}constructor(e,t,i,r,a,u,f,_,v,D,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=v,this._lastPathIndex=D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jc extends lg{constructor(e,t){super(t),this.url=e,_o(this,t)}toString(){return xw(this._root)}}function _o(n,e){e.value._routerState=n,e.children.forEach(t=>_o(n,t))}function xw(n){const e=n.children.length>0?` { ${n.children.map(xw).join(", ")} } `:"";return`${n.value}${e}`}function F_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ma(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ma(e.params,t.params)||n.params.next(t.params),function SR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ma(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ma(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ow(n,e){const t=Ma(n.params,e.params)&&function TR(n,e){return sd(n,e)&&n.every((t,i)=>Ma(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ow(n.parent,e.parent))}function cd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function kR(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cd(n,i,r);return cd(n,i)})}(n,e,t);return new mo(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>cd(n,f)),u}}const i=function Rw(n){return new zc(new fn(n.url),new fn(n.params),new fn(n.queryParams),new fn(n.fragment),new fn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>cd(n,a));return new mo(i,r)}}const ug="ngNavigationCancelingError";function kw(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=vl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=L_(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function L_(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ug]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Pw(n){return Nw(n)&&vl(n.url)}function Nw(n){return n&&n[ug]}class yo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Uh,this.attachRef=null}}let Uh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new yo,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bh=!1;let V_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Uh),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Bh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Bh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Bh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Bh);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new YI(t,f,r.injector);if(i&&function QI(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class YI{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===zc?this.route:e===Uh?this.childContexts:this.parent.get(e,t)}}let U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[V_],encapsulation:2}),n})();function B_(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function z_(n){const e=n.children&&n.children.map(z_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=U_),t}function ys(n){return n.outlet||Xt}function Vw(n,e){const t=n.filter(i=>ys(i)===e);return t.push(...n.filter(i=>ys(i)!==e)),t}function ud(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class eS{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),F_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Wo(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),or(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Wo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Wo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Wo(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new $I(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ld(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(F_(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),F_(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=ud(r.snapshot),_=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class tS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zh{constructor(e,t){this.component=e,this.route=t}}function Uw(n,e,t){const i=n._root;return $c(i,e?e._root:null,t,[i.value])}function dd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function $c(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Wo(e);return n.children.forEach(u=>{(function j_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function nS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sd(n.url,e.url)||!Ma(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ow(n,e)||!Ma(n.queryParams,e.queryParams);default:return!Ow(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new tS(i)):(a.data=u.data,a._resolvedData=u._resolvedData),$c(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new zh(f.outlet.component,u))}else u&&hg(e,f,r),r.canActivateChecks.push(new tS(i)),$c(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),or(a,(u,f)=>hg(u,t.getContext(f),r)),r}function hg(n,e,t){const i=Wo(n),r=n.value;or(i,(a,u)=>{hg(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new zh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function fg(n){return"function"==typeof n}function fd(n){return n instanceof Zp||"EmptyError"===n?.name}const pg=Symbol("INITIAL_VALUE");function Gc(){return Ye(n=>z(n.map(e=>e.pipe(Ct(1),ml(pg)))).pipe((0,ft.U)(e=>{for(const t of e)if(!0!==t){if(t===pg)return pg;if(!1===t||t instanceof Pc)return t}return!0}),vi(e=>e!==pg),Ct(1)))}function gg(n){return(0,w_.z)((0,Qi.b)(e=>{if(vl(e))throw kw(0,e)}),(0,ft.U)(e=>!0===e))}const jh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gw(n,e,t,i,r){const a=Zw(n,e,t);return a.matched?function BR(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?mt(r.map(u=>{const f=dd(u,n);return yl(function hd(n){return n&&fg(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Gc(),gg()):mt(!0)}(i=B_(e,i),e,t).pipe((0,ft.U)(u=>!0===u?a:{...jh})):mt(a)}function Zw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||AI)(t,n,e);if(!r)return{...jh};const a={};or(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Oa(n,e,t,i){if(t.length>0&&function Ww(n,e,t){return t.some(i=>mg(n,e,i)&&ys(i)!==Xt)}(n,t,i)){const a=new an(e,function dS(n,e,t,i){const r={};r[Xt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ys(a)!==Xt){const u=new an([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[ys(a)]=u}return r}(n,e,i,new an(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function hS(n,e,t){return t.some(i=>mg(n,e,i))}(n,t,i)){const a=new an(n.segments,function qw(n,e,t,i,r){const a={};for(const u of i)if(mg(n,t,u)&&!r[ys(u)]){const f=new an([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[ys(u)]=f}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new an(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function mg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Hh(n,e,t,i){return!!(ys(n)===i||i!==Xt&&mg(e,t,n))&&("**"===n.path||Zw(e,n,t).matched)}function Zc(n,e,t){return 0===e.length&&!n.children[t]}const pd=!1;class Cl{constructor(e){this.segmentGroup=e||null}}class _g{constructor(e){this.urlTree=e}}function Dl(n){return Go(new Cl(n))}function H_(n){return Go(new _g(n))}class Kw{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=Oa(this.urlTree.root,[],[],this.config).segmentGroup,t=new an(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Xt).pipe((0,ft.U)(a=>this.createUrlTree(ad(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zs(a=>{if(a instanceof _g)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Cl?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Xt).pipe((0,ft.U)(r=>this.createUrlTree(ad(r),e.queryParams,e.fragment))).pipe(zs(r=>{throw r instanceof Cl?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,pd)}createUrlTree(e,t,i){const r=Fc(e);return new Pc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ft.U)(a=>new an([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,dn.D)(r).pipe(js(a=>{const u=i.children[a],f=Vw(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,ft.U)(_=>({segment:_,outlet:a})))}),rd((a,u)=>(a[u.outlet]=u.segment,a),{}),C_())}expandSegment(e,t,i,r,a,u){return(0,dn.D)(i).pipe(js(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(zs(v=>{if(v instanceof Cl)return mt(null);throw v}))),Hs(f=>!!f),zs((f,_)=>{if(fd(f))return Zc(t,r,a)?mt(new an([],{})):Dl(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return Hh(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Dl(t):Dl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?H_(a):this.lineralizeSegments(i,a).pipe((0,Yi.z)(u=>{const f=new an(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:v,positionalParamSegments:D}=Zw(t,r,a);if(!f)return Dl(t);const M=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?H_(M):this.lineralizeSegments(r,M).pipe((0,Yi.z)(B=>this.expandSegment(e,t,i,B.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=B_(i,e),i.loadChildren?(i._loadedRoutes?mt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ft.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new an(r,{})))):mt(new an(r,{}))):Gw(t,i,r,e).pipe(Ye(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Yi.z)(D=>{const M=D.injector??e,B=D.routes,{segmentGroup:j,slicedSegments:K}=Oa(t,f,_,B),ne=new an(j.segments,j.children);if(0===K.length&&ne.hasChildren())return this.expandChildren(M,B,ne).pipe((0,ft.U)(ht=>new an(f,ht)));if(0===B.length&&0===K.length)return mt(new an(f,{}));const _e=ys(i)===a;return this.expandSegment(M,ne,B,K,_e?Xt:a,!0).pipe((0,ft.U)(dt=>new an(f.concat(dt.segments),dt.children)))})):Dl(t)))}getChildConfig(e,t,i){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function $w(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?mt(!0):mt(r.map(u=>{const f=dd(u,n);return yl(function iS(n){return n&&fg(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Gc(),gg())}(e,t,i).pipe((0,Yi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Qi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function G_(n){return Go(L_(pd,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return mt(i);if(r.numberOfChildren>1||!r.children[Xt])return e.redirectTo,Go(new c.vHH(4e3,pd));r=r.children[Xt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Pc(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return or(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return or(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new an(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,pd);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class fS{}class Xw{constructor(e,t,i,r,a,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=Oa(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xt).pipe((0,ft.U)(t=>{if(null===t)return null;const i=new cg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mo(i,t),a=new jc(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=Mw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,dn.D)(Object.keys(i.children)).pipe(js(r=>{const a=i.children[r],u=Vw(t,r);return this.processSegmentGroup(e,u,a,r)}),rd((r,a)=>r&&a?(r.push(...a),r):null),function SI(n,e=!1){return(0,qe.e)((t,i)=>{let r=0;t.subscribe((0,S.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),id(null),C_(),(0,ft.U)(r=>{if(null===r)return null;const a=es(r);return function Jw(n){n.sort((e,t)=>e.value.outlet===Xt?-1:t.value.outlet===Xt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,dn.D)(t).pipe(js(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),Hs(u=>!!u),zs(u=>{if(fd(u))return Zc(i,r,a)?mt([]):mt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!Hh(t,i,r,a))return mt(null);let u;if("**"===t.path){const f=r.length>0?OI(r).parameters:{},_=_S(i)+r.length;u=mt({snapshot:new cg(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,W_(t),ys(t),t.component??t._loadedComponent??null,t,tE(i),_,iE(t)),consumedSegments:[],remainingSegments:[]})}else u=Gw(i,t,r,e).pipe((0,ft.U)(({matched:f,consumedSegments:_,remainingSegments:v,parameters:D})=>{if(!f)return null;const M=_S(i)+_.length;return{snapshot:new cg(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,W_(t),ys(t),t.component??t._loadedComponent??null,t,tE(i),M,iE(t)),consumedSegments:_,remainingSegments:v}}));return u.pipe(Ye(f=>{if(null===f)return mt(null);const{snapshot:_,consumedSegments:v,remainingSegments:D}=f;e=t._injector??e;const M=t._loadedInjector??e,B=function gS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:K}=Oa(i,v,D,B.filter(_e=>void 0===_e.redirectTo));if(0===K.length&&j.hasChildren())return this.processChildren(M,B,j).pipe((0,ft.U)(_e=>null===_e?null:[new mo(_,_e)]));if(0===B.length&&0===K.length)return mt([new mo(_,[])]);const ne=ys(t)===a;return this.processSegment(M,B,j,K,ne?Xt:a).pipe((0,ft.U)(_e=>null===_e?null:[new mo(_,_e)]))}))}}function mS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function es(n){const e=[],t=new Set;for(const i of n){if(!mS(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=es(i.children);e.push(new mo(i.value,r))}return e.filter(i=>!t.has(i))}function tE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _S(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function W_(n){return n.data||{}}function iE(n){return n.resolve||{}}function sE(n){return"string"==typeof n.title||null===n.title}function Y_(n){return Ye(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,ft.U)(()=>e)):mt(e)})}const gd=new c.OlP("ROUTES");let Q_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=yl(t.loadComponent()).pipe((0,ft.U)(yg),(0,Qi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),D_(()=>{this.componentLoaders.delete(t)})),r=new II(i,()=>new At.x).pipe(E_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return mt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ft.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,v,D=!1;Array.isArray(f)?v=f:(_=f.create(t).injector,v=xI(_.get(gd,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(z_),injector:_}}),D_(()=>{this.childrenLoaders.delete(i)})),u=new II(a,()=>new At.x).pipe(E_());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return yl(t()).pipe((0,ft.U)(yg),(0,Yi.z)(i=>i instanceof c.YKP||Array.isArray(i)?mt(i):(0,dn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yg(n){return function Ko(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let bg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new At.x,this.configLoader=(0,c.f3M)(Q_),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Rh),this.rootContexts=(0,c.f3M)(Uh),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Fh(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new jI(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new fn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ph,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(i=>0!==i.id),(0,ft.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Ye(i=>{let r=!1,a=!1;return mt(i).pipe((0,Qi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ye(u=>{const f=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new ag(u.id,t.serializeUrl(i.rawUrl),D,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),ut.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return X_(u.source)&&(t.browserUrlTree=u.extractedUrl),mt(u).pipe(Ye(D=>{const M=this.transitions?.getValue();return this.events.next(new El(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions?.getValue()?ut.E:Promise.resolve(D)}),function q_(n,e,t,i){return Ye(r=>function Z_(n,e,t,i,r){return new Kw(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ft.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Qi.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function yS(n,e,t,i,r){return(0,Yi.z)(a=>function pS(n,e,t,i,r,a,u="emptyOnly"){return new Xw(n,e,t,i,r,u,a).recognize().pipe(Ye(f=>null===f?function Qw(n){return new Rn.y(e=>e.error(n))}(new fS):mt(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,ft.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Qi.b)(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(B,D)}t.browserUrlTree=D.urlAfterRedirects}const M=new BI(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:M,source:B,restoredState:j,extras:K}=u,ne=new El(D,this.urlSerializer.serialize(M),B,j);this.events.next(ne);const _e=Aw(M,this.rootComponentType).snapshot;return mt(i={...u,targetSnapshot:_e,urlAfterRedirects:M,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new ag(u.id,t.serializeUrl(i.extractedUrl),D,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),ut.E}}),(0,Qi.b)(u=>{const f=new Cw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,ft.U)(u=>i={...u,guards:Uw(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function sS(n,e){return(0,Yi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?mt({...t,guardsResult:!0}):function oS(n,e,t,i){return(0,dn.D)(n).pipe((0,Yi.z)(r=>function Hw(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?mt(a.map(f=>{const _=ud(e)??r,v=dd(f,_);return yl(function rS(n){return n&&fg(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):_.runInContext(()=>v(n,e,t,i))).pipe(Hs())})).pipe(Gc()):mt(!0)}(r.component,r.route,t,e,i)),Hs(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Yi.z)(f=>f&&function LR(n){return"boolean"==typeof n}(f)?function aS(n,e,t,i){return(0,dn.D)(e).pipe(js(r=>Mh(function cS(n,e){return null!==n&&e&&e(new HI(n)),mt(!0)}(r.route.parent,i),function lS(n,e){return null!==n&&e&&e(new Lh(n)),mt(!0)}(r.route,i),function uS(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Hc(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>kc(()=>mt(u.guards.map(_=>{const v=ud(u.node)??t,D=dd(_,v);return yl(function VR(n){return n&&fg(n.canActivateChild)}(D)?D.canActivateChild(i,n):v.runInContext(()=>D(i,n))).pipe(Hs())})).pipe(Gc())));return mt(a).pipe(Gc())}(n,r.path,t),function jw(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return mt(!0);const r=i.map(a=>kc(()=>{const u=ud(e)??t,f=dd(a,u);return yl(function Bw(n){return n&&fg(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(Hs())}));return mt(r).pipe(Gc())}(n,r.route,t))),Hs(r=>!0!==r,!0))}(i,a,n,e):mt(f)),(0,ft.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Qi.b)(u=>{if(i.guardsResult=u.guardsResult,vl(u.guardsResult))throw kw(0,u.guardsResult);const f=new zI(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),vi(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Y_(u=>{if(u.guards.canActivateChecks.length)return mt(u).pipe((0,Qi.b)(f=>{const _=new Dw(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),Ye(f=>{let _=!1;return mt(f).pipe(function vS(n,e){return(0,Yi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return mt(t);let a=0;return(0,dn.D)(r).pipe(js(u=>function rE(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!sE(r)&&(a[xh]=r.title),function bS(n,e,t,i){const r=function wS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return mt({});const a={};return(0,dn.D)(r).pipe((0,Yi.z)(u=>function K_(n,e,t,i){const r=ud(e)??i,a=dd(n,r);return yl(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(Hs(),(0,Qi.b)(f=>{a[u]=f}))),qp(1),function TI(n){return(0,ft.U)(()=>n)}(a),zs(u=>fd(u)?ut.E:Go(u)))}(a,n,e,i).pipe((0,ft.U)(u=>(n._resolvedData=u,n.data=Mw(n,t).resolve,r&&sE(r)&&(n.data[xh]=r.title),null)))}(u.route,i,n,e)),(0,Qi.b)(()=>a++),qp(1),(0,Yi.z)(u=>a===r.length?mt(t):ut.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Qi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Qi.b)(f=>{const _=new OR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),Y_(u=>{const f=_=>{const v=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Qi.b)(D=>{_.component=D}),(0,ft.U)(()=>{})));for(const D of _.children)v.push(...f(D));return v};return z(f(u.targetSnapshot.root)).pipe(id(),Ct(1))}),Y_(()=>this.afterPreactivation()),(0,ft.U)(u=>{const f=function RR(n,e,t){const i=cd(n,e._root,t?t._root:void 0);return new Tw(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,Qi.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,ft.U)(i=>(new eS(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,Qi.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Bc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),D_(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zs(u=>{if(a=!0,Nw(u)){Pw(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new og(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Pw(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||X_(i.source)};t.scheduleNavigation(_,Ph,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Nh(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(_){i.reject(_)}}return ut.E}))}))}cancelNavigationTransition(t,i,r){const a=new og(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X_(n){return n!==Ph}let aE=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Xt);return i}getResolvedTitleForRoute(t){return t.data[xh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ES)},providedIn:"root"}),n})(),ES=(()=>{class n extends aE{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ao))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(DS)},providedIn:"root"}),n})();class J_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let DS=(()=>{class n extends J_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qc=new c.OlP("",{providedIn:"root",factory:()=>({})});let ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(wg)},providedIn:"root"}),n})(),wg=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ty(n){throw n}function zR(n,e,t){return e.parse("/")}const cE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(qc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ty,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zR,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(ey),this.routeReuseStrategy=(0,c.f3M)(CS),this.urlCreationStrategy=(0,c.f3M)(Sw),this.titleStrategy=(0,c.f3M)(aE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=xI((0,c.f3M)(gd,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(bg),this.urlSerializer=(0,c.f3M)(Rh),this.location=(0,c.f3M)(Ne),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Aw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ph,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(z_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,v=_?this.currentUrlTree.fragment:u;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...a};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=a||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,D,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=vl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,Ph,null,i)}navigate(t,i={skipLocationChange:!1}){return function dE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...cE}:!1===i?{...uE}:i,vl(t))return qo(this.currentUrlTree,t,r);const a=this.parseUrl(t);return qo(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,v,D;return u?(f=u.resolve,_=u.reject,v=u.promise):v=new Promise((M,B)=>{f=M,_=B}),D="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(M=>Promise.reject(M))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),md=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new At.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Bc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gr),c.Y36(zc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ct))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class $h{}let hE=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof Bc),js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(u,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,dn.D)(r).pipe((0,Ah.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):mt(null);const a=r.pipe((0,Yi.z)(u=>null===u?mt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,dn.D)([a,u]).pipe((0,Ah.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG($h),c.LFG(Q_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dg=new c.OlP("");let fE=(()=>{class n{constructor(t,i,r,a,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof El?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof P_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new P_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var vs=(()=>((vs=vs||{})[vs.COMPLETE=0]="COMPLETE",vs[vs.FAILED=1]="FAILED",vs[vs.REDIRECTING=2]="REDIRECTING",vs))();const _d=!1;function Il(n,e){return{\u0275kind:n,\u0275providers:e}}const ny=new c.OlP("",{providedIn:"root",factory:()=>!1});function gE(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(gr),r=n.get(iy);1===n.get(Zh)&&i.initialNavigation(),n.get(mE,null,c.XFs.Optional)?.setUpPreloading(),n.get(Dg,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const iy=new c.OlP(_d?"bootstrap done indicator":"",{factory:()=>new At.x}),Zh=new c.OlP(_d?"initial navigation":"",{providedIn:"root",factory:()=>1});function AS(){let n=[];return n=_d?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(gr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function GI(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Il(1,n)}const mE=new c.OlP(_d?"router preloader":"");function MS(n){return Il(0,[{provide:mE,useExisting:hE},{provide:$h,useExisting:n}])}const qh=!1,sy=new c.OlP(qh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),OS=[Ne,{provide:Rh,useClass:A_},gr,Uh,{provide:zc,useFactory:function pE(n){return n.routerState.root},deps:[gr]},Q_,qh?{provide:ny,useValue:!0}:[]];function WR(){return new c.PXZ("Router",gr)}let oy=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[OS,qh&&i?.enableTracing?AS().\u0275providers:[],{provide:gd,multi:!0,useValue:t},{provide:sy,useFactory:kS,deps:[[gr,new c.FiY,new c.tp0]]},{provide:qc,useValue:i||{}},i?.useHash?{provide:ct,useClass:De}:{provide:ct,useClass:Se},{provide:Dg,useFactory:()=>{const n=(0,c.f3M)(Xs),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(qc),i=(0,c.f3M)(bg),r=(0,c.f3M)(Rh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new fE(r,i,n,e,t)}},i?.preloadingStrategy?MS(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:WR},i?.initialNavigation?ay(i):[],[{provide:_E,useFactory:gE},{provide:c.tb,multi:!0,useExisting:_E}]]}}static forChild(t){return{ngModule:n,providers:[{provide:gd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sy,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[U_]}),n})();function kS(n){if(qh&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ay(n){return["disabled"===n.initialNavigation?Il(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(gr);return()=>{e.setUpLocationChangeListener()}}},{provide:Zh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Il(2,[{provide:Zh,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(ge,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(gr),a=e.get(iy);(function Gh(n,e){n.events.pipe(vi(t=>t instanceof Bc||t instanceof og||t instanceof Nh||t instanceof ag),(0,ft.U)(t=>t instanceof Bc||t instanceof ag?vs.COMPLETE:t instanceof og&&(0===t.code||1===t.code)?vs.REDIRECTING:vs.FAILED),vi(t=>t!==vs.REDIRECTING),Ct(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(bg).afterPreactivation=()=>(i(!0),a.closed?mt(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const _E=new c.OlP(qh?"Router Initializer":"");let mr=(()=>{class n{constructor(t){this.title="LoadGo",this.apiLoaded=t.jsonp("https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE","callback").pipe((0,ft.U)(()=>!0),zs(()=>mt(!1)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(w))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[V_]}),n})();class Sl{}class Tg{}const Ai="*";function Yc(n,e=null){return{type:2,steps:n,options:e}}function vo(n){return{type:6,styles:n,offset:null}}function uy(n){Promise.resolve().then(n)}class yd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class dy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?uy(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Ag="!";function hy(n){return new c.vHH(3e3,!1)}function FE(){return typeof window<"u"&&typeof window.document<"u"}function kg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ka(n){switch(n.length){case 0:return new yd;case 1:return n[0];default:return new dy(n)}}function Yh(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,v=null;if(i.forEach(D=>{const M=D.get("offset"),B=M==_,j=B&&v||new Map;D.forEach((K,ne)=>{let _e=ne,ze=K;if("offset"!==ne)switch(_e=e.normalizePropertyName(_e,u),ze){case Ag:ze=r.get(ne);break;case Ai:ze=a.get(ne);break;default:ze=e.normalizeStyleValue(ne,_e,ze,u)}j.set(_e,ze)}),B||f.push(j),v=j,_=M}),u.length)throw function SE(n){return new c.vHH(3502,!1)}();return f}function Qo(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&yy(t,"start",n)));break;case"done":n.onDone(()=>i(t&&yy(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&yy(t,"destroy",n)))}}function yy(n,e,t){const a=vy(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function vy(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Fr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Tl(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Qh=(n,e)=>!1,LE=(n,e,t)=>[],Pg=null;function VE(n){const e=n.parentNode||n.host;return e===Pg?null:e}(kg()||typeof Element<"u")&&(FE()?(Pg=(()=>document.documentElement)(),Qh=(n,e)=>{for(;e;){if(e===n)return!0;e=VE(e)}return!1}):Qh=(n,e)=>n.contains(e),LE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let eu=null,by=!1;const BE=Qh,zE=LE;let jE=(()=>{class n{validateStyleProperty(t){return function qS(n){eu||(eu=function UE(){return typeof document<"u"?document.body:null}()||{},by=!!eu.style&&"WebkitAppearance"in eu.style);let e=!0;return eu.style&&!function ZS(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in eu.style,!e&&by&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in eu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return BE(t,i)}getParentElement(t){return VE(t)}query(t,i,r){return zE(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new yd(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ng=(()=>{class n{}return n.NOOP=new jE,n})();const HE=1e3,wy="ng-enter",Xh="ng-leave",Fg="ng-trigger",Jh=".ng-trigger",YS="ng-animating",ef=".ng-animating";function bo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$s(parseFloat(e[1]),e[2])}function $s(n,e){return"s"===e?n*HE:n}function Lg(n,e,t){return n.hasOwnProperty("duration")?n:function QS(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(hy()),{duration:0,delay:0,easing:""};r=$s(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=$s(parseFloat(_),f[4]));const v=f[5];v&&(u=v)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function LS(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function VS(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,hy())}return{duration:r,delay:a,easing:u}}(n,e,t)}function ts(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Gs(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Pa(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function $E(n,e,t){return t?e+":"+t+";":""}function GE(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=$E(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=$E(0,XS(t),n.style[t]));n.setAttribute("style",e)}function Xo(n,e,t){n.style&&(e.forEach((i,r)=>{const a=vd(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),kg()&&GE(n))}function nu(n,e){n.style&&(e.forEach((t,i)=>{const r=vd(i);n.style[r]=""}),kg()&&GE(n))}function iu(n){return Array.isArray(n)?1==n.length?n[0]:Yc(n):n}const Cy=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dy(n){let e=[];if("string"==typeof n){let t;for(;t=Cy.exec(n);)e.push(t[1]);Cy.lastIndex=0}return e}function nf(n,e,t){const i=n.toString(),r=i.replace(Cy,(a,u)=>{let f=e[u];return null==f&&(t.push(function US(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function rf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ZE=/-+([a-z0-9])/g;function vd(n){return n.replace(ZE,(...e)=>e[1].toUpperCase())}function XS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function BS(n){return new c.vHH(3004,!1)}()}}function sf(n,e){return window.getComputedStyle(n)[e]}const cf="*";function tT(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function nT(n,e,t){if(":"==n[0]){const _=function iT(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function my(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function CE(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(XE(r,u));"<"==a[0]&&!(r==cf&&u==cf)&&e.push(XE(u,r))}(i,t,e)):t.push(n),t}const Vg=new Set(["true","1"]),Ug=new Set(["false","0"]);function XE(n,e){const t=Vg.has(n)||Ug.has(n),i=Vg.has(e)||Ug.has(e);return(r,a)=>{let u=n==cf||n==r,f=e==cf||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?Vg.has(n):Ug.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?Vg.has(e):Ug.has(e)),u&&f}}const rT=new RegExp("s*:selfs*,?","g");function Iy(n,e,t,i){return new sT(n).build(e,t,i)}class sT{constructor(e){this._driver=e}build(e,t,i){const r=new lT(t);return this._resetContextStyleTimingState(r),Lr(this,iu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function py(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,v=_.name;v.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=v}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function zS(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{Dy(_).forEach(v=>{u.hasOwnProperty(v)||a.add(v)})})}),a.size&&(rf(a.values()),t.errors.push(function Mg(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Lr(this,iu(e.animation),t);return{type:1,matchers:tT(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ru(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Lr(this,i,t)),options:ru(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Lr(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:ru(e.options)}}visitAnimate(e,t){const i=function uT(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ty(Lg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Ty(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=Lg(t,e);return Ty(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:vo({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const v={};i.easing&&(v.easing=i.easing),u=vo(v)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Ai?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(Gs(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const v=t.collectedStyles.get(t.currentQuerySelector),D=v.get(_);let M=!0;D&&(a!=r&&a>=D.startTime&&r<=D.endTime&&(t.errors.push(function jS(n,e,t,i,r){return new c.vHH(3010,!1)}()),M=!1),a=D.startTime),M&&v.set(_,{startTime:a,endTime:r}),t.options&&function tf(n,e,t){const i=e.params||{},r=Dy(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function yE(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Og(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,v=0;const D=e.steps.map(ze=>{const dt=this._makeStyleAst(ze,t);let ht=null!=dt.offset?dt.offset:function cT(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(dt.styles),bt=0;return null!=ht&&(a++,bt=dt.offset=ht),_=_||bt<0||bt>1,f=f||bt<v,v=bt,u.push(bt),dt});_&&t.errors.push(function Rg(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function bE(){return new c.vHH(3200,!1)}());const M=e.steps.length;let B=0;a>0&&a<M?t.errors.push(function wE(){return new c.vHH(3202,!1)}()):0==a&&(B=1/(M-1));const j=M-1,K=t.currentTime,ne=t.currentAnimateTimings,_e=ne.duration;return D.forEach((ze,dt)=>{const ht=B>0?dt==j?1:B*dt:u[dt],bt=ht*_e;t.currentTime=K+ne.delay+bt,ne.duration=bt,this._validateStyleAst(ze,t),ze.offset=ht,i.styles.push(ze)}),i}visitReference(e,t){return{type:8,animation:Lr(this,iu(e.animation),t),options:ru(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ru(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ru(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function oT(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rT,"")),n=n.replace(/@\*/g,Jh).replace(/@\w+/g,t=>Jh+"-"+t.slice(1)).replace(/:animating/g,ef),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Fr(t.collectedStyles,t.currentQuerySelector,new Map);const f=Lr(this,iu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:ru(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gy(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Lg(e.timings,t.errors,!0);return{type:12,animation:Lr(this,iu(e.animation),t),timings:i,options:null}}}class lT{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ru(n){return n?(n=ts(n)).params&&(n.params=function aT(n){return n?ts(n):null}(n.params)):n={},n}function Ty(n,e,t){return{duration:n,delay:e,easing:t}}function Bg(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class uf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const n0=new RegExp(":enter","g"),s0=new RegExp(":leave","g");function zg(n,e,t,i,r,a=new Map,u=new Map,f,_,v=[]){return(new o0).buildKeyframes(n,e,t,i,r,a,u,f,_,v)}class o0{buildKeyframes(e,t,i,r,a,u,f,_,v,D=[]){v=v||new uf;const M=new jg(e,t,v,r,a,D,[]);M.options=_;const B=_.delay?bo(_.delay):0;M.currentTimeline.delayNextStep(B),M.currentTimeline.setStyles([u],null,M.errors,_),Lr(this,i,M);const j=M.timelines.filter(K=>K.containsAnimation());if(j.length&&f.size){let K;for(let ne=j.length-1;ne>=0;ne--){const _e=j[ne];if(_e.element===t){K=_e;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,M.errors,_)}return j.length?j.map(K=>K.buildKeyframes()):[Bg(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:bo(nf(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?bo(i.duration):null,f=null!=i.delay?bo(i.delay):null;return 0!==u&&e.forEach(_=>{const v=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Lr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bd);const u=bo(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Lr(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?bo(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Lr(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Lg(t.params?nf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?bo(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bd);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((v,D)=>{t.currentQueryIndex=D;const M=t.createSubContext(e.options,v);a&&M.delayNextStep(a),v===t.element&&(_=M.currentTimeline),Lr(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;Lr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const bd={};class jg{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Jo(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=bo(i.duration)),null!=i.delay&&(r.delay=bo(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=nf(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new jg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=bd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new dT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(n0,"."+this._enterClassName)).replace(s0,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!a&&0==f.length&&u.push(function EE(n){return new c.vHH(3014,!1)}()),f}}class Jo{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Jo(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ai),this._currentKeyframe.set(t,Ai);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function wd(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Ai)}else Pa(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const v=nf(_,a,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ai),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const v=Pa(f,new Map,this._backFill);v.forEach((D,M)=>{D===Ag?e.add(M):D===Ai&&t.add(M)}),i||v.set("offset",_/this.duration),r.push(v)});const a=e.size?rf(e.values()):[],u=t.size?rf(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return Bg(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class dT extends Jo{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Pa(e[0]);_.set("offset",0),a.push(_);const v=Pa(e[0]);v.set("offset",a0(f)),a.push(v);const D=e.length-1;for(let M=1;M<=D;M++){let B=Pa(e[M]);const j=B.get("offset");B.set("offset",a0((t+j*i)/u)),a.push(B)}i=u,t=0,r="",e=a}return Bg(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function a0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class df{}const l0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class c0 extends df{normalizePropertyName(e,t){return vd(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(l0.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function fy(n,e){return new c.vHH(3005,!1)}())}return u+a}}function hT(n,e,t,i,r,a,u,f,_,v,D,M,B){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:v,postStyleProps:D,totalTime:M,errors:B}}const Rt={};class u0{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function fT(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,v,D){const M=[],B=this.ast.options&&this.ast.options.params||Rt,K=this.buildStyles(i,f&&f.params||Rt,M),ne=_&&_.params||Rt,_e=this.buildStyles(r,ne,M),ze=new Set,dt=new Map,ht=new Map,bt="void"===r,Wt={params:Ed(ne,B),delay:this.ast.options?.delay},nn=D?[]:zg(e,t,this.ast.animation,a,u,K,_e,Wt,v,M);let Mn=0;if(nn.forEach(Du=>{Mn=Math.max(Du.duration+Du.delay,Mn)}),M.length)return hT(t,this._triggerName,i,r,bt,K,_e,[],[],dt,ht,Mn,M);nn.forEach(Du=>{const Iu=Du.element,QV=Fr(dt,Iu,new Set);Du.preStyleProps.forEach(fp=>QV.add(fp));const Hb=Fr(ht,Iu,new Set);Du.postStyleProps.forEach(fp=>Hb.add(fp)),Iu!==t&&ze.add(Iu)});const Ir=rf(ze.values());return hT(t,this._triggerName,i,r,bt,K,_e,nn,Ir,dt,ht,Mn)}}function Ed(n,e){const t=ts(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class pT{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=ts(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=nf(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(f,u)})}),i}}class $g{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new pT(r.style,r.options&&r.options.params||{},i))}),gT(this.states,"true","1"),gT(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new u0(e,r,this.states))}),this.fallbackTransition=function di(n,e,t){return new u0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function gT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const d0=new uf;class h0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],a=Iy(this._driver,t,i,r);if(i.length)throw function TE(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=Yh(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=zg(this._driver,t,a,wy,Xh,new Map,new Map,i,d0,r),u.forEach(D=>{const M=Fr(f,D.element,new Map);D.postStyleProps.forEach(B=>M.set(B,null))})):(r.push(function AE(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function $S(n){return new c.vHH(3504,!1)}();f.forEach((D,M)=>{D.forEach((B,j)=>{D.set(j,this._driver.computeStyle(M,j,Ai))})});const v=ka(u.map(D=>{const M=f.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ME(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=vy(t,"","","");return Qo(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const f0="ng-animate-queued",Gg="ng-animate-disabled",_T=[],_0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zs="__ng_removed";class Ay{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pf(n){return n??null}(i?e.value:e),i){const a=ts(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const ff="void",Cd=new Ay(ff);class y0{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function xE(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function OE(n){return new c.vHH(3303,!1)}();if(!function vT(n){return"start"==n||"done"==n}(i))throw function _y(n,e){return new c.vHH(3400,!1)}();const a=Fr(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Fr(this._engine.statesByElement,e,new Map);return f.has(t)||(bs(e,Fg),bs(e,Fg+"-"+t),f.set(t,Cd)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function RE(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new Zg(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(bs(e,Fg),bs(e,Fg+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const v=new Ay(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&v.absorbOptions(_.options),f.set(t,v),_||(_=Cd),v.value!==ff&&_.value===v.value){if(!function wT(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,v.params)){const ne=[],_e=a.matchStyles(_.value,_.params,ne),ze=a.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{nu(e,_e),Xo(e,ze)})}return}const B=Fr(this._engine.playersByElement,e,[]);B.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let j=a.matchTransition(_.value,v.value,e,v.params),K=!1;if(!j){if(!r)return;j=a.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:v,player:u,isFallbackTransition:K}),K||(bs(e,f0),u.onStart(()=>{su(e,f0)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const _e=this._engine.playersByElement.get(e);if(_e){let ze=_e.indexOf(u);ze>=0&&_e.splice(ze,1)}}),this.players.push(u),B.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Jh,!0);i.forEach(r=>{if(r[Zs])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,v)=>{if(u.set(v,_.value),this._triggers.has(v)){const D=this.trigger(e,v,ff,r);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&ka(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,v=i.get(u)||Cd,D=new Ay(ff),M=new Zg(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:v,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Zs];(!a||a===_0)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){bs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=vy(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,Qo(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class v0{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new y0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const v=i.indexOf(_);i.splice(v+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(Al(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Al(t))return;const a=t[Zs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bs(e,Gg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),su(e,Gg))}removeNode(e,t,i,r){if(Al(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Zs]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return Al(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Jh,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ef,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ka(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Zs];if(t&&t.setForRemoval){if(e[Zs]=_0,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Gg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ka(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function kE(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new uf,r=[],a=new Map,u=[],f=new Map,_=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(Et=>{D.add(Et);const Vt=this.driver.query(Et,".ng-animate-queued",!0);for(let Ht=0;Ht<Vt.length;Ht++)D.add(Vt[Ht])});const M=this.bodyNode,B=Array.from(this.statesByElement.keys()),j=My(B,this.collectedEnterElements),K=new Map;let ne=0;j.forEach((Et,Vt)=>{const Ht=wy+ne++;K.set(Vt,Ht),Et.forEach(Dn=>bs(Dn,Ht))});const _e=[],ze=new Set,dt=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Vt=this.collectedLeaveElements[Et],Ht=Vt[Zs];Ht&&Ht.setForRemoval&&(_e.push(Vt),ze.add(Vt),Ht.hasAnimation?this.driver.query(Vt,".ng-star-inserted",!0).forEach(Dn=>ze.add(Dn)):dt.add(Vt))}const ht=new Map,bt=My(B,Array.from(ze));bt.forEach((Et,Vt)=>{const Ht=Xh+ne++;ht.set(Vt,Ht),Et.forEach(Dn=>bs(Dn,Ht))}),e.push(()=>{j.forEach((Et,Vt)=>{const Ht=K.get(Vt);Et.forEach(Dn=>su(Dn,Ht))}),bt.forEach((Et,Vt)=>{const Ht=ht.get(Vt);Et.forEach(Dn=>su(Dn,Ht))}),_e.forEach(Et=>{this.processLeaveNode(Et)})});const Wt=[],nn=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Ht=>{const Dn=Ht.player,Sr=Ht.element;if(Wt.push(Dn),this.collectedEnterElements.length){const as=Sr[Zs];if(as&&as.setForMove){if(as.previousTriggersValues&&as.previousTriggersValues.has(Ht.triggerName)){const pp=as.previousTriggersValues.get(Ht.triggerName),na=this.statesByElement.get(Ht.element);if(na&&na.has(Ht.triggerName)){const wI=na.get(Ht.triggerName);wI.value=pp,na.set(Ht.triggerName,wI)}}return void Dn.destroy()}}const Zl=!M||!this.driver.containsElement(M,Sr),To=ht.get(Sr),sh=K.get(Sr),bi=this._buildInstruction(Ht,i,sh,To,Zl);if(bi.errors&&bi.errors.length)return void nn.push(bi);if(Zl)return Dn.onStart(()=>nu(Sr,bi.fromStyles)),Dn.onDestroy(()=>Xo(Sr,bi.toStyles)),void r.push(Dn);if(Ht.isFallbackTransition)return Dn.onStart(()=>nu(Sr,bi.fromStyles)),Dn.onDestroy(()=>Xo(Sr,bi.toStyles)),void r.push(Dn);const eU=[];bi.timelines.forEach(as=>{as.stretchStartingKeyframe=!0,this.disabledNodes.has(as.element)||eU.push(as)}),bi.timelines=eU,i.append(Sr,bi.timelines),u.push({instruction:bi,player:Dn,element:Sr}),bi.queriedElements.forEach(as=>Fr(f,as,[]).push(Dn)),bi.preStyleProps.forEach((as,pp)=>{if(as.size){let na=_.get(pp);na||_.set(pp,na=new Set),as.forEach((wI,ER)=>na.add(ER))}}),bi.postStyleProps.forEach((as,pp)=>{let na=v.get(pp);na||v.set(pp,na=new Set),as.forEach((wI,ER)=>na.add(ER))})});if(nn.length){const Et=[];nn.forEach(Vt=>{Et.push(function PE(n,e){return new c.vHH(3505,!1)}())}),Wt.forEach(Vt=>Vt.destroy()),this.reportError(Et)}const Mn=new Map,Ir=new Map;u.forEach(Et=>{const Vt=Et.element;i.has(Vt)&&(Ir.set(Vt,Vt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,Mn))}),r.forEach(Et=>{const Vt=Et.element;this._getPreviousPlayers(Vt,!1,Et.namespaceId,Et.triggerName,null).forEach(Dn=>{Fr(Mn,Vt,[]).push(Dn),Dn.destroy()})});const Du=_e.filter(Et=>ET(Et,_,v)),Iu=new Map;w0(Iu,this.driver,dt,v,Ai).forEach(Et=>{ET(Et,_,v)&&Du.push(Et)});const Hb=new Map;j.forEach((Et,Vt)=>{w0(Hb,this.driver,new Set(Et),_,Ag)}),Du.forEach(Et=>{const Vt=Iu.get(Et),Ht=Hb.get(Et);Iu.set(Et,new Map([...Array.from(Vt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const fp=[],XV=[],JV={};u.forEach(Et=>{const{element:Vt,player:Ht,instruction:Dn}=Et;if(i.has(Vt)){if(D.has(Vt))return Ht.onDestroy(()=>Xo(Vt,Dn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Dn.totalTime),void r.push(Ht);let Sr=JV;if(Ir.size>1){let To=Vt;const sh=[];for(;To=To.parentNode;){const bi=Ir.get(To);if(bi){Sr=bi;break}sh.push(To)}sh.forEach(bi=>Ir.set(bi,Sr))}const Zl=this._buildAnimation(Ht.namespaceId,Dn,Mn,a,Hb,Iu);if(Ht.setRealPlayer(Zl),Sr===JV)fp.push(Ht);else{const To=this.playersByElement.get(Sr);To&&To.length&&(Ht.parentPlayer=ka(To)),r.push(Ht)}}else nu(Vt,Dn.fromStyles),Ht.onDestroy(()=>Xo(Vt,Dn.toStyles)),XV.push(Ht),D.has(Vt)&&r.push(Ht)}),XV.forEach(Et=>{const Vt=a.get(Et.element);if(Vt&&Vt.length){const Ht=ka(Vt);Et.setRealPlayer(Ht)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<_e.length;Et++){const Vt=_e[Et],Ht=Vt[Zs];if(su(Vt,Xh),Ht&&Ht.hasAnimation)continue;let Dn=[];if(f.size){let Zl=f.get(Vt);Zl&&Zl.length&&Dn.push(...Zl);let To=this.driver.query(Vt,ef,!0);for(let sh=0;sh<To.length;sh++){let bi=f.get(To[sh]);bi&&bi.length&&Dn.push(...bi)}}const Sr=Dn.filter(Zl=>!Zl.destroyed);Sr.length?bT(this,Vt,Sr):this.processLeaveNode(Vt)}return _e.length=0,fp.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Vt=this.players.indexOf(Et);this.players.splice(Vt,1)}),Et.play()}),fp}elementContainsData(e,t){let i=!1;const r=t[Zs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==ff;f.forEach(v=>{v.queued||!_&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const v=_.element,D=v!==a,M=Fr(i,v,[]);this._getPreviousPlayers(v,D,u,f,t.toState).forEach(j=>{const K=j.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),j.destroy(),M.push(j)})}nu(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,v=[],D=new Set,M=new Set,B=t.timelines.map(K=>{const ne=K.element;D.add(ne);const _e=ne[Zs];if(_e&&_e.removedBeforeQueried)return new yd(K.duration,K.delay);const ze=ne!==_,dt=function E0(n){const e=[];return C0(n,e),e}((i.get(ne)||_T).map(Mn=>Mn.getRealPlayer())).filter(Mn=>!!Mn.element&&Mn.element===ne),ht=a.get(ne),bt=u.get(ne),Wt=Yh(0,this._normalizer,0,K.keyframes,ht,bt),nn=this._buildPlayer(K,Wt,dt);if(K.subTimeline&&r&&M.add(ne),ze){const Mn=new Zg(e,f,ne);Mn.setRealPlayer(nn),v.push(Mn)}return nn});v.forEach(K=>{Fr(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function yT(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,K.element,K))}),D.forEach(K=>bs(K,YS));const j=ka(B);return j.onDestroy(()=>{D.forEach(K=>su(K,YS)),Xo(_,t.toStyles)}),M.forEach(K=>{Fr(r,K,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new yd(e.duration,e.delay)}}class Zg{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new yd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Qo(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Al(n){return n&&1===n.nodeType}function b0(n,e){const t=n.style.display;return n.style.display=e??"none",t}function w0(n,e,t,i,r){const a=[];t.forEach(_=>a.push(b0(_)));const u=[];i.forEach((_,v)=>{const D=new Map;_.forEach(M=>{const B=e.computeStyle(v,M,r);D.set(M,B),(!B||0==B.length)&&(v[Zs]=hf,u.push(v))}),n.set(v,D)});let f=0;return t.forEach(_=>b0(_,a[f++])),u}function My(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=1,r=new Set(e),a=new Map;function u(f){if(!f)return i;let _=a.get(f);if(_)return _;const v=f.parentNode;return _=t.has(v)?v:r.has(v)?i:u(v),a.set(f,_),_}return e.forEach(f=>{const _=u(f);_!==i&&t.get(_).push(f)}),t}function bs(n,e){n.classList?.add(e)}function su(n,e){n.classList?.remove(e)}function bT(n,e,t){ka(t).onDone(()=>n.processLeaveNode(e))}function C0(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof dy?C0(i.players,e):e.push(i)}}function ET(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class xy{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new v0(e,t,i),this._timelineEngine=new h0(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],v=[],D=Iy(this._driver,a,_,v);if(_.length)throw function IE(n,e){return new c.vHH(3404,!1)}();f=function Hg(n,e,t){return new $g(n,e,t)}(r,D,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=Tl(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=Tl(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let XR=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Xo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xo(this._element,this._initialStyles),this._endStyles&&(Xo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nu(this._element,this._endStyles),this._endStyles=null),Xo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qg(n){let e=null;return n.forEach((t,i)=>{(function Wg(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class D0{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:sf(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class CT{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return BE(e,t)}getParentElement(e){return VE(e)}query(e,t,i){return zE(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const v=new Map,D=u.filter(j=>j instanceof D0);(function qE(n,e){return 0===n||0===e})(i,r)&&D.forEach(j=>{j.currentSnapshot.forEach((K,ne)=>v.set(ne,K))});let M=function wo(n){return n.length?n[0]instanceof Map?n:n.map(e=>Gs(e)):[]}(t).map(j=>Pa(j));M=function WE(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,sf(n,f)))}}return e}(e,M,v);const B=function QR(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qg(e[0]),e.length>1&&(i=qg(e[e.length-1]))):e instanceof Map&&(t=qg(e)),t||i?new XR(n,t,i):null}(e,M);return new D0(e,M,_,B)}}let I0=(()=>{class n extends Sl{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Yc(t):t;return S0(this._renderer,null,i,"register",[r]),new gf(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class gf extends Tg{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new DT(this._id,e,t||{},this._renderer)}}class DT{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return S0(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function S0(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const T0="@.disabled";let JR=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(a);return D||(D=new A0("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,f,t,D.name,D)};return i.data.animation.forEach(_),new M0(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(xy),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class A0{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==T0?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class M0 extends A0{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==T0?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function IT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function ST(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let mf=(()=>{class n extends xy{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(Ng),c.LFG(df),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const O0=[{provide:Sl,useClass:I0},{provide:df,useFactory:function TT(){return new c0}},{provide:xy,useClass:mf},{provide:c.FYo,useFactory:function x0(n,e,t){return new JR(n,e,t)},deps:[Vo,xy,c.R0b]}],Yg=[{provide:Ng,useFactory:()=>new CT},{provide:c.QbO,useValue:"BrowserAnimations"},...O0],R0=[{provide:Ng,useClass:jE},{provide:c.QbO,useValue:"NoopAnimations"},...O0];let k0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?R0:Yg}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Yg,imports:[so]}),n})(),Oy=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ou=(()=>{class n extends Oy{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ea=new c.OlP("NgValueAccessor"),MT={provide:ea,useExisting:(0,c.Gpc)(()=>Dd),multi:!0},xT=new c.OlP("CompositionEventMode");let Dd=(()=>{class n extends Oy{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F0(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(xT,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([MT]),c.qOj]}),n})();const OT=!1;function Ml(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function L0(n){return null!=n&&"number"==typeof n.length}const _r=new c.OlP("NgValidators"),xl=new c.OlP("NgAsyncValidators"),RT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Id{static min(e){return function Ry(n){return e=>{if(Ml(e.value)||Ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function V0(n){return e=>{if(Ml(e.value)||Ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function U0(n){return Ml(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function ky(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function B0(n){return Ml(n.value)||RT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function z0(n){return e=>Ml(e.value)||!L0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return j0(e)}static pattern(e){return function Xg(n){if(!n)return Sd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ml(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Fy(e)}static composeAsync(e){return Ly(e)}}function j0(n){return e=>L0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Sd(n){return null}function Py(n){return null!=n}function Jg(n){const e=(0,c.QGY)(n)?(0,dn.D)(n):n;if(OT&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function H0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $0(n,e){return e.map(t=>t(n))}function G0(n){return n.map(e=>function Ny(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fy(n){if(!n)return null;const e=n.filter(Py);return 0==e.length?null:function(t){return H0($0(t,e))}}function Ol(n){return null!=n?Fy(G0(n)):null}function Ly(n){if(!n)return null;const e=n.filter(Py);return 0==e.length?null:function(t){return function N0(...n){const e=(0,$o.jO)(n),{args:t,keys:i}=Vs(n),r=new Rn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,v=u;for(let D=0;D<u;D++){let M=!1;(0,Me.Xf)(t[D]).subscribe((0,S.x)(a,B=>{M||(M=!0,v--),f[D]=B},()=>_--,void 0,()=>{(!_||!M)&&(v||a.next(i?I(i,f):f),a.complete())}))}});return e?r.pipe(Us(e)):r}($0(t,e).map(Jg)).pipe((0,ft.U)(H0))}}function Vy(n){return null!=n?Ly(G0(n)):null}function kT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Uy(n){return n._rawValidators}function em(n){return n._rawAsyncValidators}function By(n){return n?Array.isArray(n)?n:[n]:[]}function Td(n,e){return Array.isArray(n)?n.includes(e):n===e}function Z0(n,e){const t=By(e);return By(n).forEach(r=>{Td(t,r)||t.push(r)}),t}function zy(n,e){return By(e).filter(t=>!Td(n,t))}class tm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ol(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yr extends tm{get formDirective(){return null}get path(){return null}}class Na extends tm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jy{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nm=(()=>{class n extends jy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Na,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),Hy=(()=>{class n extends jy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();function q0(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Gy=!1,yf="VALID",Rl="INVALID",au="PENDING",Ad="DISABLED";function rm(n){return(om(n)?n.validators:n)||null}function sm(n,e){return(om(e)?e.asyncValidators:n)||null}function om(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function jT(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,Gy?function VT(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new c.vHH(1001,Gy?function UT(n,e){return`Cannot find form control ${q0(n,e)}`}(e,t):"")}function K0(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,Gy?function BT(n,e){return`Must supply a value for form control ${q0(n,e)}`}(e,r):"")})}class am{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yf}get invalid(){return this.status===Rl}get pending(){return this.status==au}get disabled(){return this.status===Ad}get enabled(){return this.status!==Ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Z0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Z0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zy(e,this._rawAsyncValidators))}hasValidator(e){return Td(this._rawValidators,e)}hasAsyncValidator(e){return Td(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=au,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yf||this.status===au)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ad:yf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=au,this._hasOwnPendingAsyncValidator=!0;const t=Jg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ad:this.errors?Rl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(au)?au:this._anyControlsHaveStatus(Rl)?Rl:yf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){om(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function W0(n){return Array.isArray(n)?Ol(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zT(n){return Array.isArray(n)?Vy(n):n||null}(this._rawAsyncValidators)}}class vf extends am{constructor(e,t,i){super(rm(t),sm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){K0(this,!0,e),Object.keys(e).forEach(i=>{jT(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Md extends vf{}const Fa=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ns}),ns="always";function lm(n,e){return[...e.path,n]}function lu(n,e,t=ns){Zy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function um(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Y0(n,e)})}(n,e),function Q0(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $T(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Y0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function HT(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function kl(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),cu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Zy(n,e){const t=Uy(n);null!==e.validator?n.setValidators(kT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=em(n);null!==e.asyncValidator?n.setAsyncValidators(kT(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();cm(e._rawValidators,r),cm(e._rawAsyncValidators,r)}function cu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Uy(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=em(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return cm(e._rawValidators,i),cm(e._rawAsyncValidators,i),t}function Y0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qy(n,e){Zy(n,e)}function wf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function J0(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Yy(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Dd?t=a:function qT(n){return Object.getPrototypeOf(n.constructor)===ou}(a)?i=a:r=a}),r||i||t||null}const Qy={provide:yr,useExisting:(0,c.Gpc)(()=>Ef)},xd=(()=>Promise.resolve())();let Ef=(()=>{class n extends yr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new vf({},Ol(t),Vy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xd.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),lu(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xd.then(()=>{const i=this._findContainer(t.path),r=new vf({});qy(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){xd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,J0(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10),c.Y36(xl,10),c.Y36(Fa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Qy]),c.qOj]}),n})();function Xy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Jy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Od=class extends am{constructor(e=null,t,i){super(rm(t),sm(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),om(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Jy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Jy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},eC=Od,fk={provide:Na,useExisting:(0,c.Gpc)(()=>dm)},XT=(()=>Promise.resolve())();let dm=(()=>{class n extends Na{constructor(t,i,r,a,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new Od,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Yy(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wf(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){XT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);XT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lm(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yr,9),c.Y36(_r,10),c.Y36(xl,10),c.Y36(ea,10),c.Y36(c.sBO,8),c.Y36(Fa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([fk]),c.qOj,c.TTD]}),n})(),Df=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const fm=new c.OlP("NgModelWithFormControlWarning"),oC={provide:Na,useExisting:(0,c.Gpc)(()=>Rd)};let Rd=(()=>{class n extends Na{set isDisabled(t){}constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=u,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Yy(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&kl(i,this,!1),lu(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}wf(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kl(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10),c.Y36(xl,10),c.Y36(ea,10),c.Y36(fm,8),c.Y36(Fa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([oC]),c.qOj,c.TTD]}),n})();const nv={provide:yr,useExisting:(0,c.Gpc)(()=>iv)};let iv=(()=>{class n extends yr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return lu(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){kl(t.control||null,t,!1),function WT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,J0(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(kl(i||null,t),(n=>n instanceof Od)(r)&&(lu(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);qy(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Wy(n,e){return cu(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zy(this.form,this),this._oldForm&&cu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10),c.Y36(xl,10),c.Y36(Fa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([nv]),c.qOj,c.TTD]}),n})();const uC={provide:Na,useExisting:(0,c.Gpc)(()=>Sf)};let Sf=(()=>{class n extends Na{set isDisabled(t){}constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Yy(0,a)}ngOnChanges(t){this._added||this._setUpControl(),wf(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return lm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(yr,13),c.Y36(_r,10),c.Y36(xl,10),c.Y36(ea,10),c.Y36(fm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([uC]),c.qOj,c.TTD]}),n})();let Nl=(()=>{class n{constructor(){this._validator=Sd}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Sd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const vk={provide:_r,useExisting:(0,c.Gpc)(()=>vC),multi:!0};let vC=(()=>{class n extends Nl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function pC(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>j0(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([vk]),c.qOj]}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[tv]}),n})();class kd extends am{constructor(e,t,i){super(rm(t),sm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){K0(this,!1,e),e.forEach((i,r)=>{jT(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}const bC=kd;function uA(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let hv=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return uA(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new vf(r,a)}record(t,i=null){const r=this._reduceControls(t);return new Md(r,i)}control(t,i,r){let a={};return this.useNonNullable?(uA(i)?a=i:(a.validators=i,a.asyncValidators=r),new Od(t,{...a,nonNullable:!0})):new Od(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new kd(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Od||t instanceof am?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fa,useValue:t.callSetDisabledState??ns}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dv]}),n})(),EC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fm,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fa,useValue:t.callSetDisabledState??ns}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dv]}),n})();function Tf(n,e=0){return function fA(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function fv(n){return Array.isArray(n)?n:[n]}function Vi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Af(n){return n instanceof c.SBq?n.nativeElement:n}var pA=V(1144);const gA=["addListener","removeListener"],Ck=["addEventListener","removeEventListener"],mA=["on","off"];function Mf(n,e,t,i){if((0,ms.m)(t)&&(i=t,t=void 0),i)return Mf(n,e,t).pipe(Us(i));const[r,a]=function _A(n){return(0,ms.m)(n.addEventListener)&&(0,ms.m)(n.removeEventListener)}(n)?Ck.map(u=>f=>n[u](e,f,t)):function Dk(n){return(0,ms.m)(n.addListener)&&(0,ms.m)(n.removeListener)}(n)?gA.map(pv(n,e)):function Eo(n){return(0,ms.m)(n.on)&&(0,ms.m)(n.off)}(n)?mA.map(pv(n,e)):[];if(!r&&(0,pA.z)(n))return(0,Yi.z)(u=>Mf(u,e,t))((0,Me.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Rn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function pv(n,e){return t=>i=>n[t](e,i)}var gm=V(4408);const xf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=xf;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new nd.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=xf;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=xf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var ws=V(7565);const gv=new class yA extends ws.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Ik extends gm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=xf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(xf.cancelAnimationFrame(t),e._scheduled=void 0)}});let Of,vA=1;const Rf={};function mv(n){return n in Rf&&(delete Rf[n],!0)}const bA={setImmediate(n){const e=vA++;return Rf[e]=!0,Of||(Of=Promise.resolve()),Of.then(()=>mv(e)&&n()),e},clearImmediate(n){mv(n)}},{setImmediate:CC,clearImmediate:EA}=bA,kf={setImmediate(...n){const{delegate:e}=kf;return(e?.setImmediate||CC)(...n)},clearImmediate(n){const{delegate:e}=kf;return(e?.clearImmediate||EA)(n)},delegate:void 0},La=new class _v extends ws.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class CA extends gm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=kf.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(kf.clearImmediate(t),e._scheduled=void 0)}});var Pf=V(4986),DC=V(3532);function vv(n,e=Pf.z){return function yv(n){return(0,qe.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const v=r;r=null,t.next(v)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,S.x)(t,v=>{i=!0,r=v,a||(0,Me.Xf)(n(v)).subscribe(a=(0,S.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Tk(n=0,e,t=Pf.P){let i=-1;return null!=e&&((0,DC.K)(e)?t=e:i=e),new Rn.y(r=>{let a=function DA(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let bv;try{bv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bv=!1}let Nf,Pd,Fl,mm,Co=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Za(n){return n===dr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wv(n){return function IC(){if(null==Nf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nf=!0}))}finally{Nf=Nf||!1}return Nf}()?n:!!n.capture}function Ev(){if(null==Fl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fl=!1,Fl;if("scrollBehavior"in document.documentElement.style)Fl=!0;else{const n=Element.prototype.scrollTo;Fl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fl}function Nd(){if("object"!=typeof document||!document)return 0;if(null==Pd){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Pd=0,0===n.scrollLeft&&(n.scrollLeft=1,Pd=0===n.scrollLeft?1:2),n.remove()}return Pd}function Fd(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Va(n){return n.composedPath?n.composedPath()[0]:n.target}function Cv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const TA=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function Mk(){return(0,c.f3M)(te)}}),xk=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hu=(()=>{class n{constructor(t){this.value="ltr",this.change=new c.vpe,t&&(this.value=function Ok(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?xk.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(TA,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const AA=["contentWrapper"],kk=["*"],Pk=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let fu=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new At.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Rn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(vv(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):mt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Af(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Co),c.LFG(te,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TC=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new At.x,this._elementScrolled=new Rn.y(u=>this.ngZone.runOutsideAngular(()=>Mf(this.elementRef.nativeElement,"scroll").pipe(on(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Nd()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Nd()?t.left=t.right:1==Nd()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;Ev()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==Nd()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==Nd()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(fu),c.Y36(c.R0b),c.Y36(hu,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),ym=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new At.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(vv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Co),c.LFG(c.R0b),c.LFG(te,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ll=new c.OlP("VIRTUAL_SCROLLABLE");let AC=(()=>{class n extends TC{constructor(t,i,r,a){super(t,i,r,a)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(fu),c.Y36(c.R0b),c.Y36(hu,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Iv=typeof requestAnimationFrame<"u"?gv:La;let OA=(()=>{class n extends AC{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function hA(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,i,r,a,u,f,_,v){super(t,f,r,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=v,this._platform=(0,c.f3M)(Co),this._detachedSubject=new At.x,this._renderedRangeSubject=new At.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Rn.y(D=>this._scrollStrategy.scrolledIndexChange.subscribe(M=>Promise.resolve().then(()=>this.ngZone.run(()=>D.next(M))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=nd.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(ml(null),vv(0,Iv)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(on(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Dv(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const a="horizontal"==this.orientation,u=a?"X":"Y";let _=`translate${u}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",a="right",u="rtl"==this.dir?.value;i="start"==t?u?a:r:"end"==t?u?r:a:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Pk,8),c.Y36(hu,8),c.Y36(fu),c.Y36(ym),c.Y36(Ll,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&c.Gf(AA,7),2&t){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:TC,useFactory:(e,t)=>e||t,deps:[[new c.FiY,new c.tBr(Ll)],n]}]),c.qOj,c.jDz],ngContentSelectors:kk,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),RA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),kA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ff,RA,OA,Ff,RA]}),n})();class vm{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bm extends vm{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class Tv extends vm{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class NA extends vm{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class Av{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof bm?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Tv?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof NA?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Mv extends Av{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let xv=(()=>{class n extends Av{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(a,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(te))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),Ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Rv=V(6451);const RC=Ev();class VA{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Vi(-this._previousScrollPosition.left),e.style.top=Vi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),RC&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RC&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Bk{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(vi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class UA{enable(){}disable(){}attach(){}}function kC(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function PC(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class zk{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();kC(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jk=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new UA,this.close=u=>new Bk(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new VA(this._viewportRuler,this._document),this.reposition=u=>new zk(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fu),c.LFG(ym),c.LFG(c.R0b),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BA{constructor(e){if(this.scrollStrategy=new UA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Hk{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let l=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d=(()=>{class n extends l{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h=(()=>{class n extends l{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Va(a)},this._clickListener=a=>{const u=Va(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let v=_.length-1;v>-1;v--){const D=_[v];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(f))break;const M=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(Co),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Cv()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),Cv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(Co))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y{constructor(e,t,i,r,a,u,f,_,v,D=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=v,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new At.x,this._attachments=new At.x,this._detachments=new At.x,this._locationChanges=nd.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new At.x,this._outsidePointerEvents=new At.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ct(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Vi(this._config.width),e.height=Vi(this._config.height),e.minWidth=Vi(this._config.minWidth),e.minHeight=Vi(this._config.minHeight),e.maxWidth=Vi(this._config.maxWidth),e.maxHeight=Vi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=fv(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(on((0,Rv.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const E="cdk-overlay-connected-position-bounding-box",C=/([A-Za-z%]+)$/;class T{get positions(){return this._preferredPositions}constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new At.x,this._resizeSubscription=nd.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(E),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(_,t,f),D=this._getOverlayFit(v,t,i,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(D,v,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:v,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const v of a){const D=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);D>_&&(_=D,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&R(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=Y(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),v=this._getOffset(r,"y");_&&(u+=_),v&&(f+=v);let B=0-f,j=f+a.height-i.height,K=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ne=this._subtractOverflows(a.height,B,j),_e=K*ne;return{visibleArea:_e,isCompletelyWithinViewport:a.width*a.height===_e,fitsInViewportVertically:ne===a.height,fitsInViewportHorizontally:K==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=U(this._overlayRef.getConfig().minHeight),f=U(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Y(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),v=Math.max(a.left-i.left-e.x,0);let D=0,M=0;return D=r.width<=a.width?v||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,M=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:D,y:M},{x:e.x+D,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Hk(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,D,M,B;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const j=Math.min(i.bottom-e.y+i.top,e.y),K=this._lastBoundingBoxSize.height;a=2*j,u=e.y-j,a>K&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-K/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)B=i.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,D=i.right-e.x;else{const j=Math.min(i.right-e.x+i.left,e.x),K=this._lastBoundingBoxSize.width;D=2*j,M=e.x-j,D>K&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-K/2)}return{top:u,left:M,bottom:f,right:B,width:D,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Vi(i.height),r.top=Vi(i.top),r.bottom=Vi(i.bottom),r.width=Vi(i.width),r.left=Vi(i.left),r.right=Vi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Vi(a)),u&&(r.maxWidth=Vi(u))}this._lastBoundingBoxSize=i,R(this._boundingBox.style,r)}_resetBoundingBoxStyles(){R(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){R(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();R(i,this._getExactOverlayY(t,e,D)),R(i,this._getExactOverlayX(t,e,D))}else i.position="static";let f="",_=this._getOffset(t,"x"),v=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Vi(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Vi(u.maxWidth):a&&(i.maxWidth="")),R(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Vi(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Vi(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:PC(e,i),isOriginOutsideView:kC(e,i),isOverlayClipped:PC(t,i),isOverlayOutsideView:kC(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&fv(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function R(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function U(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(C);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Y(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $e="cdk-global-overlay-wrapper";class et{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add($e),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),D=this._xPosition,M=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let j="",K="",ne="";_?ne="flex-start":"center"===D?(ne="center",B?K=M:j=M):B?"left"===D||"end"===D?(ne="flex-end",j=M):("right"===D||"start"===D)&&(ne="flex-start",K=M):"left"===D||"start"===D?(ne="flex-start",j=M):("right"===D||"end"===D)&&(ne="flex-end",K=M),e.position=this._cssPosition,e.marginLeft=_?"0":j,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":K,t.justifyContent=ne,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove($e),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let gt=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new et}flexibleConnectedTo(t){return new T(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ym),c.LFG(te),c.LFG(Co),c.LFG(p))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lt=0,Pe=(()=>{class n{constructor(t,i,r,a,u,f,_,v,D,M,B,j){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=v,this._directionality=D,this._location=M,this._outsideClickDispatcher=B,this._animationsModuleType=j}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new BA(t);return u.direction=u.direction||this._directionality.value,new y(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Lt++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Mv(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jk),c.LFG(p),c.LFG(c._Vd),c.LFG(gt),c.LFG(d),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(te),c.LFG(hu),c.LFG(Ne),c.LFG(h),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wU={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Pe],useFactory:function bU(n){return()=>n.scrollStrategies.reposition()}};let $k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Pe,wU],imports:[Ff,Ov,kA,kA]}),n})();function Zk(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function qk(n){return vi((e,t)=>n<=t)}function Wk(n,e=jo.y){return n=n??TU,(0,qe.e)((t,i)=>{let r,a=!0;t.subscribe((0,S.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function TU(n,e){return n===e}let AU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[AU]}),n})();const Kk=new Set;let wm,OU=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function RU(n){if(!Kk.has(n))try{wm||(wm=document.createElement("style"),wm.setAttribute("type","text/css"),document.head.appendChild(wm)),wm.sheet&&(wm.sheet.insertRule(`@media ${n} {body{ }}`,0),Kk.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Co))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let PU=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new At.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Yk(fv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=z(Yk(fv(t)).map(u=>this._registerQuery(u).observable));return a=Mh(a.pipe(Ct(1)),a.pipe(qk(1),function xU(n,e=Pf.z){return(0,qe.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function _(){const v=u+n,D=e.now();if(D<v)return r=this.schedule(void 0,v-D),void i.add(r);f()}t.subscribe((0,S.x)(i,v=>{a=v,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(0))),a.pipe((0,ft.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:v})=>{f.matches=f.matches||_,f.breakpoints[v]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Rn.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(ml(i),(0,ft.U)(({matches:u})=>({query:t,matches:u})),on(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(OU),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let NC=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function VU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function LU(n){try{return n.frameElement}catch{return null}}(function ZU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===eP(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=eP(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function $U(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function GU(n){return!function BU(n){return function jU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function UU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function zU(n){return function HU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Jk(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Co))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function eP(n){if(!Jk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class qU{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ct(1)).subscribe(e)}}let zA=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new qU(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(NC),c.LFG(c.R0b),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function nP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const WU=new c.OlP("cdk-input-modality-detector-options"),KU={ignoreKeys:[18,17,224,91,16]},Em=wv({passive:!0,capture:!0});let YU=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new fn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Va(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tP(u)?"keyboard":"mouse"),this._mostRecentTarget=Va(u))},this._onTouchstart=u=>{nP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Va(u))},this._options={...KU,...a},this.modalityDetected=this._modality.pipe(qk(1)),this.modalityChanged=this.modalityDetected.pipe(Wk()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Em),r.addEventListener("mousedown",this._onMousedown,Em),r.addEventListener("touchstart",this._onTouchstart,Em)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Em),document.removeEventListener("mousedown",this._onMousedown,Em),document.removeEventListener("touchstart",this._onTouchstart,Em))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Co),c.LFG(c.R0b),c.LFG(te),c.LFG(WU,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XU=new c.OlP("cdk-focus-monitor-default-options"),FC=wv({passive:!0,capture:!0});let jA=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new At.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=Va(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Af(t);if(!this._platform.isBrowser||1!==r.nodeType)return mt(null);const a=function _m(n){if(function SC(){if(null==mm){const n=typeof document<"u"?document.head:null;mm=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mm}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new At.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Af(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=Af(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Va(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,FC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,FC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(on(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,FC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,FC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Co),c.LFG(YU),c.LFG(te,8),c.LFG(XU,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rP="cdk-high-contrast-black-on-white",sP="cdk-high-contrast-white-on-black",HA="cdk-high-contrast-active";let oP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(PU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(HA,rP,sP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(HA,rP):2===i&&t.add(HA,sP)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Co),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JU=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oP))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[MU]}),n})();function eB(n,e){}class LC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let aP=(()=>{class n extends Av{constructor(t,i,r,a,u,f,_,v){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=u,this._ngZone=f,this._overlayRef=_,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const M=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),M},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Fd(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Fd();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fd())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(zA),c.Y36(te,8),c.Y36(LC),c.Y36(NC),c.Y36(c.R0b),c.Y36(y),c.Y36(jA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&c.Gf(xv,7),2&t){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&c.YNc(0,eB,0,0,"ng-template",0)},dependencies:[xv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class $A{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new At.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Zk(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const lP=new c.OlP("DialogScrollStrategy"),tB=new c.OlP("DialogData"),nB=new c.OlP("DefaultDialogConfig"),rB={provide:lP,deps:[Pe],useFactory:function iB(n){return()=>n.scrollStrategies.block()}};let sB=0,cP=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,a,u,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new At.x,this._afterOpenedAtThisLevel=new At.x,this._ariaHiddenElements=new Map,this.afterAllClosed=kc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ml(void 0))),this._scrollStrategy=f}open(t,i){(i={...this._defaultOptions||new LC,...i}).id=i.id||"cdk-dialog-"+sB++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),u=this._overlay.create(a),f=new $A(u,i),_=this._attachContainer(u,f,i);return f.containerInstance=_,this._attachDialogContent(t,f,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){GA(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){GA(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),GA(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new BA({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const a=r.injector||r.viewContainerRef?.injector,u=[{provide:LC,useValue:r},{provide:$A,useValue:i},{provide:y,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,u.push(...r.container.providers(r))):f=aP;const _=new bm(f,r.viewContainerRef,c.zs3.create({parent:a||this._injector,providers:u}),r.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,i,r,a){if(t instanceof c.Rgc){const u=this._createInjector(a,i,r,void 0);let f={$implicit:a.data,dialogRef:i};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new Tv(t,null,f,u))}else{const u=this._createInjector(a,i,r,this._injector),f=r.attachComponentPortal(new bm(t,a.viewContainerRef,u,a.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r,a){const u=t.injector||t.viewContainerRef?.injector,f=[{provide:tB,useValue:t.data},{provide:$A,useValue:i}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(i,t,r)):f.push(...t.providers)),t.direction&&(!u||!u.get(hu,null,{optional:!0}))&&f.push({provide:hu,useValue:{value:t.direction,change:mt()}}),c.zs3.create({parent:u||a,providers:f})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pe),c.LFG(c.zs3),c.LFG(nB,8),c.LFG(n,12),c.LFG(p),c.LFG(lP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function GA(n,e){let t=n.length;for(;t--;)e(n[t])}let oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cP,rB],imports:[$k,Ov,JU,Ov]}),n})();const lB=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function aB(){return!0}});let hP=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Cv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oP),c.LFG(lB,8),c.LFG(te))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ff,Ff]}),n})();class uB{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fP=wv({passive:!0,capture:!0});class dB{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Va(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const u=a.get(i);u?u.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,fP)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,fP)))}}const pP={enterDuration:225,exitDuration:150},gP=wv({passive:!0,capture:!0}),mP=["mousedown","touchstart"],_P=["mouseup","mouseleave","touchend","touchcancel"];class VC{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Af(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...pP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function fB(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,v=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(D);const M=window.getComputedStyle(D),j=M.transitionDuration,K="none"===M.transitionProperty||"0s"===j||"0s, 0s"===j||0===r.width&&0===r.height,ne=new uB(this,D,i,K);D.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let _e=null;return!K&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ze=()=>this._finishRippleTransition(ne),dt=()=>this._destroyRipple(ne);D.addEventListener("transitionend",ze),D.addEventListener("transitioncancel",dt),_e={onTransitionEnd:ze,onTransitionCancel:dt}}),this._activeRipples.set(ne,_e),(K||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...pP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Af(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,mP.forEach(i=>{VC._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_P.forEach(t=>{this._triggerElement.addEventListener(t,this,gP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=tP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!nP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(mP.forEach(t=>VC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&_P.forEach(t=>e.removeEventListener(t,this,gP)))}}function pB(n,e){}VC._eventManager=new dB;class UC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ZA="mdc-dialog--open",yP="mdc-dialog--opening",vP="mdc-dialog--closing";let _B=(()=>{class n extends aP{constructor(t,i,r,a,u,f,_,v){super(t,i,r,a,u,f,_,v),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(zA),c.Y36(te,8),c.Y36(UC),c.Y36(NC),c.Y36(c.R0b),c.Y36(y),c.Y36(jA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const bP="--mat-dialog-transition-duration";function wP(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Tf(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Tf(n.substring(0,n.length-1)):"0"===n?0:null}let yB=(()=>{class n extends _B{constructor(t,i,r,a,u,f,_,v,D){super(t,i,r,a,u,f,_,D),this._animationMode=v,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?wP(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?wP(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(bP,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(yP),this._hostElement.classList.add(ZA),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ZA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(ZA),this._animationsEnabled?(this._hostElement.style.setProperty(bP,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(vP),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(yP),this._hostElement.classList.remove(vP)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(zA),c.Y36(te,8),c.Y36(UC),c.Y36(NC),c.Y36(c.R0b),c.Y36(y),c.Y36(c.QbO,8),c.Y36(jA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[c.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,pB,0,0,"ng-template",2),c.qZA()())},dependencies:[xv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class EP{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new At.x,this._beforeClosed=new At.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(vi(r=>"opened"===r.state),Ct(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(vi(r=>"closed"===r.state),Ct(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Rv.T)(this.backdropClick(),this.keydownEvents().pipe(vi(r=>27===r.keyCode&&!this.disableClose&&!Zk(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),CP(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(vi(t=>"closing"===t.state),Ct(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function CP(n,e,t){return n._closeInteractionType=e,n.close(t)}const vB=new c.OlP("MatMdcDialogData"),bB=new c.OlP("mat-mdc-dialog-default-options"),DP=new c.OlP("mat-mdc-dialog-scroll-strategy"),EB={provide:DP,deps:[Pe],useFactory:function wB(n){return()=>n.scrollStrategies.block()}};let CB=0,DB=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,a,u,f,_,v,D,M){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=v,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new At.x,this._afterOpenedAtThisLevel=new At.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=UC,this.afterAllClosed=kc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ml(void 0))),this._scrollStrategy=f,this._dialog=i.get(cP)}open(t,i){let r;(i={...this._defaultOptions||new UC,...i}).id=i.id||`${this._idPrefix}${CB++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:LC,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,f,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qA=(()=>{class n extends DB{constructor(t,i,r,a,u,f,_,v){super(t,i,a,f,_,u,EP,yB,vB,v),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pe),c.LFG(c.zs3),c.LFG(Ne,8),c.LFG(bB,8),c.LFG(DP),c.LFG(n,12),c.LFG(p),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),IB=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function SB(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){CP(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(EP,8),c.Y36(c.SBq),c.Y36(qA))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i._onButtonClick(a)}),2&t&&c.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.TTD]}),n})(),TB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qA,EB],imports:[oB,$k,Ov,hP,hP]}),n})();var St,pu=V(9260),In=(V(3432),V(2090)),Lf=V(9681),Ld=V(1877),BC=V(4859),Ee=V(5861),AB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gu={},WA=WA||{},en=AB||self;function zC(){}function jC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var KA="closure_uid_"+(1e9*Math.random()>>>0),xB=0;function OB(n,e,t){return n.call.apply(n.bind,arguments)}function RB(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function rs(n,e,t){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OB:RB).apply(null,arguments)}function HC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function Vd(){this.s=this.s,this.o=this.o}Vd.prototype.s=!1,Vd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function MB(n){Object.prototype.hasOwnProperty.call(n,KA)&&n[KA]||(n[KA]=++xB)}(this)},Vd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function YA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function TP(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(jC(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var PB=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{en.addEventListener("test",zC,e),en.removeEventListener("test",zC,e)}catch{}return n}();function $C(n){return/^[\s\xa0]*$/.test(n)}var AP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function QA(n,e){return n<e?-1:n>e?1:0}function GC(){var n=en.navigator;return n&&(n=n.userAgent)?n:""}function Vl(n){return-1!=GC().indexOf(n)}function XA(n){return XA[" "](n),n}XA[" "]=zC;var ZC,n,FB=Vl("Opera"),Cm=Vl("Trident")||Vl("MSIE"),MP=Vl("Edge"),JA=MP||Cm,xP=Vl("Gecko")&&!(-1!=GC().toLowerCase().indexOf("webkit")&&!Vl("Edge"))&&!(Vl("Trident")||Vl("MSIE"))&&!Vl("Edge"),LB=-1!=GC().toLowerCase().indexOf("webkit")&&!Vl("Edge");function OP(){var n=en.document;return n?n.documentMode:void 0}e:{var eM="",tM=(n=GC(),xP?/rv:([^\);]+)(\)|;)/.exec(n):MP?/Edge\/([\d\.]+)/.exec(n):Cm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):LB?/WebKit\/(\S+)/.exec(n):FB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tM&&(eM=tM?tM[1]:""),Cm){var nM=OP();if(null!=nM&&nM>parseFloat(eM)){ZC=String(nM);break e}}ZC=eM}var VB={};var BB=en.document&&Cm&&(OP()||parseInt(ZC,10))||void 0;function Nv(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xP){e:{try{XA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nv.X.h.call(this)}}Vr(Nv,ss);var zB={2:"touch",3:"pen",4:"mouse"};Nv.prototype.h=function(){Nv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fv="closure_listenable_"+(1e6*Math.random()|0),jB=0;function HB(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++jB,this.ba=this.ea=!1}function qC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function rM(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function kP(n){const e={};for(const t in n)e[t]=n[t];return e}const PP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NP(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<PP.length;a++)t=PP[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function WC(n){this.src=n,this.g={},this.h=0}function sM(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=SP(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(qC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function oM(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}WC.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=oM(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new HB(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var aM="closure_lm_"+(1e6*Math.random()|0),lM={};function FP(n,e,t,i,r){if(i&&i.once)return VP(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)FP(n,e[a],t,i,r);return null}return t=hM(t),n&&n[Fv]?n.N(e,t,Pv(i)?!!i.capture:!!i,r):LP(n,e,t,!1,i,r)}function LP(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Pv(r)?!!r.capture:!!r,f=uM(n);if(f||(n[aM]=f=new WC(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function $B(){const e=GB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)PB||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(BP(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function VP(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)VP(n,e[a],t,i,r);return null}return t=hM(t),n&&n[Fv]?n.O(e,t,Pv(i)?!!i.capture:!!i,r):LP(n,e,t,!0,i,r)}function UP(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)UP(n,e[a],t,i,r);else i=Pv(i)?!!i.capture:!!i,t=hM(t),n&&n[Fv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=oM(a=n.g[e],t,i,r))&&(qC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=uM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=oM(e,t,i,r)),(t=-1<n?e[n]:null)&&cM(t))}function cM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Fv])sM(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(BP(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=uM(e))?(sM(t,n),0==t.h&&(t.src=null,e[aM]=null)):qC(n)}}}function BP(n){return n in lM?lM[n]:lM[n]="on"+n}function GB(n,e){if(n.ba)n=!0;else{e=new Nv(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&cM(n),n=t.call(i,e)}return n}function uM(n){return(n=n[aM])instanceof WC?n:null}var dM="__closure_events_fn_"+(1e9*Math.random()>>>0);function hM(n){return"function"==typeof n?n:(n[dM]||(n[dM]=function(e){return n.handleEvent(e)}),n[dM])}function vr(){Vd.call(this),this.i=new WC(this),this.P=this,this.I=null}function Ur(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var r=e;NP(e=new ss(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=KC(u,i,!0,e)&&r}if(r=KC(u=e.g=n,i,!0,e)&&r,r=KC(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=KC(u=e.g=t[a],i,!1,e)&&r}function KC(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&sM(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Vr(vr,Vd),vr.prototype[Fv]=!0,vr.prototype.removeEventListener=function(n,e,t,i){UP(this,n,e,t,i)},vr.prototype.M=function(){if(vr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)qC(t[i]);delete n.g[e],n.h--}}this.I=null},vr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},vr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var fM=en.JSON.stringify;function ZB(){var n=HP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pM,zP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WB,n=>n.reset());class WB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function KB(n){en.setTimeout(()=>{throw n},0)}function jP(n,e){pM||function YB(){var n=en.Promise.resolve(void 0);pM=function(){n.then(QB)}}(),gM||(pM(),gM=!0),HP.add(n,e)}var gM=!1,HP=new class qB{constructor(){this.h=this.g=null}add(e,t){const i=zP.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function QB(){for(var n;n=ZB();){try{n.h.call(n.g)}catch(t){KB(t)}var e=zP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gM=!1}function YC(n,e){vr.call(this),this.h=n||1,this.g=e||en,this.j=rs(this.lb,this),this.l=Date.now()}function mM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function _M(n,e,t){if("function"==typeof n)t&&(n=rs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rs(n.handleEvent,n)}return 2147483647<Number(e)?-1:en.setTimeout(n,e||0)}function $P(n){n.g=_M(()=>{n.g=null,n.i&&(n.i=!1,$P(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(YC,vr),(St=YC.prototype).ca=!1,St.R=null,St.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ur(this,"tick"),this.ca&&(mM(this),this.start()))}},St.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){YC.X.M.call(this),mM(this),delete this.g};class XB extends Vd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$P(this)}M(){super.M(),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lv(n){Vd.call(this),this.h=n,this.g={}}Vr(Lv,Vd);var GP=[];function ZP(n,e,t,i){Array.isArray(t)||(t&&(GP[0]=t.toString()),t=GP);for(var r=0;r<t.length;r++){var a=FP(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function qP(n){rM(n.g,function(e,t){this.g.hasOwnProperty(t)&&cM(e)},n),n.g={}}function QC(){this.g=!0}function Dm(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function n2(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return fM(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Lv.prototype.M=function(){Lv.X.M.call(this),qP(this)},Lv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},QC.prototype.Aa=function(){this.g=!1},QC.prototype.info=function(){};var Vf={},WP=null;function XC(){return WP=WP||new vr}function KP(n){ss.call(this,Vf.Pa,n)}function Vv(n){const e=XC();Ur(e,new KP(e))}function YP(n,e){ss.call(this,Vf.STAT_EVENT,n),this.stat=e}function Es(n){const e=XC();Ur(e,new YP(e,n))}function QP(n,e){ss.call(this,Vf.Qa,n),this.size=e}function Uv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return en.setTimeout(function(){n()},e)}Vf.Pa="serverreachability",Vr(KP,ss),Vf.STAT_EVENT="statevent",Vr(YP,ss),Vf.Qa="timingevent",Vr(QP,ss);var JC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},XP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yM(){}function eN(){}yM.prototype.h=null;var wM,Bv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vM(){ss.call(this,"d")}function bM(){ss.call(this,"c")}function eD(){}function zv(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Lv(this),this.O=r2,this.T=new YC(n=JA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tN}function tN(){this.i=null,this.g="",this.h=!1}Vr(vM,ss),Vr(bM,ss),Vr(eD,yM),eD.prototype.g=function(){return new XMLHttpRequest},eD.prototype.i=function(){return{}},wM=new eD;var r2=45e3,EM={},tD={};function CM(n,e,t){n.K=1,n.v=sD(mu(e)),n.s=t,n.P=!0,nN(n,null)}function nN(n,e){n.F=Date.now(),jv(n),n.A=mu(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),hN(t.i,"t",i),n.C=0,t=n.l.H,n.h=new tN,n.g=FN(n.l,t?e:null,!n.s),0<n.N&&(n.L=new XB(rs(n.La,n,n.g),n.N)),ZP(n.S,n.g,"readystatechange",n.ib),e=n.H?kP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vv(),function JB(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var v=f[_].split("=");if(1<v.length){var D=v[0];v=v[1];var M=D.split("_");u=2<=M.length&&"type"==M[1]?u+(D+"=")+v+"&":u+(D+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function iN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function rN(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=s2(n,t),r==tD){4==e&&(n.o=4,Es(14),i=!1),Dm(n.j,n.m,null,"[Incomplete Response]");break}if(r==EM){n.o=4,Es(15),Dm(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Dm(n.j,n.m,r,null),DM(n,r)}iN(n)&&r!=tD&&r!=EM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Es(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),RM(e),e.K=!0,Es(11))):(Dm(n.j,n.m,t,"[Invalid Chunked Response]"),Uf(n),Hv(n))}function s2(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?tD:(t=Number(e.substring(t,i)),isNaN(t)?EM:(i+=1)+t>e.length?tD:(e=e.substr(i,t),n.C=i+t,e))}function jv(n){n.V=Date.now()+n.O,sN(n,n.O)}function sN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uv(rs(n.gb,n),e)}function nD(n){n.B&&(en.clearTimeout(n.B),n.B=null)}function Hv(n){0==n.l.G||n.I||RN(n.l,n)}function Uf(n){nD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,mM(n.T),qP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function DM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||IM(t.h,n)))if(!n.J&&IM(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;dD(t),cD(t)}OM(t),Es(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Uv(rs(t.cb,t),6e3));if(1>=gN(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else zf(t,11)}else if((n.J||t.g==n)&&dD(t),!$C(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const D=v[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const M=v[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const B=v[5];null!=B&&"number"==typeof B&&0<B&&(t.J=i=1.5*B,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const j=n.g;if(j){const K=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var a=i.h;a.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(SM(a,a.h),a.h=null))}if(i.D){const ne=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.za=ne,hi(i.F,i.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=NN(i,i.H?i.ka:null,i.V),u.J){mN(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&(nD(f),jv(f)),i.g=u}else xN(i);0<t.i.length&&uD(t)}else"stop"!=v[0]&&"close"!=v[0]||zf(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?zf(t,7):xM(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}Vv()}catch{}}function oN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function a2(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function o2(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jC(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(St=zv.prototype).setTimeout=function(n){this.O=n},St.ib=function(n){n=n.target;const e=this.L;e&&3==_u(n)?e.l():this.La(n)},St.La=function(n){try{if(n==this.g)e:{const D=_u(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||JA||this.g&&(this.h.h||this.g.fa()||DN(this.g)))){this.I||4!=D||7==e||Vv(),nD(this);var t=this.g.aa();this.Y=t;t:if(iN(this)){var i=DN(this.g);n="";var r=i.length,a=4==_u(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uf(this),Hv(this);var u="";break t}this.h.i=new en.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function e2(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$C(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Es(12),Uf(this),Hv(this);break e}Dm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,DM(this,t)}this.P?(rN(this,D,u),JA&&this.i&&3==D&&(ZP(this.S,this.T,"tick",this.hb),this.T.start())):(Dm(this.j,this.m,u,null),DM(this,u)),4==D&&Uf(this),this.i&&!this.I&&(4==D?RN(this.l,this):(this.i=!1,jv(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Es(12)):(this.o=0,Es(13)),Uf(this),Hv(this)}}}catch{}},St.hb=function(){if(this.g){var n=_u(this.g),e=this.g.fa();this.C<e.length&&(nD(this),rN(this,n,e),this.i&&4!=n&&jv(this))}},St.cancel=function(){this.I=!0,Uf(this)},St.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function t2(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vv(),Es(17)),Uf(this),this.o=2,Hv(this)):sN(this,this.V-n)};var aN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bf){this.h=void 0!==e?e:n.h,iD(this,n.j),this.s=n.s,this.g=n.g,rD(this,n.m),this.l=n.l,e=n.i;var t=new Zv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lN(this,t),this.o=n.o}else n&&(t=String(n).match(aN))?(this.h=!!e,iD(this,t[1]||"",!0),this.s=$v(t[2]||""),this.g=$v(t[3]||"",!0),rD(this,t[4]),this.l=$v(t[5]||"",!0),lN(this,t[6]||"",!0),this.o=$v(t[7]||"")):(this.h=!!e,this.i=new Zv(null,this.h))}function mu(n){return new Bf(n)}function iD(n,e,t){n.j=t?$v(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lN(n,e,t){e instanceof Zv?(n.i=e,function p2(n,e){e&&!n.j&&(Ud(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(uN(this,i),hN(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gv(e,h2)),n.i=new Zv(e,n.h))}function hi(n,e,t){n.i.set(e,t)}function sD(n){return hi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $v(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,c2),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function c2(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gv(e,cN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gv(e,cN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gv(t,"/"==t.charAt(0)?d2:u2,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gv(t,f2)),n.join("")};var cN=/[#\/\?@]/g,u2=/[#\?:]/g,d2=/[#\?]/g,h2=/[#\?@]/g,f2=/#/g;function Zv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ud(n){n.g||(n.g=new Map,n.h=0,n.i&&function l2(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uN(n,e){Ud(n),e=Im(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function dN(n,e){return Ud(n),e=Im(n,e),n.g.has(e)}function hN(n,e,t){uN(n,e),0<t.length&&(n.i=null,n.g.set(Im(n,e),YA(t)),n.h+=t.length)}function Im(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fN(n){this.l=n||m2,n=en.PerformanceNavigationTiming?0<(n=en.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(en.g&&en.g.Ga&&en.g.Ga()&&en.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=Zv.prototype).add=function(n,e){Ud(this),this.i=null,n=Im(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},St.forEach=function(n,e){Ud(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},St.oa=function(){Ud(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},St.W=function(n){Ud(this);let e=[];if("string"==typeof n)dN(this,n)&&(e=e.concat(this.g.get(Im(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},St.set=function(n,e){return Ud(this),this.i=null,dN(this,n=Im(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},St.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var m2=10;function pN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gN(n){return n.h?1:n.g?n.g.size:0}function IM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function SM(n,e){n.g?n.g.add(e):n.h=e}function mN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _N(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return YA(n.i)}function TM(){}function _2(){this.g=new TM}function y2(n,e,t){const i=t||"";try{oN(n,function(r,a){let u=r;Pv(r)&&(u=fM(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function oD(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function qv(n){this.l=n.ac||null,this.j=n.jb||!1}function aD(n,e){vr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=AM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fN.prototype.cancel=function(){if(this.i=_N(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},TM.prototype.stringify=function(n){return en.JSON.stringify(n,void 0)},TM.prototype.parse=function(n){return en.JSON.parse(n,void 0)},Vr(qv,yM),qv.prototype.g=function(){return new aD(this.l,this.j)},qv.prototype.i=function(n){return function(){return n}}({}),Vr(aD,vr);var AM=0;function yN(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Wv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kv(n)}function Kv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=aD.prototype).open=function(n,e){if(this.readyState!=AM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kv(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||en).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wv(this)),this.readyState=AM},St.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kv(this)),this.g&&(this.readyState=3,Kv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof en.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yN(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},St.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wv(this):Kv(this),3==this.readyState&&yN(this)}},St.Va=function(n){this.g&&(this.response=this.responseText=n,Wv(this))},St.Ua=function(n){this.g&&(this.response=n,Wv(this))},St.ga=function(){this.g&&Wv(this)},St.setRequestHeader=function(n,e){this.v.append(n,e)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(aD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var b2=en.JSON.parse;function xi(n){vr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vN,this.K=this.L=!1}Vr(xi,vr);var vN="",w2=/^https?$/i,E2=["POST","PUT"];function bN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wN(n),lD(n)}function wN(n){n.D||(n.D=!0,Ur(n,"complete"),Ur(n,"error"))}function EN(n){if(n.h&&typeof WA<"u"&&(!n.C[1]||4!=_u(n)||2!=n.aa()))if(n.v&&4==_u(n))_M(n.Ha,0,n);else if(Ur(n,"readystatechange"),4==_u(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(aN)[1]||null;if(!r&&en.self&&en.self.location){var a=en.self.location.protocol;r=a.substr(0,a.length-1)}i=!w2.test(r?r.toLowerCase():"")}t=i}if(t)Ur(n,"complete"),Ur(n,"success");else{n.m=6;try{var u=2<_u(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",wN(n)}}finally{lD(n)}}}function lD(n,e){if(n.g){CN(n);const t=n.g,i=n.C[0]?zC:null;n.g=null,n.C=null,e||Ur(n,"ready");try{t.onreadystatechange=i}catch{}}}function CN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(en.clearTimeout(n.A),n.A=null)}function _u(n){return n.g?n.g.readyState:0}function DN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function IN(n){let e="";return rM(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function MM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=IN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hi(n,e,t))}function Yv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SN(n){this.Ca=0,this.i=[],this.j=new QC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yv("baseRetryDelayMs",5e3,n),this.bb=Yv("retryDelaySeedMs",1e4,n),this.$a=Yv("forwardChannelMaxRetries",2,n),this.ta=Yv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new fN(n&&n.concurrentRequestLimit),this.Fa=new _2,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xM(n){if(TN(n),3==n.G){var e=n.U++,t=mu(n.F);hi(t,"SID",n.I),hi(t,"RID",e),hi(t,"TYPE","terminate"),Qv(n,t),(e=new zv(n,n.j,e,void 0)).K=2,e.v=sD(mu(t)),t=!1,en.navigator&&en.navigator.sendBeacon&&(t=en.navigator.sendBeacon(e.v.toString(),"")),!t&&en.Image&&((new Image).src=e.v,t=!0),t||(e.g=FN(e.l,null),e.g.da(e.v)),e.F=Date.now(),jv(e)}PN(n)}function cD(n){n.g&&(RM(n),n.g.cancel(),n.g=null)}function TN(n){cD(n),n.u&&(en.clearTimeout(n.u),n.u=null),dD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&en.clearTimeout(n.m),n.m=null)}function uD(n){pN(n.h)||n.m||(n.m=!0,jP(n.Ja,n),n.C=0)}function AN(n,e){var t;t=e?e.m:n.U++;const i=mu(n.F);hi(i,"SID",n.I),hi(i,"RID",t),hi(i,"AID",n.T),Qv(n,i),n.o&&n.s&&MM(i,n.o,n.s),t=new zv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=MN(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),SM(n.h,t),CM(t,i,e)}function Qv(n,e){n.ia&&rM(n.ia,function(t,i){hi(e,i,t)}),n.l&&oN({},function(t,i){hi(e,i,t)})}function MN(n,e,t){t=Math.min(n.i.length,t);var i=n.l?rs(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let v=r[_].h;const D=r[_].g;if(v-=a,0>v)a=Math.max(0,r[_].h-100),f=!1;else try{y2(D,u,"req"+v+"_")}catch{i&&i(D)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function xN(n){n.g||n.u||(n.Z=1,jP(n.Ia,n),n.A=0)}function OM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Uv(rs(n.Ia,n),kN(n,n.A)),n.A++,0))}function RM(n){null!=n.B&&(en.clearTimeout(n.B),n.B=null)}function ON(n){n.g=new zv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=mu(n.sa);hi(e,"RID","rpc"),hi(e,"SID",n.I),hi(e,"CI",n.L?"0":"1"),hi(e,"AID",n.T),hi(e,"TYPE","xmlhttp"),Qv(n,e),n.o&&n.s&&MM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=sD(mu(e)),t.s=null,t.P=!0,nN(t,n)}function dD(n){null!=n.v&&(en.clearTimeout(n.v),n.v=null)}function RN(n,e){var t=null;if(n.g==e){dD(n),RM(n),n.g=null;var i=2}else{if(!IM(n.h,e))return;t=e.D,mN(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ur(i=XC(),new QP(i,t)),uD(n)}else xN(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function D2(n,e){return!(gN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Uv(rs(n.Ja,n,e),kN(n,n.C)),n.C++,0)))}(n,e)||2==i&&OM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:zf(n,5);break;case 4:zf(n,10);break;case 3:zf(n,6);break;default:zf(n,2)}}function kN(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function zf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=rs(n.kb,n);t||(t=new Bf("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||iD(t,"https"),sD(t)),function v2(n,e){const t=new QC;if(en.Image){const i=new Image;i.onload=HC(oD,t,i,"TestLoadImage: loaded",!0,e),i.onerror=HC(oD,t,i,"TestLoadImage: error",!1,e),i.onabort=HC(oD,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=HC(oD,t,i,"TestLoadImage: timeout",!1,e),en.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Es(2);n.G=0,n.l&&n.l.va(e),PN(n),TN(n)}function PN(n){if(n.G=0,n.la=[],n.l){const e=_N(n.h);(0!=e.length||0!=n.i.length)&&(TP(n.la,e),TP(n.la,n.i),n.h.i.length=0,YA(n.i),n.i.length=0),n.l.ua()}}function NN(n,e,t){var i=t instanceof Bf?mu(t):new Bf(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),rD(i,i.m);else{var r=en.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Bf(null,void 0);i&&iD(a,i),e&&(a.g=e),r&&rD(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&hi(i,t,e),hi(i,"VER",n.ma),Qv(n,i),i}function FN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xi(t&&n.Da&&!n.ra?new qv({jb:!0}):n.ra)).Ka(n.H),e}function LN(){}function hD(){if(Cm&&!(10<=Number(BB)))throw Error("Environmental error: no available transport.")}function Do(n,e){vr.call(this),this.g=new SN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!$C(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$C(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sm(this)}function VN(n){vM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UN(){bM.call(this),this.status=1}function Sm(n){this.g=n}(St=xi.prototype).Ka=function(n){this.L=n},St.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wM.g(),this.C=function JP(n){return n.h||(n.h=n.i())}(this.u?this.u:wM),this.g.onreadystatechange=rs(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void bN(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=en.FormData&&n instanceof en.FormData,!(0<=SP(E2,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{CN(this),0<this.B&&((this.K=function C2(n){return Cm&&function UB(){return function NB(n){var e=VB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=AP(String(ZC)).split("."),t=AP("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=QA(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||QA(0==r[2].length,0==a[2].length)||QA(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rs(this.qa,this)):this.A=_M(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){bN(this,a)}},St.qa=function(){typeof WA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ur(this,"complete"),Ur(this,"abort"),lD(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lD(this,!0)),xi.X.M.call(this)},St.Ha=function(){this.s||(this.F||this.v||this.l?EN(this):this.fb())},St.fb=function(){EN(this)},St.aa=function(){try{return 2<_u(this)?this.g.status:-1}catch{return-1}},St.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},St.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),b2(e)}},St.Ea=function(){return this.m},St.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=SN.prototype).ma=8,St.G=1,St.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new zv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=kP(a),NP(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=MN(this,r,e),hi(t=mu(this.F),"RID",n),hi(t,"CVER",22),this.D&&hi(t,"X-HTTP-Session-Id",this.D),Qv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(IN(a)))+"&"+e:this.o&&MM(t,this.o,a)),SM(this.h,r),this.Ya&&hi(t,"TYPE","init"),this.O?(hi(t,"$req",e),hi(t,"SID","null"),r.Z=!0,CM(r,t,null)):CM(r,t,e),this.G=2}}else 3==this.G&&(n?AN(this,n):0==this.i.length||pN(this.h)||AN(this))},St.Ia=function(){if(this.u=null,ON(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Uv(rs(this.eb,this),n)}},St.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Es(10),cD(this),ON(this))},St.cb=function(){null!=this.v&&(this.v=null,cD(this),OM(this),Es(19))},St.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Es(2)):(this.j.info("Failed to ping google.com"),Es(1))},(St=LN.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Ra=function(){},hD.prototype.g=function(n,e){return new Do(n,e)},Vr(Do,vr),Do.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Es(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=NN(n,null,n.V),uD(n)},Do.prototype.close=function(){xM(this.g)},Do.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=fM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&uD(e)},Do.prototype.M=function(){this.g.l=null,delete this.j,xM(this.g),delete this.g,Do.X.M.call(this)},Vr(VN,vM),Vr(UN,bM),Vr(Sm,LN),Sm.prototype.xa=function(){Ur(this.g,"a")},Sm.prototype.wa=function(n){Ur(this.g,new VN(n))},Sm.prototype.va=function(n){Ur(this.g,new UN)},Sm.prototype.ua=function(){Ur(this.g,"b")},hD.prototype.createWebChannel=hD.prototype.g,Do.prototype.send=Do.prototype.u,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,JC.NO_ERROR=0,JC.TIMEOUT=8,JC.HTTP_ERROR=6,XP.COMPLETE="complete",eN.EventType=Bv,Bv.OPEN="a",Bv.CLOSE="b",Bv.ERROR="c",Bv.MESSAGE="d",vr.prototype.listen=vr.prototype.N,xi.prototype.listenOnce=xi.prototype.O,xi.prototype.getLastError=xi.prototype.Oa,xi.prototype.getLastErrorCode=xi.prototype.Ea,xi.prototype.getStatus=xi.prototype.aa,xi.prototype.getResponseJson=xi.prototype.Sa,xi.prototype.getResponseText=xi.prototype.fa,xi.prototype.send=xi.prototype.da,xi.prototype.setWithCredentials=xi.prototype.Ka;var I2=gu.createWebChannelTransport=function(){return new hD},S2=gu.getStatEventTarget=function(){return XC()},kM=gu.ErrorCode=JC,T2=gu.EventType=XP,A2=gu.Event=Vf,BN=gu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},M2=gu.FetchXmlHttpFactory=qv,fD=gu.WebChannel=eN,x2=gu.XhrIo=xi;const zN="@firebase/firestore";class br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let Tm="9.19.0";const Bd=new Ld.Yd("@firebase/firestore");function PM(){return Bd.logLevel}function Ve(n,...e){if(Bd.logLevel<=Ld.in.DEBUG){const t=e.map(NM);Bd.debug(`Firestore (${Tm}): ${n}`,...t)}}function Ui(n,...e){if(Bd.logLevel<=Ld.in.ERROR){const t=e.map(NM);Bd.error(`Firestore (${Tm}): ${n}`,...t)}}function Ul(n,...e){if(Bd.logLevel<=Ld.in.WARN){const t=e.map(NM);Bd.warn(`Firestore (${Tm}): ${n}`,...t)}}function NM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${Tm}) INTERNAL ASSERTION FAILED: `+n;throw Ui(e),new Error(e)}function Tt(n,e){n||pt()}function ot(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends In.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N2{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,Ee.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},_=v=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new jN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new br(e)}}class F2{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=br.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class L2{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new F2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.T=t.token,new HN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function U2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class $N{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=U2(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function tn(n,e){return n<e?-1:n>e?1:0}function Am(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function GN(n){return n+"\0"}class fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new fi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new fi(0,0))}static max(){return new Mt(new fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xv{constructor(e,t,i){void 0===t?t=0:t>e.length&&pt(),void 0===i?i=e.length-t:i>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Xv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends Xv{construct(e,t,i){return new wn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends Xv{construct(e,t,i){return new Oi(e,t,i)}static isValidIdentifier(e){return B2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Oi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Le(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Le(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Le(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Le(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(t)}static emptyPath(){return new Oi([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(wn.fromString(e))}static fromName(e){return new tt(wn.fromString(e).popFirst(5))}static empty(){return new tt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new wn(e.slice()))}}class pD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function FM(n){return n.fields.find(e=>2===e.kind)}function jf(n){return n.fields.filter(e=>2!==e.kind)}pD.UNKNOWN_ID=-1;class gD{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jv(0,Io.min())}}function ZN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(1e9===i?new fi(t+1,0):new fi(t,i));return new Io(r,tt.empty(),e)}function qN(n){return new Io(n.readTime,n.key,-1)}class Io{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Io(Mt.min(),tt.empty(),-1)}static max(){return new Io(Mt.max(),tt.empty(),-1)}}function LM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zd(n){return VM.apply(this,arguments)}function VM(){return VM=(0,Ee.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==WN)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),VM.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(r=>r?de.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new de((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const v=_;t(e[v]).next(D=>{u[v]=D,++f,f===a&&i(u)},D=>r(D))}})}static doWhile(e,t){return new de((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class mD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ar,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new eb(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=UM(i.target.error);this.R.reject(new eb(e,r))}}static open(e,t,i,r){try{return new mD(t,e.transaction(r,i))}catch(a){throw new eb(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $2(t)}}class Ua{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Ua.S((0,In.z$)())&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Hf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,In.hl)())return!1;if(Ua.C())return!0;const e=(0,In.z$)(),t=Ua.S(e),i=0<t&&t<10,r=Ua.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new eb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Le(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Le(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new eb(e,f))},a.onupgradeneeded=u=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.M(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ee.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=mD.open(a.db,e,u?"readonly":"readwrite",i),v=r(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),de.reject(D))).toPromise();return v.catch(()=>{}),yield _.v,v}catch(_){const v=_,D="FirebaseError"!==v.name&&f<3;if(Ve("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),a.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class H2{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Hf(this.L.delete())}}class eb extends Le{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jd(n){return"IndexedDbTransactionError"===n.name}class $2{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Hf(i)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Hf(this.store.add(e))}get(e){return Hf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Hf(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Hf(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new de((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}X(e){const t=this.cursor({});return new de((i,r)=>{t.onerror=a=>{const u=UM(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new de((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new H2(f),v=t(f.primaryKey,f.value,_);if(v instanceof de){const D=v.catch(M=>(_.done(),de.reject(M)));i.push(D)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hf(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=UM(i.target.error);t(r)}})}let YN=!1;function UM(n){const e=Ua.S((0,In.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YN||(YN=!0,setTimeout(()=>{throw i},0)),i}}return n}class G2{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){jd(i)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zd(i)}yield t.et(6e4)}))}}class Z2{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return de.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Ve("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Ve("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=qN(a);LM(u,i)>0&&(i=u)}),new Io(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let So=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function tb(n){return null==n}function nb(n){return 0===n&&1/n==-1/0}function QN(n){return"number"==typeof n&&Number.isInteger(n)&&!nb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=XN(e)),e=q2(n.get(t),e);return XN(e)}function q2(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function XN(n){return n+"\x01\x01"}function Bl(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&pt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:pt()}a=u+2}return new wn(i)}const JN=["userId","batchId"];function _D(n,e){return[n,Cs(e)]}function e1(n,e,t){return[n,Cs(e),t]}const W2={},K2=["prefixPath","collectionGroup","readTime","documentId"],Y2=["prefixPath","collectionGroup","documentId"],Q2=["collectionGroup","readTime","prefixPath","documentId"],X2=["canonicalId","targetId"],J2=["targetId","path"],ez=["path","targetId"],tz=["collectionId","parent"],nz=["indexId","uid"],iz=["uid","sequenceNumber"],rz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sz=["indexId","uid","orderedDocumentKey"],oz=["userId","collectionPath","documentId"],az=["userId","collectionPath","largestBatchId"],lz=["userId","collectionGroup","largestBatchId"],t1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cz=[...t1,"documentOverlays"],n1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r1=n1,uz=[...r1,"indexConfiguration","indexState","indexEntries"];class BM extends KN{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function wr(n,e){const t=ot(n);return Ua.O(t.at,e)}function s1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $f(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function o1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ri{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new Ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yD(this.root,e,this.comparator,!1)}getReverseIterator(){return new yD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yD(this.root,e,this.comparator,!0)}}class yD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Br.RED,this.left=r??Br.EMPTY,this.right=a??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Br(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Br.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mm(n){return n.hasNext()?n.getNext():void 0}class qs{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new qs([])}unionWith(e){let t=new Nn(Oi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Am(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class dz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new dz("Invalid base64 string: "+r):r}}(e);return new lr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const fz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=fz.exec(n);if(Tt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ki(n.seconds),nanos:ki(n.nanos)}}function ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gf(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function zM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function l1(n){const e=n.mapValue.fields.__previous_value__;return zM(e)?l1(e):e}function ib(n){const e=Hd(n.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}class pz{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class $d{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}const Gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vD={nullValue:"NULL_VALUE"};function Zf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zM(n)?4:h1(n)?9007199254740991:10:pt()}function zl(n,e){if(n===e)return!0;const t=Zf(n);if(t!==Zf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ib(n).isEqual(ib(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Hd(i.timestampValue),u=Hd(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Gf(n.bytesValue).isEqual(Gf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ki(i.geoPointValue.latitude)===ki(r.geoPointValue.latitude)&&ki(i.geoPointValue.longitude)===ki(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ki(i.integerValue)===ki(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ki(i.doubleValue),u=ki(r.doubleValue);return a===u?nb(a)===nb(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Am(n.arrayValue.values||[],e.arrayValue.values||[],zl);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(s1(a)!==s1(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!zl(a[f],u[f])))return!1;return!0}(n,e);default:return pt()}var r}function rb(n,e){return void 0!==(n.values||[]).find(t=>zl(t,e))}function Zd(n,e){if(n===e)return 0;const t=Zf(n),i=Zf(e);if(t!==i)return tn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=ki(r.integerValue||r.doubleValue),f=ki(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return c1(n.timestampValue,e.timestampValue);case 4:return c1(ib(n),ib(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Gf(r),f=Gf(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const v=tn(u[_],f[_]);if(0!==v)return v}return tn(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=tn(ki(r.latitude),ki(a.latitude));return 0!==u?u:tn(ki(r.longitude),ki(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const v=Zd(u[_],f[_]);if(v)return v}return tn(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Gd.mapValue&&a===Gd.mapValue)return 0;if(r===Gd.mapValue)return 1;if(a===Gd.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},v=Object.keys(_);f.sort(),v.sort();for(let D=0;D<f.length&&D<v.length;++D){const M=tn(f[D],v[D]);if(0!==M)return M;const B=Zd(u[f[D]],_[v[D]]);if(0!==B)return B}return tn(f.length,v.length)}(n.mapValue,e.mapValue);default:throw pt()}}function c1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=Hd(n),i=Hd(e),r=tn(t.seconds,i.seconds);return 0!==r?r:tn(t.nanos,i.nanos)}function xm(n){return jM(n)}function jM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Hd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gf(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=jM(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${jM(i.fields[f])}`;return a+"}"}(n.mapValue):pt();var e}function qf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function HM(n){return!!n&&"integerValue"in n}function sb(n){return!!n&&"arrayValue"in n}function u1(n){return!!n&&"nullValue"in n}function d1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bD(n){return!!n&&"mapValue"in n}function ob(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $f(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ob(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ob(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gz(n){return"nullValue"in n?vD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qf($d.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function mz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qf($d.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Gd:pt()}function f1(n,e){const t=Zd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function p1(n,e){const t=Zd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ob(t)}setAll(e){let t=Oi.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=ob(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());bD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];bD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){$f(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Er(ob(this.value))}}function g1(n){const e=[];return $f(n.fields,(t,i)=>{const r=new Oi([t]);if(bD(i)){const a=g1(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new qs(e)}class si{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new si(e,0,Mt.min(),Mt.min(),Mt.min(),Er.empty(),0)}static newFoundDocument(e,t,i,r){return new si(e,1,t,Mt.min(),i,r,0)}static newNoDocument(e,t){return new si(e,2,t,Mt.min(),Mt.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new si(e,3,t,Mt.min(),Mt.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qd{constructor(e,t){this.position=e,this.inclusive=t}}function m1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?tt.comparator(tt.fromName(u.referenceValue),t.key):Zd(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function _1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zl(n.position[t],e.position[t]))return!1;return!0}class Om{constructor(e,t="asc"){this.field=e,this.dir=t}}function _z(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class y1{}class _n extends y1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new yz(e,t,i):"array-contains"===t?new wz(e,i):"in"===t?new D1(e,i):"not-in"===t?new Ez(e,i):"array-contains-any"===t?new Cz(e,i):new _n(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new vz(e,i):new bz(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zd(t,this.value)):null!==t&&Zf(this.value)===Zf(t)&&this.matchesComparison(Zd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pn extends y1{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Pn(e,t)}matches(e){return Rm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rm(n){return"and"===n.op}function $M(n){return"or"===n.op}function GM(n){return v1(n)&&Rm(n)}function v1(n){for(const e of n.filters)if(e instanceof Pn)return!1;return!0}function ZM(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+xm(n.value);if(GM(n))return n.filters.map(e=>ZM(e)).join(",");{const e=n.filters.map(t=>ZM(t)).join(",");return`${n.op}(${e})`}}function b1(n,e){return n instanceof _n?(t=n,(i=e)instanceof _n&&t.op===i.op&&t.field.isEqual(i.field)&&zl(t.value,i.value)):n instanceof Pn?function(t,i){return i instanceof Pn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&b1(a,i.filters[u]),!0)}(n,e):void pt();var t,i}function w1(n,e){const t=n.filters.concat(e);return Pn.create(t,n.op)}function E1(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${xm(e.value)}`:n instanceof Pn?function(e){return e.op.toString()+" {"+e.getFilters().map(E1).join(" ,")+"}"}(n):"Filter";var e}class yz extends _n{constructor(e,t,i){super(e,t,i),this.key=tt.fromName(i.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class vz extends _n{constructor(e,t){super(e,"in",t),this.keys=C1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bz extends _n{constructor(e,t){super(e,"not-in",t),this.keys=C1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>tt.fromName(i.referenceValue))}class wz extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sb(t)&&rb(t.arrayValue,this.value)}}class D1 extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rb(this.value.arrayValue,t)}}class Ez extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(rb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rb(this.value.arrayValue,t)}}class Cz extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rb(this.value.arrayValue,i))}}class Dz{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function qM(n,e=null,t=[],i=[],r=null,a=null,u=null){return new Dz(n,e,t,i,r,a,u)}function Wf(n){const e=ot(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ZM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),tb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xm(i)).join(",")),e.ft=t}return e.ft}function ab(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_z(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_1(n.startAt,e.startAt)&&_1(n.endAt,e.endAt)}function wD(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ED(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function I1(n,e,t){let i=vD,r=!0;for(const a of ED(n,e)){let u=vD,f=!0;switch(a.op){case"<":case"<=":u=gz(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=vD}f1({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];f1({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function S1(n,e,t){let i=Gd,r=!0;for(const a of ED(n,e)){let u=Gd,f=!0;switch(a.op){case">=":case">":u=mz(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Gd}p1({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];p1({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class yu{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this.wt=null}}function T1(n,e,t,i,r,a,u,f){return new yu(n,e,t,i,r,a,u,f)}function km(n){return new yu(n)}function A1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function WM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function CD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function KM(n){return null!==n.collectionGroup}function Kf(n){const e=ot(n);if(null===e.dt){e.dt=[];const t=CD(e),i=WM(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Om(t)),e.dt.push(new Om(Oi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Om(Oi.keyField(),a))}}}return e.dt}function Ds(n){const e=ot(n);if(!e.wt)if("F"===e.limitType)e.wt=qM(e.path,e.collectionGroup,Kf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Kf(e))t.push(new Om(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new qd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qd(e.startAt.position,e.startAt.inclusive):null;e.wt=qM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function YM(n,e){e.getFirstInequalityField(),CD(n);const t=n.filters.concat([e]);return new yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function DD(n,e,t){return new yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lb(n,e){return ab(Ds(n),Ds(e))&&n.limitType===e.limitType}function M1(n){return`${Wf(Ds(n))}|lt:${n.limitType}`}function QM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>E1(i)).join(", ")}]`),tb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xm(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xm(i)).join(",")),`Target(${t})`}(Ds(n))}; limitType=${n.limitType})`}function cb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):tt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Kf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=m1(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,Kf(t),i)||t.endAt&&!function(r,a,u){const f=m1(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,Kf(t),i)));var t,i}function x1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O1(n){return(e,t)=>{let i=!1;for(const r of Kf(n)){const a=Iz(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Iz(n,e,t){const i=n.field.isKeyField()?tt.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Zd(f,_):pt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}class Wd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$f(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}const Sz=new Ri(tt.comparator);function Ws(){return Sz}const R1=new Ri(tt.comparator);function ub(...n){let e=R1;for(const t of n)e=e.insert(t.key,t);return e}function k1(n){let e=R1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function jl(){return db()}function P1(){return db()}function db(){return new Wd(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tz=new Ri(tt.comparator),Az=new Nn(tt.comparator);function ln(...n){let e=Az;for(const t of n)e=e.add(t);return e}const Mz=new Nn(tn);function ID(){return Mz}function N1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nb(e)?"-0":e}}function F1(n){return{integerValue:""+n}}function L1(n,e){return QN(e)?F1(e):N1(n,e)}class SD{constructor(){this._=void 0}}function xz(n,e,t){return n instanceof Pm?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Yf?U1(n,e):n instanceof Qf?B1(n,e):function(i,r){const a=V1(i,r),u=z1(a)+z1(i._t);return HM(a)&&HM(i._t)?F1(u):N1(i.serializer,u)}(n,e)}function Oz(n,e,t){return n instanceof Yf?U1(n,e):n instanceof Qf?B1(n,e):t}function V1(n,e){return n instanceof Nm?HM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Pm extends SD{}class Yf extends SD{constructor(e){super(),this.elements=e}}function U1(n,e){const t=j1(e);for(const i of n.elements)t.some(r=>zl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Qf extends SD{constructor(e){super(),this.elements=e}}function B1(n,e){let t=j1(e);for(const i of n.elements)t=t.filter(r=>!zl(r,i));return{arrayValue:{values:t}}}class Nm extends SD{constructor(e,t){super(),this.serializer=e,this._t=t}}function z1(n){return ki(n.integerValue||n.doubleValue)}function j1(n){return sb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hb{constructor(e,t){this.field=e,this.transform=t}}class kz{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function TD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class AD{}function H1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Lm(n.key,pi.none()):new Fm(n.key,n.data,pi.none());{const t=n.data,i=Er.empty();let r=new Nn(Oi.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new vu(n.key,i,new qs(r.toArray()),pi.none())}}function Pz(n,e,t){n instanceof Fm?function(i,r,a){const u=i.value.clone(),f=Z1(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof vu?function(i,r,a){if(!TD(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=Z1(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(G1(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fb(n,e,t,i){return n instanceof Fm?function(r,a,u,f){if(!TD(r.precondition,a))return u;const _=r.value.clone(),v=q1(r.fieldTransforms,f,a);return _.setAll(v),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof vu?function(r,a,u,f){if(!TD(r.precondition,a))return u;const _=q1(r.fieldTransforms,f,a),v=a.data;return v.setAll(G1(r)),v.setAll(_),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,e,t,i):(u=t,TD(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Nz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=V1(i.transform,r||null);null!=a&&(null===t&&(t=Er.empty()),t.set(i.field,a))}return t||null}function $1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Am(t,i,(r,a)=>function Rz(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yf&&i instanceof Yf||t instanceof Qf&&i instanceof Qf?Am(t.elements,i.elements,zl):t instanceof Nm&&i instanceof Nm?zl(t._t,i._t):t instanceof Pm&&i instanceof Pm);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Fm extends AD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vu extends AD{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function G1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Z1(n,e,t){const i=new Map;Tt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,Oz(u,f,t[r]))}return i}function q1(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,xz(a,u,e))}return i}class Lm extends AD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends AD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Pz(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=fb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=fb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=P1();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=H1(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Mt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ln())}isEqual(e){return this.batchId===e.batchId&&Am(this.mutations,e.mutations,(t,i)=>$1(t,i))&&Am(this.baseMutations,e.baseMutations,(t,i)=>$1(t,i))}}class ex{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Tt(e.mutations.length===i.length);let r=Tz;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new ex(e,t,i,r)}}class tx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vz{constructor(e){this.count=e}}var Ji,En;function W1(n){switch(n){default:return pt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function K1(n){if(void 0===n)return Ui("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Ji.OK:return fe.OK;case Ji.CANCELLED:return fe.CANCELLED;case Ji.UNKNOWN:return fe.UNKNOWN;case Ji.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Ji.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Ji.INTERNAL:return fe.INTERNAL;case Ji.UNAVAILABLE:return fe.UNAVAILABLE;case Ji.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Ji.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Ji.NOT_FOUND:return fe.NOT_FOUND;case Ji.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Ji.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Ji.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Ji.ABORTED:return fe.ABORTED;case Ji.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Ji.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Ji.DATA_LOSS:return fe.DATA_LOSS;default:return pt()}}(En=Ji||(Ji={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class ix{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return MD}static getOrCreateInstance(){return null===MD&&(MD=new ix),MD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let MD=null;class pb{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,gb.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pb(Mt.min(),r,ID(),Ws(),ln())}}class gb{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gb(i,t,ln(),ln(),ln())}}class xD{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class Y1{constructor(e,t){this.targetId=e,this.Et=t}}class Q1{constructor(e,t,i=lr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class X1{constructor(){this.At=0,this.Rt=eF(),this.vt=lr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ln(),t=ln(),i=ln();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pt()}}),new gb(this.vt,this.bt,e,t,i)}xt(){this.Pt=!1,this.Rt=eF()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Uz{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Ws(),this.qt=J1(),this.Ut=new Nn(tn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const i=this.jt(t);switch(e.state){case 0:this.Wt(t)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.Wt(r)&&t(r)})}Jt(e){var t;const i=e.targetId,r=e.Et.count,a=this.Yt(i);if(a){const u=a.target;if(wD(u))if(0===r){const f=new tt(u.path);this.Qt(i,f,si.newNoDocument(f,Mt.min()))}else Tt(1===r);else{const f=this.Zt(i);f!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(t=ix.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:f,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((a,u)=>{const f=this.Yt(u);if(f){if(a.current&&wD(f.target)){const _=new tt(f.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,si.newNoDocument(_,e))}a.St&&(t.set(u,a.Ct()),a.xt())}});let i=ln();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const v=this.Yt(_);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Lt.forEach((a,u)=>u.setReadTime(e));const r=new pb(e,t,this.Ut,this.Lt,i);return this.Lt=Ws(),this.qt=J1(),this.Ut=new Nn(tn),r}Gt(e,t){if(!this.Wt(e))return;const i=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.Wt(e))return;const r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new X1,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Nn(tn),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new X1),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function J1(){return new Ri(tt.comparator)}function eF(){return new Ri(tt.comparator)}const Bz={asc:"ASCENDING",desc:"DESCENDING"},zz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jz={and:"AND",or:"OR"};class Hz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $z(n,e){return Vm(n,e.toTimestamp())}function Bi(n){return Tt(!!n),Mt.fromTimestamp(function(e){const t=Hd(e);return new fi(t.seconds,t.nanos)}(n))}function rx(n,e){return(t=n,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nF(n){const e=wn.fromString(n);return Tt(dF(e)),e}function mb(n,e){return rx(n.databaseId,e.path)}function Hl(n,e){const t=nF(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(rF(t))}function sx(n,e){return rx(n.databaseId,e)}function iF(n){const e=nF(n);return 4===e.length?wn.emptyPath():rF(e)}function _b(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rF(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sF(n,e,t){return{name:mb(n,e),fields:t.value.mapValue.fields}}function oF(n,e,t){const i=Hl(n,e.name),r=Bi(e.updateTime),a=e.createTime?Bi(e.createTime):Mt.min(),u=new Er({mapValue:{fields:e.fields}}),f=si.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function yb(n,e){let t;if(e instanceof Fm)t={update:sF(n,e.key,e.value)};else if(e instanceof Lm)t={delete:mb(n,e.key)};else if(e instanceof vu)t={update:sF(n,e.key,e.data),updateMask:Xz(e.fieldMask)};else{if(!(e instanceof XM))return pt();t={verify:mb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Pm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Yf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Qf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Nm)return{fieldPath:a.field.canonicalString(),increment:u._t};throw pt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:$z(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pt()),t;var r}function ox(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?pi.updateTime(Bi(r.updateTime)):void 0!==r.exists?pi.exists(r.exists):pi.none():pi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),f=new Pm):"appendMissingElements"in u?f=new Yf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Qf(u.removeAllFromArray.values||[]):"increment"in u?f=new Nm(a,u.increment):pt();const _=Oi.fromServerFormat(u.fieldPath);return new hb(_,f)}(n,r)):[];var r;if(e.update){const r=Hl(n,e.update.name),a=new Er({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new qs((e.updateMask.fieldPaths||[]).map(v=>Oi.fromServerFormat(v)));return new vu(r,a,u,t,i)}return new Fm(r,a,t,i)}if(e.delete){const r=Hl(n,e.delete);return new Lm(r,t)}if(e.verify){const r=Hl(n,e.verify);return new XM(r,t)}return pt()}function aF(n,e){return{documents:[sx(n,e.path)]}}function ax(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=sx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return uF(Pn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(v=>{return{field:Kd((D=v).field),direction:Kz(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(v=e.limit,n.useProto3Json||tb(v)?v:{value:v});var v,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function lF(n){let e=iF(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Tt(1===i);const D=t.from[0];D.allDescendants?r=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const M=cF(D);return M instanceof Pn&&GM(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new Om(Um((M=D).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(D){let M;return M="object"==typeof D?D.value:D,tb(M)?null:M}(t.limit));let _=null;var D;t.startAt&&(_=new qd((D=t.startAt).values||[],!!D.before));let v=null;return t.endAt&&(v=function(D){return new qd(D.values||[],!D.before)}(t.endAt)),T1(e,r,u,a,f,"F",_,v)}function cF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Um(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Um(e.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Um(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Um(e.unaryFilter.field);return _n.create(a,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(n):void 0!==n.fieldFilter?_n.create(Um((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Pn.create(e.compositeFilter.filters.map(t=>cF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pt()}}(e.compositeFilter.op))}(n):pt();var e}function Kz(n){return Bz[n]}function Yz(n){return zz[n]}function Qz(n){return jz[n]}function Kd(n){return{fieldPath:n.canonicalString()}}function Um(n){return Oi.fromServerFormat(n.fieldPath)}function uF(n){return n instanceof _n?function(e){if("=="===e.op){if(d1(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NAN"}};if(u1(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(d1(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NOT_NAN"}};if(u1(e.value))return{unaryFilter:{field:Kd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(e.field),op:Yz(e.op),value:e.value}}}(n):n instanceof Pn?function(e){const t=e.getFilters().map(i=>uF(i));return 1===t.length?t[0]:{compositeFilter:{op:Qz(e.op),filters:t}}}(n):pt()}function Xz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Yd{constructor(e,t,i,r,a=Mt.min(),u=Mt.min(),f=lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Yd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class hF{constructor(e){this.se=e}}function fF(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:OD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:mb(r=n.se,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Vm(r,a.version.toTimestamp()),createTime:Vm(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Xf(e.version)};else{if(!e.isUnknownDocument())return pt();i.unknownDocument={path:t.path.toArray(),version:Xf(e.version)}}var r,a;return i}function OD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jf(n){const e=new fi(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function ep(n,e){const t=(e.baseMutations||[]).map(a=>ox(n.se,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>ox(n.se,a)),r=fi.fromMillis(e.localWriteTimeMs);return new JM(e.batchId,r,t,i)}function vb(n){const e=Jf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jf(n.lastLimboFreeSnapshotVersion):Mt.min();let i;var r;return void 0!==n.query.documents?(Tt(1===(r=n.query).documents.length),i=Ds(km(iF(r.documents[0])))):i=Ds(lF(n.query)),new Yd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,lr.fromBase64String(n.resumeToken))}function pF(n,e){const t=Xf(e.snapshotVersion),i=Xf(e.lastLimboFreeSnapshotVersion);let r;r=wD(e.target)?aF(n.se,e.target):ax(n.se,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function lx(n){const e=lF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?DD(e,e.limit,"L"):e}function cx(n,e){return new tx(e.largestBatchId,ox(n.se,e.overlayMutation))}function gF(n,e){const t=e.path.lastSegment();return[n,Cs(e.path.popLast()),t]}function mF(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xf(i.readTime),documentKey:Cs(i.documentKey.path),largestBatchId:i.largestBatchId}}class ej{getBundleMetadata(e,t){return _F(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Jf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return _F(e).put({bundleId:(i=t).id,createTime:Xf(Bi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return yF(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:lx(r.bundledQuery),readTime:Jf(r.readTime)};var r})}saveNamedQuery(e,t){return yF(e).put({name:(i=t).name,readTime:Xf(Bi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function _F(n){return wr(n,"bundles")}function yF(n){return wr(n,"namedQueries")}class RD{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new RD(e,t.uid||"")}getOverlay(e,t){return bb(e).get(gF(this.userId,t)).next(i=>i?cx(this.serializer,i):null)}getOverlays(e,t){const i=jl();return de.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new tx(t,u);r.push(this.re(e,f))}),de.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Cs(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(bb(e).J("collectionPathOverlayIndex",f))}),de.waitFor(a)}getOverlaysForCollection(e,t,i){const r=jl(),a=Cs(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bb(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const v=cx(this.serializer,_);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=jl();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bb(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,v,D)=>{const M=cx(this.serializer,v);a.size()<r||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):D.done()}).next(()=>a)}re(e,t){return bb(e).put(function(i,r,a){const[u,f,_]=gF(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:yb(i.se,a.mutation)}}(this.serializer,this.userId,t))}}function bb(n){return wr(n,"documentOverlays")}class tp{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(ki(e.integerValue));else if("doubleValue"in e){const i=ki(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),nb(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Gf(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?h1(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):pt()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),tt.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function tj(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function vF(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=tj(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}tp.pe=new tp;class nj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Te(i.value),i=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.ve()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=t.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(e){const t=this.Se(e),i=vF(t);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ce(e){const t=this.Se(e),i=vF(t);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class ij{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class rj{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class wb{constructor(){this.Me=new nj,this.Fe=new ij(this.Me),this.Be=new rj(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class np{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new np(this.indexId,this.documentKey,this.arrayValue,i)}}function Qd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bF(n.arrayValue,e.arrayValue),0!==t?t:(t=bF(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function bF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class sj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(e){Tt(e.collectionGroup===this.collectionId);const t=FM(e);if(void 0!==t&&!this.ze(t))return!1;const i=jf(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const u=i[r];if(!this.je(this.Ge,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r)if(a>=this.Ue.length||!this.We(this.Ue[a++],i[r]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wF(n){var e,t;if(Tt(n instanceof _n||n instanceof Pn),n instanceof _n){if(n instanceof D1){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>_n.create(n.field,"==",a)))||[];return Pn.create(r,"or")}return n}const i=n.filters.map(r=>wF(r));return Pn.create(i,n.op)}function oj(n){if(0===n.getFilters().length)return[];const e=hx(wF(n));return Tt(EF(e)),ux(e)||dx(e)?[e]:e.getFilters()}function ux(n){return n instanceof _n}function dx(n){return n instanceof Pn&&GM(n)}function EF(n){return ux(n)||dx(n)||function(e){if(e instanceof Pn&&$M(e)){for(const t of e.getFilters())if(!ux(t)&&!dx(t))return!1;return!0}return!1}(n)}function hx(n){if(Tt(n instanceof _n||n instanceof Pn),n instanceof _n)return n;if(1===n.filters.length)return hx(n.filters[0]);const e=n.filters.map(i=>hx(i));let t=Pn.create(e,n.op);return t=kD(t),EF(t)?t:(Tt(t instanceof Pn),Tt(Rm(t)),Tt(t.filters.length>1),t.filters.reduce((i,r)=>fx(i,r)))}function fx(n,e){let t;return Tt(n instanceof _n||n instanceof Pn),Tt(e instanceof _n||e instanceof Pn),t=n instanceof _n?e instanceof _n?Pn.create([n,e],"and"):CF(n,e):e instanceof _n?CF(e,n):function(i,r){if(Tt(i.filters.length>0&&r.filters.length>0),Rm(i)&&Rm(r))return w1(i,r.getFilters());const a=$M(i)?i:r,u=$M(i)?r:i,f=a.filters.map(_=>fx(_,u));return Pn.create(f,"or")}(n,e),kD(t)}function CF(n,e){if(Rm(e))return w1(e,n.getFilters());{const t=e.filters.map(i=>fx(n,i));return Pn.create(t,"or")}}function kD(n){if(Tt(n instanceof _n||n instanceof Pn),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return kD(e[0]);if(v1(n))return n;const t=e.map(r=>kD(r)),i=[];return t.forEach(r=>{r instanceof _n?i.push(r):r instanceof Pn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Pn.create(i,n.op)}class aj{constructor(){this.He=new px}addToCollectionParentIndex(e,t){return this.He.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Io.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class px{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Nn(wn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Nn(wn.comparator)).toArray()}}const PD=new Uint8Array(0);class lj{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new px,this.Ye=new Wd(i=>Wf(i),(i,r)=>ab(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const a={collectionId:i,parent:Cs(r)};return DF(e).put(a)}return de.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[GN(t),""],!1,!0);return DF(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Bl(u.parent))}return i})}addFieldIndex(e,t){const i=ND(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Cb(e);return a.next(f=>{u.put(mF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=ND(e),r=Cb(e),a=Eb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Eb(e);let r=!0;const a=new Map;return de.forEach(this.Ze(t),u=>this.Xe(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=ln();const f=[];return de.forEach(a,(_,v)=>{var D;Ve("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Wf(t)}`);const M=function(ht,bt){const Wt=FM(bt);if(void 0===Wt)return null;for(const nn of ED(ht,Wt.fieldPath))switch(nn.op){case"array-contains-any":return nn.value.arrayValue.values||[];case"array-contains":return[nn.value]}return null}(v,_),B=function(ht,bt){const Wt=new Map;for(const nn of jf(bt))for(const Mn of ED(ht,nn.fieldPath))switch(Mn.op){case"==":case"in":Wt.set(nn.fieldPath.canonicalString(),Mn.value);break;case"not-in":case"!=":return Wt.set(nn.fieldPath.canonicalString(),Mn.value),Array.from(Wt.values())}return null}(v,_),j=function(ht,bt){const Wt=[];let nn=!0;for(const Mn of jf(bt)){const Ir=0===Mn.kind?I1(ht,Mn.fieldPath,ht.startAt):S1(ht,Mn.fieldPath,ht.startAt);Wt.push(Ir.value),nn&&(nn=Ir.inclusive)}return new qd(Wt,nn)}(v,_),K=function(ht,bt){const Wt=[];let nn=!0;for(const Mn of jf(bt)){const Ir=0===Mn.kind?S1(ht,Mn.fieldPath,ht.endAt):I1(ht,Mn.fieldPath,ht.endAt);Wt.push(Ir.value),nn&&(nn=Ir.inclusive)}return new qd(Wt,nn)}(v,_),ne=this.tn(_,v,j),_e=this.tn(_,v,K),ze=this.en(_,v,B),dt=this.nn(_.indexId,M,ne,j.inclusive,_e,K.inclusive,ze);return de.forEach(dt,ht=>i.H(ht,t.limit).next(bt=>{bt.forEach(Wt=>{const nn=tt.fromSegments(Wt.documentKey);u.has(nn)||(u=u.add(nn),f.push(nn))})}))}).next(()=>f)}return de.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:oj(Pn.create(e.filters,"and")).map(i=>qM(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),v=_/(null!=t?t.length:1),D=[];for(let M=0;M<_;++M){const B=t?this.sn(t[M/v]):PD,j=this.rn(e,B,i[M%v],r),K=this.on(e,B,a[M%v],u),ne=f.map(_e=>this.rn(e,B,_e,!0));D.push(...this.createRange(j,K,ne))}return D}rn(e,t,i,r){const a=new np(e,tt.empty(),t,i);return r?a:a.qe()}on(e,t,i,r){const a=new np(e,tt.empty(),t,i);return r?a.qe():a}Xe(e,t){const i=new sj(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Qe(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.Ze(t);return de.forEach(r,a=>this.Xe(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new Nn(Oi.comparator),v=!1;for(const D of f.filters)for(const M of D.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?v=!0:_=_.add(M.field));for(const D of f.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(v?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}un(e,t){const i=new wb;for(const r of jf(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Le(r.kind);tp.pe.oe(a,u)}return i.$e()}sn(e){const t=new wb;return tp.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const i=new wb;return tp.pe.oe(qf(this.databaseId,t),i.Le(function(r){const a=jf(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}en(e,t,i){if(null===i)return[];let r=[];r.push(new wb);let a=0;for(const u of jf(e)){const f=i[a++];for(const _ of r)if(this.an(t,u.fieldPath)&&sb(f))r=this.hn(r,u,f);else{const v=_.Le(u.kind);tp.pe.oe(f,v)}}return this.ln(r)}tn(e,t,i){return this.en(e,t,i.position)}ln(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}hn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new wb;_.seed(f.$e()),tp.pe.oe(u,_.Le(t.kind)),a.push(_)}return a}an(e,t){return!!e.filters.find(i=>i instanceof _n&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=ND(e),r=Cb(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return de.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(v,D){const M=D?new Jv(D.sequenceNumber,new Io(Jf(D.readTime),new tt(Bl(D.documentKey)),D.largestBatchId)):Jv.empty(),B=v.fields.map(([j,K])=>new gD(Oi.fromServerFormat(j),K));return new pD(v.indexId,v.collectionGroup,B,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:tn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=ND(e),a=Cb(e);return this.fn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,_=>a.put(mF(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?de.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),de.forEach(f,_=>this.dn(e,r,_).next(v=>{const D=this.wn(a,_);return v.isEqual(D)?de.resolve():this._n(e,a,_,v,D)}))))})}mn(e,t,i,r){return Eb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,t.key),documentKey:t.key.path.toArray()})}gn(e,t,i,r){return Eb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,t.key),t.key.path.toArray()])}dn(e,t,i){const r=Eb(e);let a=new Nn(Qd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,t)])},(u,f)=>{a=a.add(new np(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let i=new Nn(Qd);const r=this.un(t,e);if(null==r)return i;const a=FM(t);if(null!=a){const u=e.data.field(a.fieldPath);if(sb(u))for(const f of u.arrayValue.values||[])i=i.add(new np(t.indexId,e.key,this.sn(f),r))}else i=i.add(new np(t.indexId,e.key,PD,r));return i}_n(e,t,i,r,a){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,v,D,M){const B=f.getIterator(),j=_.getIterator();let K=Mm(B),ne=Mm(j);for(;K||ne;){let _e=!1,ze=!1;if(K&&ne){const dt=v(K,ne);dt<0?ze=!0:dt>0&&(_e=!0)}else null!=K?ze=!0:_e=!0;_e?(D(ne),ne=Mm(j)):ze?(M(K),K=Mm(B)):(K=Mm(B),ne=Mm(j))}}(r,a,Qd,f=>{u.push(this.mn(e,t,i,f))},f=>{u.push(this.gn(e,t,i,f))}),de.waitFor(u)}fn(e){let t=1;return Cb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Qd(u,f)).filter((u,f,_)=>!f||0!==Qd(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Qd(u,e),_=Qd(u,t);if(0===f)r[0]=e.qe();else if(f>0&&_<0)r.push(u),r.push(u.qe());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.yn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,PD,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,PD,[]]))}return a}yn(e,t){return Qd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(IF)}getMinOffset(e,t){return de.mapArray(this.Ze(t),i=>this.Xe(e,i).next(r=>r||pt())).next(IF)}}function DF(n){return wr(n,"collectionParents")}function Eb(n){return wr(n,"indexEntries")}function ND(n){return wr(n,"indexConfiguration")}function Cb(n){return wr(n,"indexState")}function IF(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;LM(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Io(e.readTime,e.documentKey,t)}const SF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ks{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TF(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(D,M,B)=>(f++,B.delete()));a.push(_.next(()=>{Tt(1===f)}));const v=[];for(const D of t.mutations){const M=e1(e,D.key.path,t.batchId);a.push(r.delete(M)),v.push(D.key)}return de.waitFor(a).next(()=>v)}function FD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);class LD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(e,t,i,r){Tt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new LD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xd(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Bm(e),u=Xd(e);return u.add({}).next(f=>{Tt("number"==typeof f);const _=new JM(f,t,i,r),v=function(B,j,K){const ne=K.baseMutations.map(ze=>yb(B.se,ze)),_e=K.mutations.map(ze=>yb(B.se,ze));return{userId:j,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:ne,mutations:_e}}(this.serializer,this.userId,_),D=[];let M=new Nn((B,j)=>tn(B.canonicalString(),j.canonicalString()));for(const B of r){const j=e1(this.userId,B.key.path,f);M=M.add(B.key.path.popLast()),D.push(u.put(v)),D.push(a.put(j,W2))}return M.forEach(B=>{D.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.pn[f]=_.keys()}),de.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return Xd(e).get(t).next(i=>i?(Tt(i.userId===this.userId),ep(this.serializer,i)):null)}In(e,t){return this.pn[t]?de.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.pn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Xd(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Tt(f.batchId>=i),a=ep(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xd(e).j("userMutationsIndex",t).next(i=>i.map(r=>ep(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=_D(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Bm(e).Z({range:r},(u,f,_)=>{const[v,D,M]=u,B=Bl(D);if(v===this.userId&&t.path.isEqual(B))return Xd(e).get(M).next(j=>{if(!j)throw pt();Tt(j.userId===this.userId),a.push(ep(this.serializer,j))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nn(tn);const r=[];return t.forEach(a=>{const u=_D(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Bm(e).Z({range:f},(v,D,M)=>{const[B,j,K]=v,ne=Bl(j);B===this.userId&&a.path.isEqual(ne)?i=i.add(K):M.done()});r.push(_)}),de.waitFor(r).next(()=>this.Tn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=_D(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Nn(tn);return Bm(e).Z({range:u},(_,v,D)=>{const[M,B,j]=_,K=Bl(B);M===this.userId&&i.isPrefixOf(K)?K.length===r&&(f=f.add(j)):D.done()}).next(()=>this.Tn(e,f))}Tn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Xd(e).get(a).next(u=>{if(null===u)throw pt();Tt(u.userId===this.userId),i.push(ep(this.serializer,u))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return TF(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Bm(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Bl(a[1]);r.push(_)}else f.done()}).next(()=>{Tt(0===r.length)})})}containsKey(e,t){return AF(e,this.userId,t)}An(e){return MF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AF(n,e,t){const i=_D(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Bm(n).Z({range:a,Y:!0},(f,_,v)=>{const[D,M,B]=f;D===e&&M===r&&(u=!0),v.done()}).next(()=>u)}function Xd(n){return wr(n,"mutations")}function Bm(n){return wr(n,"documentMutations")}function MF(n){return wr(n,"mutationQueues")}class ip{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ip(0)}static bn(){return new ip(-1)}}class cj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const i=new ip(t.highestTargetId);return t.highestTargetId=i.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>Mt.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Vn(e,r)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(i=>(i.targetCount+=1,this.Dn(t,i),this.Vn(e,i))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zm(e).delete(t.targetId)).next(()=>this.Pn(e)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.Vn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return zm(e).Z((u,f)=>{const _=vb(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>de.waitFor(a)).next(()=>r)}forEachTarget(e,t){return zm(e).Z((i,r)=>{const a=vb(r);t(a)})}Pn(e){return xF(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Vn(e,t){return xF(e).put("targetGlobalKey",t)}Sn(e,t){return zm(e).put(pF(this.serializer,t))}Dn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Wf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return zm(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const v=vb(f);ab(t,v.target)&&(a=v,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Jd(e);return t.forEach(u=>{const f=Cs(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),de.waitFor(r)}removeMatchingKeys(e,t,i){const r=Jd(e);return de.forEach(t,a=>{const u=Cs(a.path);return de.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Jd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jd(e);let a=ln();return r.Z({range:i,Y:!0},(u,f,_)=>{const v=Bl(u[1]),D=new tt(v);a=a.add(D)}).next(()=>a)}containsKey(e,t){const i=Cs(t.path),r=IDBKeyRange.bound([i],[GN(i)],!1,!0);let a=0;return Jd(e).Z({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}ne(e,t){return zm(e).get(t).next(i=>i?vb(i):null)}}function zm(n){return wr(n,"targets")}function xF(n){return wr(n,"targetGlobal")}function Jd(n){return wr(n,"targetDocuments")}function OF([n,e],[t,i]){const r=tn(n,t);return 0===r?tn(e,i):r}class uj{constructor(e){this.Cn=e,this.buffer=new Nn(OF),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();OF(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){jd(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zd(i)}yield t.$n(3e5)}))}}class hj{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(So.ct);const i=new uj(t);return this.Mn.forEachTarget(e,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(e,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(SF)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SF):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let i,r,a,u,f,_,v;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(v=Date.now(),PM()<=Ld.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(v-_)+`ms\nTotal Duration: ${v-D}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class fj{constructor(e,t){this.db=e,this.garbageCollector=new hj(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Bn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(i,r)=>t(r))}addReference(e,t,i){return VD(e,i)}removeReference(e,t,i){return VD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return VD(e,t)}Kn(e,t){return function(i,r){let a=!1;return MF(i).X(u=>AF(i,u,r).next(f=>(f&&(a=!0),de.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Un(e,(u,f)=>{if(f<=t){const _=this.Kn(e,u).next(v=>{if(!v)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Mt.min()),Jd(e).delete([0,Cs(u.path)])))});r.push(_)}}).next(()=>de.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return VD(e,t)}Un(e,t){const i=Jd(e);let r,a=So.ct;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:v})=>{0===u?(a!==So.ct&&t(new tt(Bl(r)),a),a=v,r=_):a=So.ct}).next(()=>{a!==So.ct&&t(new tt(Bl(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function VD(n,e){return Jd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Cs(e.path),sequenceNumber:i}));var i}class RF{constructor(){this.changes=new Wd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return rp(e).put(i)}removeEntry(e,t,i){return rp(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],OD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Gn(e,i)))}getEntry(e,t){let i=si.newInvalidDocument(t);return rp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Db(t))},(r,a)=>{i=this.Qn(t,a)}).next(()=>i)}zn(e,t){let i={size:0,document:si.newInvalidDocument(t)};return rp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Db(t))},(r,a)=>{i={document:this.Qn(t,a),size:FD(a)}}).next(()=>i)}getEntries(e,t){let i=Ws();return this.jn(e,t,(r,a)=>{const u=this.Qn(r,a);i=i.insert(r,u)}).next(()=>i)}Wn(e,t){let i=Ws(),r=new Ri(tt.comparator);return this.jn(e,t,(a,u)=>{const f=this.Qn(a,u);i=i.insert(a,f),r=r.insert(a,FD(u))}).next(()=>({documents:i,Hn:r}))}jn(e,t,i){if(t.isEmpty())return de.resolve();let r=new Nn(FF);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Db(r.first()),Db(r.last())),u=r.getIterator();let f=u.getNext();return rp(e).Z({index:"documentKeyIndex",range:a},(_,v,D)=>{const M=tt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&FF(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,v),f=u.hasNext()?u.getNext():null),f?D.G(Db(f)):D.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),OD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rp(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let v=Ws();for(const D of _){const M=this.Qn(tt.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);M.isFoundDocument()&&(cb(t,M)||r.has(M.key))&&(v=v.insert(M.key,M))}return v})}getAllFromCollectionGroup(e,t,i,r){let a=Ws();const u=NF(t,i),f=NF(t,Io.max());return rp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,v,D)=>{const M=this.Qn(tt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(M.key,M),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(e){return new gj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PF(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Gn(e,t){return PF(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const i=function Jz(n,e){let t;if(e.document)t=oF(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=tt.fromSegments(e.noDocument.path),r=Jf(e.noDocument.readTime);t=si.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const i=tt.fromSegments(e.unknownDocument.path),r=Jf(e.unknownDocument.version);t=si.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new fi(i[0],i[1]);return Mt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Mt.min()))return i}return si.newInvalidDocument(e)}}function kF(n){return new pj(n)}class gj extends RF{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Wd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Nn((a,u)=>tn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Yn.get(a);if(t.push(this.Jn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=fF(this.Jn.serializer,u);r=r.add(a.path.popLast());const v=FD(_);i+=v-f.size,t.push(this.Jn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=fF(this.Jn.serializer,u.convertToNoDocument(Mt.min()));t.push(this.Jn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Jn.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(i=>(this.Yn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:i,Hn:r})=>(r.forEach((a,u)=>{this.Yn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function PF(n){return wr(n,"remoteDocumentGlobal")}function rp(n){return wr(n,"remoteDocumentsV14")}function Db(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NF(n,e){const t=e.documentKey.path.toArray();return[n,OD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function FF(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=tn(t[a],i[a]),r)return r;return r=tn(t.length,i.length),r||(r=tn(t[t.length-2],i[i.length-2]),r||tn(t[t.length-1],i[i.length-1]))}class mj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LF{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&fb(i.mutation,r,qs.empty(),fi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ln()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ln()){const r=jl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=ub();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=jl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ln()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=Ws();const u=db(),f=db();return t.forEach((_,v)=>{const D=i.get(v.key);r.has(v.key)&&(void 0===D||D.mutation instanceof vu)?a=a.insert(v.key,v):void 0!==D?(u.set(v.key,D.mutation.getFieldMask()),fb(D.mutation,v,D.mutation.getFieldMask(),fi.now())):u.set(v.key,qs.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((v,D)=>u.set(v,D)),t.forEach((v,D)=>{var M;return f.set(v,new mj(D,null!==(M=u.get(v))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=db();let r=new Ri((u,f)=>u-f),a=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const v=t.get(_);if(null===v)return;let D=i.get(_)||qs.empty();D=f.applyToLocalView(v,D),i.set(_,D);const M=(r.get(f.batchId)||ln()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),v=_.key,D=_.value,M=P1();D.forEach(B=>{if(!a.has(B)){const j=H1(t.get(B),i.get(B));null!==j&&M.set(B,j),a=a.add(B)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,M))}return de.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return tt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):KM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):de.resolve(jl());let f=-1,_=a;return u.next(v=>de.forEach(v,(D,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(D)?de.resolve():this.remoteDocumentCache.getEntry(e,D).next(B=>{_=_.insert(D,B)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,_,v,ln())).next(D=>({batchId:f,changes:k1(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(i=>{let r=ub();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=ub();return this.indexManager.getCollectionParents(e,r).next(u=>de.forEach(u,f=>{const _=(v=t,D=f.child(r),new yu(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(v=>{v.forEach((D,M)=>{a=a.insert(D,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const v=_.getKey();null===a.get(v)&&(a=a.insert(v,si.newInvalidDocument(v)))});let u=ub();return a.forEach((f,_)=>{const v=r.get(f);void 0!==v&&fb(v.mutation,_,qs.empty(),fi.now()),cb(t,_)&&(u=u.insert(f,_))}),u})}}class _j{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Bi(i.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:lx(i.bundledQuery),readTime:Bi(i.readTime)}),de.resolve();var i}}class yj{constructor(){this.overlays=new Ri(tt.comparator),this.ts=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=jl();return de.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.re(e,t,a)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ts.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=jl(),a=t.length+1,u=new tt(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,v=_.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ri((v,D)=>v-D);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let D=a.get(v.largestBatchId);null===D&&(D=jl(),a=a.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const f=jl(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,D)=>f.set(v,D)),!(f.size()>=r)););return de.resolve(f)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new tx(t,i));let a=this.ts.get(t);void 0===a&&(a=ln(),this.ts.set(t,a)),this.ts.set(t,a.add(i.key))}}class gx{constructor(){this.es=new Nn(Cr.ns),this.ss=new Nn(Cr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new Cr(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new Cr(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new tt(new wn([])),i=new Cr(t,e),r=new Cr(t,e+1),a=[];return this.ss.forEachInRange([i,r],u=>{this.us(u),a.push(u.key)}),a}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new tt(new wn([])),i=new Cr(t,e),r=new Cr(t,e+1);let a=ln();return this.ss.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Cr(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Cr{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return tt.comparator(e.key,t.key)||tn(e.ds,t.ds)}static rs(e,t){return tn(e.ds,t.ds)||tt.comparator(e.key,t.key)}}class vj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new Nn(Cr.ns)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new JM(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this._s=this._s.add(new Cr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,t){return de.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),a=r<0?0:r;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Cr(t,0),r=new Cr(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([i,r],u=>{const f=this.gs(u.ds);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nn(tn);return t.forEach(r=>{const a=new Cr(r,0),u=new Cr(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([a,u],f=>{i=i.add(f.ds)})}),de.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;tt.isDocumentKey(a)||(a=a.child(""));const u=new Cr(new tt(a),0);let f=new Nn(tn);return this._s.forEachWhile(_=>{const v=_.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(_.ds)),!0)},u),de.resolve(this.ps(f))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Tt(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return de.forEach(t.mutations,r=>{const a=new Cr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new Cr(t,0),r=this._s.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return de.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bj{constructor(e){this.Ts=e,this.docs=new Ri(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():si.newInvalidDocument(t))}getEntries(e,t){let i=Ws();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():si.newInvalidDocument(r))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Ws();const u=t.path,f=new tt(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:v,value:{document:D}}=_.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||LM(qN(D),i)<=0||(r.has(D.key)||cb(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,t,i,r){pt()}Es(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new wj(this)}getSize(e){return de.resolve(this.size)}}class wj extends RF{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Ej{constructor(e){this.persistence=e,this.As=new Wd(t=>Wf(t),ab),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new gx,this.targetCount=0,this.bs=ip.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),de.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ip(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Sn(t),de.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.As.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.As.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),de.waitFor(a).next(()=>r)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.vs.containsKey(t))}}class VF{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new So(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Ej(this),this.indexManager=new aj,this.remoteDocumentCache=new bj(i=>this.referenceDelegate.Cs(i)),this.serializer=new hF(t),this.xs=new _j(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new vj(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);const r=new Cj(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(a=>this.referenceDelegate.ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return de.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class Cj extends KN{constructor(e){super(),this.currentSequenceNumber=e}}class UD{constructor(e){this.persistence=e,this.$s=new gx,this.Ms=null}static Fs(e){return new UD(e)}get Bs(){if(this.Ms)return this.Ms;throw pt()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),de.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Bs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Bs,i=>{const r=tt.fromPath(i);return this.Ls(e,r).next(a=>{a||t.removeEntry(r,Mt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return de.or([()=>de.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Dj{constructor(e){this.serializer=e}M(e,t,i,r){const a=new mD("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JN,{unique:!0}),f.createObjectStore("documentMutations"),UF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=de.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),UF(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JN,{unique:!0});const D=_.store("mutations"),M=v.map(B=>D.put(B));return de.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Us(a)))),i<7&&r>=7&&(u=u.next(()=>this.Ks(a))),i<8&&r>=8&&(u=u.next(()=>this.Gs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Qs(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:oz});_.createIndex("collectionPathOverlayIndex",az,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",lz,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:K2});_.createIndex("documentKeyIndex",Y2),_.createIndex("collectionGroupIndex",Q2)}(e)).next(()=>this.zs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.js(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:nz}).createIndex("sequenceNumberIndex",iz,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:rz}).createIndex("documentKeyIndex",sz,{unique:!1})}(e))),u}Us(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=FD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>de.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>de.forEach(f,_=>{Tt(_.userId===a.userId);const v=ep(this.serializer,_);return TF(e,a.userId,v).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new wn(u),v=[0,Cs(_)];a.push(t.get(v).next(D=>D?de.resolve():t.put({targetId:0,path:Cs(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(a))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:tz});const i=t.store("collectionParents"),r=new px,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Cs(_)})}};return t.store("remoteDocuments").Z({Y:!0},(u,f)=>{const _=new wn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([u,f,_],v)=>{const D=Bl(f);return a(D.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((i,r)=>{const a=vb(r),u=pF(this.serializer,a);return t.put(u)})}zs(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(v=u,v.document?new tt(wn.fromString(v.document.name).popFirst(5)):v.noDocument?tt.fromSegments(v.noDocument.path):v.unknownDocument?tt.fromSegments(v.unknownDocument.path):pt()).path.toArray();var v;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(D))}).next(()=>de.waitFor(r))}js(e,t){const i=t.store("mutations"),r=kF(this.serializer),a=new VF(UD.Fs,this.serializer.se);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var v;let D=null!==(v=f.get(_.userId))&&void 0!==v?v:ln();ep(this.serializer,_).keys().forEach(M=>D=D.add(M)),f.set(_.userId,D)}),de.forEach(f,(_,v)=>{const D=new br(v),M=RD.ie(this.serializer,D),B=a.getIndexManager(D),j=LD.ie(D,this.serializer,B,a.referenceDelegate);return new LF(r,j,M,B).recalculateAndSaveOverlaysForDocumentKeys(new BM(t,So.ct),_).next()})})}}function UF(n){n.createObjectStore("targetDocuments",{keyPath:J2}).createIndex("documentTargetsIndex",ez,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",X2,{unique:!0}),n.createObjectStore("targetGlobal")}const mx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _x{constructor(e,t,i,r,a,u,f,_,v,D,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ws=a,this.window=u,this.document=f,this.Hs=v,this.Js=D,this.Ys=M,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=B=>Promise.resolve(),!_x.D())throw new Le(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fj(this,r),this.si=t+"main",this.serializer=new hF(_),this.ii=new Ua(this.si,this.Ys,new Dj(this.serializer)),this.Ds=new cj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kF(this.serializer),this.xs=new ej,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===D&&Ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(fe.FAILED_PRECONDITION,mx);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new So(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>BD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(jd(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Ib(e).get("owner").next(t=>de.resolve(this._i(t)))}mi(e){return BD(e).delete(this.clientId)}gi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=wr(i,"clientMetadata");return r.j().next(a=>{const u=e.pi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return de.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ri)for(const i of t)e.ri.removeItem(e.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?de.resolve(!0):Ib(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Le(fe.FAILED_PRECONDITION,mx);return!1}}return!(!this.networkEnabled||!this.inForeground)||BD(e).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new BM(t,So.ct);return e.di(i).next(()=>e.mi(i))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(i=>this.yi(i.updateTimeMs,t)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>BD(e).j().next(t=>this.pi(t,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return LD.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lj(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return RD.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,i){Ve("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Ys)?uz:14===u?r1:13===u?n1:12===u?cz:11===u?t1:void pt();var u;let f;return this.ii.runTransaction(e,r,a,_=>(f=new BM(_,this.Vs?this.Vs.next():So.ct),"readwrite-primary"===t?this.li(f).next(v=>!!v||this.fi(f)).next(v=>{if(!v)throw Ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Le(fe.FAILED_PRECONDITION,WN);return i(f)}).next(v=>this.wi(f).next(()=>v)):this.Pi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Pi(e){return Ib(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(fe.FAILED_PRECONDITION,mx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ib(e).put("owner",t)}static D(){return Ua.D()}di(e){const t=Ib(e);return t.get("owner").next(i=>this._i(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}yi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ui(`Detected an update time that is in the future: ${e} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,In.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const i=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ui("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){Ui("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ib(n){return wr(n,"owner")}function BD(n){return wr(n,"clientMetadata")}function yx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class vx{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=ln(),r=ln();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new vx(e,t.fromCache,i,r)}}class BF{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(a=>a||this.ki(e,t,r,i)).next(a=>a||this.Oi(e,t))}Ni(e,t){if(A1(t))return de.resolve(null);let i=Ds(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=DD(t,null,"F"),i=Ds(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=ln(...a);return this.xi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const v=this.$i(t,f);return this.Mi(t,v,u,_.readTime)?this.Ni(e,DD(t,null,"F")):this.Fi(e,v,t,_)}))})))}ki(e,t,i,r){return A1(t)||r.isEqual(Mt.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(a=>{const u=this.$i(t,a);return this.Mi(t,u,i,r)?this.Oi(e,t):(PM()<=Ld.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),QM(t)),this.Fi(e,u,t,ZN(r,-1)))})}$i(e,t){let i=new Nn(O1(e));return t.forEach((r,a)=>{cb(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return PM()<=Ld.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",QM(t)),this.xi.getDocumentsMatchingQuery(e,t,Io.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class Ij{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new Ri(tn),this.qi=new Wd(a=>Wf(a),ab),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LF(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function zF(n,e,t,i){return new Ij(n,e,t,i)}function jF(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,Ee.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=ln();for(const v of r){u.push(v.batchId);for(const D of v.mutations)_=_.add(D.key)}for(const v of a){f.push(v.batchId);for(const D of v.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(i,_).next(v=>({Qi:v,removedBatchIds:u,addedBatchIds:f}))})})}),bx.apply(this,arguments)}function HF(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function $F(n,e,t){let i=ln(),r=ln();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Ws();return t.forEach((f,_)=>{const v=a.get(f);_.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Mt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||0===_.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Ve("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",_.version)}),{zi:u,ji:r}})}function Aj(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jm(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ds.getTargetData(i,e).next(a=>a?(r=a,de.resolve(r)):t.Ds.allocateTargetId(i).next(u=>(r=new Yd(e,u,0,i.currentSequenceNumber),t.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Li=t.Li.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Hm(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,Ee.Z)(function*(n,e,t){const i=ot(n),r=i.Li.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!jd(u))throw u;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)}),wx.apply(this,arguments)}function zD(n,e,t){const i=ot(n);let r=Mt.min(),a=ln();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,v){const D=ot(f),M=D.qi.get(v);return void 0!==M?de.resolve(D.Li.get(M)):D.Ds.getTargetData(_,v)}(i,u,Ds(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Bi.getDocumentsMatchingQuery(u,e,t?r:Mt.min(),t?a:ln())).next(f=>(qF(i,x1(e),f),{documents:f,Wi:a})))}function GF(n,e){const t=ot(n),i=ot(t.Ds),r=t.Li.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(u=>u?u.target:null))}function ZF(n,e){const t=ot(n),i=t.Ui.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ki.getAllFromCollectionGroup(r,e,ZN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(qF(t,e,r),r))}function qF(n,e,t){let i=n.Ui.get(e)||Mt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ui.set(e,i)}function Ex(){return Ex=(0,Ee.Z)(function*(n,e,t,i){const r=ot(n);let a=ln(),u=Ws();for(const v of t){const D=e.Hi(v.metadata.name);v.document&&(a=a.add(D));const M=e.Ji(v);M.setReadTime(e.Yi(v.metadata.readTime)),u=u.insert(D,M)}const f=r.Ki.newChangeBuffer({trackRemovals:!0}),_=yield jm(r,(v=i,Ds(km(wn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>$F(v,f,u).next(D=>(f.apply(v),D)).next(D=>r.Ds.removeMatchingKeysForTargetId(v,_.targetId).next(()=>r.Ds.addMatchingKeys(v,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,D.zi,D.ji)).next(()=>D.zi)))}),Ex.apply(this,arguments)}function xj(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Ee.Z)(function*(n,e,t=ln()){const i=yield jm(n,Ds(lx(e.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Bi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.xs.saveNamedQuery(a,e);const f=i.withResumeToken(lr.EMPTY_BYTE_STRING,u);return r.Li=r.Li.insert(f.targetId,f),r.Ds.updateTargetData(a,f).next(()=>r.Ds.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Ds.addMatchingKeys(a,t,i.targetId)).next(()=>r.xs.saveNamedQuery(a,e))})}),Cx.apply(this,arguments)}function WF(n,e){return`firestore_clients_${n}_${e}`}function KF(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Dx(n,e){return`firestore_targets_${n}_${e}`}class jD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Le(r.error.code,r.error.message))),u?new jD(e,t,r.state,a):(Ui("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Le(i.error.code,i.error.message))),a?new Sb(e,i.state,r):(Ui("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=ID();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=QN(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new HD(e,a):(Ui("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ix{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ix(t.clientId,t.onlineState):(Ui("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sx{constructor(){this.activeTargetIds=ID()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tx{constructor(e,t,i,r,a){this.window=e,this.Ws=t,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Ri(tn),this.started=!1,this.ur=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=WF(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new Sx),this.hr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.bi();for(const r of t){if(r===e.nr)continue;const a=e.getItem(WF(e.persistenceKey,r));if(a){const u=HD.Zi(r,a);u&&(e.rr=e.rr.insert(u.clientId,u))}}e.mr();const i=e.storage.getItem(e.wr);if(i){const r=e.gr(i);r&&e.yr(r)}for(const r of e.ur)e.ir(r);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,i){this.Ir(e,t,i),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Dx(this.persistenceKey,e));if(i){const r=Sb.Zi(e,i);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dx(this.persistenceKey,e))}updateQueryState(e,t,i){this.Ar(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Tr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void Ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.hr.test(i.key)){if(null==i.newValue){const r=t.br(i.key);return t.Pr(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.Pr(r.clientId,r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.gr(i.newValue);if(r)return t.yr(r)}}else if(i.key===t.ar){const r=function(a){let u=So.ct;if(null!=a)try{const f=JSON.parse(a);Tt("number"==typeof f),u=f}catch(f){Ui("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==So.ct&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,i){const r=new jD(this.currentUser,e,t,i),a=KF(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}Tr(e){const t=KF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,i){const r=Dx(this.persistenceKey,e),a=new Sb(e,t,i);this.setItem(r,a.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.br(e);return HD.Zi(i,t)}Sr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return jD.Zi(new br(void 0!==i[2]?i[2]:null),r,t)}Cr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return Sb.Zi(r,t)}gr(e){return Ix.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const i=t?this.rr.insert(e,t):this.rr.remove(e),r=this.pr(this.rr),a=this.pr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.rr=i})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=ID();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class YF{constructor(){this.Br=new Sx,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Sx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Oj{qr(e){}shutdown(){}}class QF{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $D=null;function Ax(){return null===$D?$D=268435456+Math.round(2147483648*Math.random()):$D++,"0x"+$D.toString(16)}const Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kj{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const os="WebChannelConnection";class Pj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,a){const u=Ax(),f=this.ao(e,t);Ve("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.ho(_,r,a),this.lo(e,f,_,i).then(v=>(Ve("RestConnection",`Received RPC '${e}' ${u}: `,v),v),v=>{throw Ul("RestConnection",`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",i),v})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.ro}/v1/${t}:${Rj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const a=Ax();return new Promise((u,f)=>{const _=new x2;_.setWithCredentials(!0),_.listenOnce(T2.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case kM.NO_ERROR:const D=_.getResponseJson();Ve(os,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),u(D);break;case kM.TIMEOUT:Ve(os,`RPC '${e}' ${a} timed out`),f(new Le(fe.DEADLINE_EXCEEDED,"Request time out"));break;case kM.HTTP_ERROR:const M=_.getStatus();if(Ve(os,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const j=B?.error;if(j&&j.status&&j.message){const K=function(ne){const _e=ne.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(_e)>=0?_e:fe.UNKNOWN}(j.status);f(new Le(K,j.message))}else f(new Le(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Le(fe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ve(os,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(r);Ve(os,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",v,i,15)})}wo(e,t,i){const r=Ax(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=I2(),f=S2(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new M2({})),this.ho(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const v=a.join("");Ve(os,`Creating RPC '${e}' stream ${r}: ${v}`,_);const D=u.createWebChannel(v,_);let M=!1,B=!1;const j=new kj({Wr:ne=>{B?Ve(os,`Not sending because RPC '${e}' stream ${r} is closed:`,ne):(M||(Ve(os,`Opening RPC '${e}' stream ${r} transport.`),D.open(),M=!0),Ve(os,`RPC '${e}' stream ${r} sending:`,ne),D.send(ne))},Hr:()=>D.close()}),K=(ne,_e,ze)=>{ne.listen(_e,dt=>{try{ze(dt)}catch(ht){setTimeout(()=>{throw ht},0)}})};return K(D,fD.EventType.OPEN,()=>{B||Ve(os,`RPC '${e}' stream ${r} transport opened.`)}),K(D,fD.EventType.CLOSE,()=>{B||(B=!0,Ve(os,`RPC '${e}' stream ${r} transport closed`),j.so())}),K(D,fD.EventType.ERROR,ne=>{B||(B=!0,Ul(os,`RPC '${e}' stream ${r} transport errored:`,ne),j.so(new Le(fe.UNAVAILABLE,"The operation could not be completed")))}),K(D,fD.EventType.MESSAGE,ne=>{var _e;if(!B){const ze=ne.data[0];Tt(!!ze);const ht=ze.error||(null===(_e=ze[0])||void 0===_e?void 0:_e.error);if(ht){Ve(os,`RPC '${e}' stream ${r} received error:`,ht);const bt=ht.status;let Wt=function(Mn){const Ir=Ji[Mn];if(void 0!==Ir)return K1(Ir)}(bt),nn=ht.message;void 0===Wt&&(Wt=fe.INTERNAL,nn="Unknown error status: "+bt+" with message "+ht.message),B=!0,j.so(new Le(Wt,nn)),D.close()}else Ve(os,`RPC '${e}' stream ${r} received:`,ze),j.io(ze)}}),K(f,A2.STAT_EVENT,ne=>{ne.stat===BN.PROXY?Ve(os,`RPC '${e}' stream ${r} detected buffering proxy`):ne.stat===BN.NOPROXY&&Ve(os,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{j.no()},0),j}}function XF(){return typeof window<"u"?window:null}function GD(){return typeof document<"u"?document:null}function Tb(n){return new Hz(n,!0)}class Mx{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class JF{constructor(e,t,i,r,a,u,f,_){this.Ws=e,this.bo=i,this.Po=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Mx(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,Ee.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,Ee.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new Le(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao((0,Ee.Z)(function*(){e.state=0,e.start()}))}Go(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nj extends JF{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Zz(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),r=e.targetChange.targetIds||[],a=function(_,v){return _.useProto3Json?(Tt(void 0===v||"string"==typeof v),lr.fromBase64String(v||"")):(Tt(void 0===v||v instanceof Uint8Array),lr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const v=void 0===_.code?fe.UNKNOWN:K1(_.code);return new Le(v,_.message||"")}(u);t=new Q1(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Hl(n,i.document.name),a=Bi(i.document.updateTime),u=i.document.createTime?Bi(i.document.createTime):Mt.min(),f=new Er({mapValue:{fields:i.document.fields}}),_=si.newFoundDocument(r,a,u,f);t=new xD(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Hl(n,i.document),a=i.readTime?Bi(i.readTime):Mt.min(),u=si.newNoDocument(r,a);t=new xD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Hl(n,i.document);t=new xD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pt();{const i=e.filter,a=new Vz(i.count||0);t=new Y1(i.targetId,a)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Mt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?Bi(a.readTime):Mt.min()}(e);return this.listener.zo(t,i)}jo(e){const t={};t.database=_b(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;return u=wD(f)?{documents:aF(r,f)}:{query:ax(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=tF(r,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(u.readTime=Vm(r,a.snapshotVersion.toTimestamp())),u}(this.serializer,e);const i=function Wz(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=_b(this.serializer),t.removeTarget=e,this.Fo(t)}}class Fj extends JF{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function qz(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(i,r){let a=Bi(i.updateTime?i.updateTime:r);return a.isEqual(Mt.min())&&(a=Bi(r)),new kz(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Bi(e.commitTime);return this.listener.Zo(i,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=_b(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>yb(this.serializer,i))};this.Fo(t)}}class Lj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(fe.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(fe.UNKNOWN,a.toString())})}terminate(){this.eu=!0}}class Uj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Ui(t),this.ru=!1):Ve("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class Bj{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(f=>{i.enqueueAndForget((0,Ee.Z)(function*(){var _;bu(u)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ee.Z)(function*(v){const D=ot(v);D.du.add(4),yield $m(D),D.mu.set("Unknown"),D.du.delete(4),yield Ab(D)}),function(v){return _.apply(this,arguments)})(u))}))}),this.mu=new Uj(i,r)}}function Ab(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Ee.Z)(function*(n){if(bu(n))for(const e of n.wu)yield e(!0)}),Ox.apply(this,arguments)}function $m(n){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Rx.apply(this,arguments)}function ZD(n,e){const t=ot(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),Nx(t)?Px(t):Zm(t).No()&&kx(t,e))}function Mb(n,e){const t=ot(n),i=Zm(t);t.fu.delete(e),i.No()&&eL(t,e),0===t.fu.size&&(i.No()?i.$o():bu(t)&&t.mu.set("Unknown"))}function kx(n,e){n.gu.Ot(e.targetId),Zm(n).jo(e)}function eL(n,e){n.gu.Ot(e),Zm(n).Wo(e)}function Px(n){n.gu=new Uz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),Zm(n).start(),n.mu.ou()}function Nx(n){return bu(n)&&!Zm(n).xo()&&n.fu.size>0}function bu(n){return 0===ot(n).du.size}function tL(n){n.gu=void 0}function zj(n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ee.Z)(function*(n){n.fu.forEach((e,t)=>{kx(n,e)})}),Fx.apply(this,arguments)}function jj(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ee.Z)(function*(n,e){tL(n),Nx(n)?(n.mu.au(e),Px(n)):n.mu.set("Unknown")}),Lx.apply(this,arguments)}function Hj(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Ee.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof Q1&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.fu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.fu.delete(f),r.gu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield qD(n,i)}else if(e instanceof xD?n.gu.Kt(e):e instanceof Y1?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(Mt.min()))try{const i=yield HF(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.gu.Xt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.fu.get(_);v&&r.fu.set(_,v.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.fu.get(f);if(!_)return;r.fu.set(f,_.withResumeToken(lr.EMPTY_BYTE_STRING,_.snapshotVersion)),eL(r,f);const v=new Yd(_.target,f,1,_.sequenceNumber);kx(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield qD(n,i)}var i}),Vx.apply(this,arguments)}function qD(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Ee.Z)(function*(n,e,t){if(!jd(e))throw e;n.du.add(1),yield $m(n),n.mu.set("Offline"),t||(t=()=>HF(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield Ab(n)}))}),Ux.apply(this,arguments)}function nL(n,e){return e().catch(t=>qD(n,t,e))}function Gm(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Ee.Z)(function*(n){const e=ot(n),t=eh(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;$j(e);)try{const r=yield Aj(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,Gj(e,r)}catch(r){yield qD(e,r)}iL(e)&&rL(e)}),Bx.apply(this,arguments)}function $j(n){return bu(n)&&n.lu.length<10}function Gj(n,e){n.lu.push(e);const t=eh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function iL(n){return bu(n)&&!eh(n).xo()&&n.lu.length>0}function rL(n){eh(n).start()}function Zj(n){return zx.apply(this,arguments)}function zx(){return zx=(0,Ee.Z)(function*(n){eh(n).tu()}),zx.apply(this,arguments)}function qj(n){return jx.apply(this,arguments)}function jx(){return jx=(0,Ee.Z)(function*(n){const e=eh(n);for(const t of n.lu)e.Yo(t.mutations)}),jx.apply(this,arguments)}function Wj(n,e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,Ee.Z)(function*(n,e,t){const i=n.lu.shift(),r=ex.from(i,e,t);yield nL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gm(n)}),Hx.apply(this,arguments)}function Kj(n,e){return $x.apply(this,arguments)}function $x(){return $x=(0,Ee.Z)(function*(n,e){var t;e&&eh(n).Jo&&(yield(t=(0,Ee.Z)(function*(i,r){if(W1(a=r.code)&&a!==fe.ABORTED){const u=i.lu.shift();eh(i).Oo(),yield nL(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Gm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),iL(n)&&rL(n)}),$x.apply(this,arguments)}function sL(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,Ee.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=bu(t);t.du.add(3),yield $m(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Ab(t)}),Gx.apply(this,arguments)}function Zx(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,Ee.Z)(function*(n,e){const t=ot(n);e?(t.du.delete(2),yield Ab(t)):e||(t.du.add(2),yield $m(t),t.mu.set("Unknown"))}),qx.apply(this,arguments)}function Zm(n){return n.yu||(n.yu=function(e,t,i){const r=ot(e);return r.nu(),new Nj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:zj.bind(null,n),Zr:jj.bind(null,n),zo:Hj.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.yu.Oo(),Nx(n)?Px(n):n.mu.set("Unknown")):(yield n.yu.stop(),tL(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function eh(n){return n.pu||(n.pu=function(e,t,i){const r=ot(e);return r.nu(),new Fj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:Zj.bind(null,n),Zr:Kj.bind(null,n),Xo:qj.bind(null,n),Zo:Wj.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.pu.Oo(),yield Gm(n)):(yield n.pu.stop(),n.lu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class Wx{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new Wx(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(n,e){if(Ui("AsyncQueue",`${e}: ${n}`),jd(n))return new Le(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Wm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||tt.comparator(t.key,i.key):(t,i)=>tt.comparator(t.key,i.key),this.keyedMap=ub(),this.sortedSet=new Ri(this.comparator)}static emptySet(e){return new Wm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Wm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class oL{constructor(){this.Iu=new Ri(tt.comparator)}track(e){const t=e.doc.key,i=this.Iu.get(t);i?0!==e.type&&3===i.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==i.type?this.Iu=this.Iu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Iu=this.Iu.remove(t):1===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):pt():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Km{constructor(e,t,i,r,a,u,f,_,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Km(e,t,Wm.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Yj{constructor(){this.Eu=void 0,this.listeners=[]}}class Qj{constructor(){this.queries=new Wd(e=>M1(e),lb),this.onlineState="Unknown",this.Au=new Set}}function Kx(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Ee.Z)(function*(n,e){const t=ot(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Yj),r)try{a.Eu=yield t.onListen(i)}catch(u){const f=qm(u,`Initialization of query '${QM(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Ru(t.onlineState),a.Eu&&e.vu(a.Eu)&&Jx(t)}),Yx.apply(this,arguments)}function Qx(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Ee.Z)(function*(n,e){const t=ot(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Xx.apply(this,arguments)}function Xj(n,e){const t=ot(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.vu(r)&&(i=!0);u.Eu=r}}i&&Jx(t)}function Jj(n,e,t){const i=ot(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Jx(n){n.Au.forEach(e=>{e.next()})}class eO{constructor(e,t,i){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Km(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class eH{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class aL{constructor(e){this.serializer=e}Hi(e){return Hl(this.serializer,e)}Ji(e){return e.metadata.exists?oF(this.serializer,e.document,!1):si.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Bi(e)}}class tH{constructor(e,t,i){this.Ou=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lL(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const i=wn.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new aL(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.Hi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||ln()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function Mj(n,e,t,i){return Ex.apply(this,arguments)}(e.localStore,new aL(e.serializer),e.documents,e.Ou.id),i=e.Mu(e.documents);for(const r of e.queries)yield xj(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function lL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cL{constructor(e){this.key=e}}class uL{constructor(e){this.key=e}}class dL{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ln(),this.mutatedKeys=ln(),this.Ku=O1(e),this.Gu=new Wm(this.Ku)}get Qu(){return this.Lu}zu(e,t){const i=t?t.ju:new oL,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((D,M)=>{const B=r.get(D),j=cb(this.query,M)?M:null,K=!!B&&this.mutatedKeys.has(B.key),ne=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let _e=!1;B&&j?B.data.isEqual(j.data)?K!==ne&&(i.track({type:3,doc:j}),_e=!0):this.Wu(B,j)||(i.track({type:2,doc:j}),_e=!0,(_&&this.Ku(j,_)>0||v&&this.Ku(j,v)<0)&&(f=!0)):!B&&j?(i.track({type:0,doc:j}),_e=!0):B&&!j&&(i.track({type:1,doc:B}),_e=!0,(_||v)&&(f=!0)),_e&&(j?(u=u.add(j),a=ne?a.add(D):a.delete(D)):(u=u.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{Gu:u,ju:i,Mi:f,mutatedKeys:a}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.ju.Tu();a.sort((v,D)=>function(M,B){const j=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return j(M)-j(B)}(v.type,D.type)||this.Ku(v.doc,D.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.Uu.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new Km(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:u}:{Yu:u}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new oL,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ln(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const t=[];return e.forEach(i=>{this.Uu.has(i)||t.push(new uL(i))}),this.Uu.forEach(i=>{e.has(i)||t.push(new cL(i))}),t}Xu(e){this.Lu=e.Wi,this.Uu=ln();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Km.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class nH{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iH{constructor(e){this.key=e,this.ec=!1}}class rH{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Wd(f=>M1(f),lb),this.ic=new Map,this.rc=new Set,this.oc=new Ri(tt.comparator),this.uc=new Map,this.cc=new gx,this.ac={},this.hc=new Map,this.lc=ip.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function sH(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Ee.Z)(function*(n,e){const t=DO(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield jm(t.localStore,Ds(e));t.isPrimaryClient&&ZD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield nO(t,e,i,"current"===f,u.resumeToken)}return r}),tO.apply(this,arguments)}function nO(n,e,t,i,r){return iO.apply(this,arguments)}function iO(){return iO=(0,Ee.Z)(function*(n,e,t,i,r){n.dc=(M,B,j)=>{return(K=(0,Ee.Z)(function*(ne,_e,ze,dt){let ht=_e.view.zu(ze);ht.Mi&&(ht=yield zD(ne.localStore,_e.query,!1).then(({documents:nn})=>_e.view.zu(nn,ht)));const bt=dt&&dt.targetChanges.get(_e.targetId),Wt=_e.view.applyChanges(ht,ne.isPrimaryClient,bt);return fO(ne,_e.targetId,Wt.Yu),Wt.snapshot}),function(ne,_e,ze,dt){return K.apply(this,arguments)})(n,M,B,j);var K};const a=yield zD(n.localStore,e,!0),u=new dL(e,a.Wi),f=u.zu(a.documents),_=gb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(f,n.isPrimaryClient,_);fO(n,t,v.Yu);const D=new nH(e,t,u);return n.sc.set(e,D),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),v.snapshot}),iO.apply(this,arguments)}function oH(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,Ee.Z)(function*(n,e){const t=ot(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!lb(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Mb(t.remoteStore,i.targetId),Ym(t,i.targetId)}).catch(zd))):(Ym(t,i.targetId),yield Hm(t.localStore,i.targetId,!0))}),rO.apply(this,arguments)}function sO(){return sO=(0,Ee.Z)(function*(n,e,t){const i=IO(n);try{const r=yield function(a,u){const f=ot(a),_=fi.now(),v=u.reduce((B,j)=>B.add(j.key),ln());let D,M;return f.persistence.runTransaction("Locally write mutations","readwrite",B=>{let j=Ws(),K=ln();return f.Ki.getEntries(B,v).next(ne=>{j=ne,j.forEach((_e,ze)=>{ze.isValidDocument()||(K=K.add(_e))})}).next(()=>f.localDocuments.getOverlayedDocuments(B,j)).next(ne=>{D=ne;const _e=[];for(const ze of u){const dt=Nz(ze,D.get(ze.key).overlayedDocument);null!=dt&&_e.push(new vu(ze.key,dt,g1(dt.value.mapValue),pi.exists(!0)))}return f.mutationQueue.addMutationBatch(B,_,_e,u)}).next(ne=>{M=ne;const _e=ne.applyToLocalDocumentSet(D,K);return f.documentOverlayCache.saveOverlays(B,ne.batchId,_e)})}).then(()=>({batchId:M.batchId,changes:k1(D)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new Ri(tn)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield wu(i,r.changes),yield Gm(i.remoteStore)}catch(r){const a=qm(r,"Failed to persist write");t.reject(a)}}),sO.apply(this,arguments)}function hL(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,Ee.Z)(function*(n,e){const t=ot(n);try{const i=yield function Tj(n,e){const t=ot(n),i=e.snapshotVersion;let r=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ki.newChangeBuffer({trackRemovals:!0});r=t.Li;const f=[];e.targetChanges.forEach((D,M)=>{const B=r.get(M);if(!B)return;f.push(t.Ds.removeMatchingKeys(a,D.removedDocuments,M).next(()=>t.Ds.addMatchingKeys(a,D.addedDocuments,M)));let j=B.withSequenceNumber(a.currentSequenceNumber);var K,ne,_e;e.targetMismatches.has(M)?j=j.withResumeToken(lr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):D.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(D.resumeToken,i)),r=r.insert(M,j),ne=j,_e=D,(0===(K=B).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&f.push(t.Ds.updateTargetData(a,j))});let _=Ws(),v=ln();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push($F(a,u,e.documentUpdates).next(D=>{_=D.zi,v=D.ji})),!i.isEqual(Mt.min())){const D=t.Ds.getLastRemoteSnapshotVersion(a).next(M=>t.Ds.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(D)}return de.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,v)).next(()=>_)}).then(a=>(t.Li=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Tt(u.ec):r.removedDocuments.size>0&&(Tt(u.ec),u.ec=!1))}),yield wu(t,i,e)}catch(i){yield zd(i)}}),oO.apply(this,arguments)}function fL(n,e,t){const i=ot(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.Ru(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=ot(a);f.onlineState=u;let _=!1;f.queries.forEach((v,D)=>{for(const M of D.listeners)M.Ru(u)&&(_=!0)}),_&&Jx(f)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lH(n,e,t){return aO.apply(this,arguments)}function aO(){return aO=(0,Ee.Z)(function*(n,e,t){const i=ot(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new Ri(tt.comparator);u=u.insert(a,si.newNoDocument(a,Mt.min()));const f=ln().add(a),_=new pb(Mt.min(),new Map,new Nn(tn),u,f);yield hL(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),pO(i)}else yield Hm(i.localStore,e,!1).then(()=>Ym(i,e,t)).catch(zd)}),aO.apply(this,arguments)}function cH(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,Ee.Z)(function*(n,e){const t=ot(n),i=e.batch.batchId;try{const r=yield function Sj(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ki.newChangeBuffer({trackRemovals:!0});return function(u,f,_,v){const D=_.batch,M=D.keys();let B=de.resolve();return M.forEach(j=>{B=B.next(()=>v.getEntry(f,j)).next(K=>{const ne=_.docVersions.get(j);Tt(null!==ne),K.version.compareTo(ne)<0&&(D.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),v.addEntry(K)))})}),B.next(()=>u.mutationQueue.removeMutationBatch(f,D))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=ln();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);hO(t,i,null),dO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield wu(t,r)}catch(r){yield zd(r)}}),lO.apply(this,arguments)}function uH(n,e,t){return cO.apply(this,arguments)}function cO(){return cO=(0,Ee.Z)(function*(n,e,t){const i=ot(n);try{const r=yield function(a,u){const f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return f.mutationQueue.lookupMutationBatch(_,u).next(D=>(Tt(null!==D),v=D.keys(),f.mutationQueue.removeMutationBatch(_,D))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,v,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>f.localDocuments.getDocuments(_,v))})}(i.localStore,e);hO(i,e,t),dO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield wu(i,r)}catch(r){yield zd(r)}}),cO.apply(this,arguments)}function uO(){return uO=(0,Ee.Z)(function*(n,e){const t=ot(n);bu(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=ot(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=qm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),uO.apply(this,arguments)}function dO(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function hO(n,e,t){const i=ot(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function Ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc.wc(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(i=>{n.cc.containsKey(i)||pL(n,i)})}function pL(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Mb(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),pO(n))}function fO(n,e,t){for(const i of t)i instanceof cL?(n.cc.addReference(i.key,e),hH(n,i)):i instanceof uL?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||pL(n,i.key)):pt()}function hH(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.rc.add(i),pO(n))}function pO(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new tt(wn.fromString(e)),i=n.lc.next();n.uc.set(i,new iH(t)),n.oc=n.oc.insert(t,i),ZD(n.remoteStore,new Yd(Ds(km(t.path)),i,2,So.ct))}}function wu(n,e,t){return gO.apply(this,arguments)}function gO(){return gO=(0,Ee.Z)(function*(n,e,t){const i=ot(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const D=vx.Di(_.targetId,v);a.push(D)}}))}),yield Promise.all(u),i.nc.zo(r),yield(f=(0,Ee.Z)(function*(_,v){const D=ot(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>de.forEach(v,B=>de.forEach(B.Vi,j=>D.persistence.referenceDelegate.addReference(M,B.targetId,j)).next(()=>de.forEach(B.Si,j=>D.persistence.referenceDelegate.removeReference(M,B.targetId,j)))))}catch(M){if(!jd(M))throw M;Ve("LocalStore","Failed to update sequence numbers: "+M)}for(const M of v){const B=M.targetId;if(!M.fromCache){const j=D.Li.get(B),ne=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);D.Li=D.Li.insert(B,ne)}}}),function(_,v){return f.apply(this,arguments)})(i.localStore,a))}),gO.apply(this,arguments)}function fH(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,Ee.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const i=yield jF(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new Le(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield wu(t,i.Qi)}var r}),mO.apply(this,arguments)}function pH(n,e){const t=ot(n),i=t.uc.get(e);if(i&&i.ec)return ln().add(i.key);{let r=ln();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function gH(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,Ee.Z)(function*(n,e){const t=ot(n),i=yield zD(t.localStore,e.query,!0),r=e.view.Xu(i);return t.isPrimaryClient&&fO(t,e.targetId,r.Yu),r}),_O.apply(this,arguments)}function mH(n,e){return yO.apply(this,arguments)}function yO(){return yO=(0,Ee.Z)(function*(n,e){const t=ot(n);return ZF(t.localStore,e).then(i=>wu(t,i))}),yO.apply(this,arguments)}function _H(n,e,t,i){return vO.apply(this,arguments)}function vO(){return vO=(0,Ee.Z)(function*(n,e,t,i){const r=ot(n),a=yield function(u,f){const _=ot(u),v=ot(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.In(D,f).next(M=>M?_.localDocuments.getDocuments(D,M):de.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield Gm(r.remoteStore):"acknowledged"===t||"rejected"===t?(hO(r,e,i||null),dO(r,e),f=e,ot(ot(r.localStore).mutationQueue).En(f)):pt(),yield wu(r,a)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),vO.apply(this,arguments)}function bO(){return bO=(0,Ee.Z)(function*(n,e){const t=ot(n);if(DO(t),IO(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield gL(t,i.toArray());t.fc=!0,yield Zx(t.remoteStore,!0);for(const a of r)ZD(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Ym(t,u),Hm(t.localStore,u,!0))),Mb(t.remoteStore,u)}),yield r,yield gL(t,i),function(a){const u=ot(a);u.uc.forEach((f,_)=>{Mb(u.remoteStore,_)}),u.cc.ls(),u.uc=new Map,u.oc=new Ri(tt.comparator)}(t),t.fc=!1,yield Zx(t.remoteStore,!1)}}),bO.apply(this,arguments)}function gL(n,e,t){return wO.apply(this,arguments)}function wO(){return wO=(0,Ee.Z)(function*(n,e,t){const i=ot(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield jm(i.localStore,Ds(_[0]));for(const v of _){const D=i.sc.get(v),M=yield gH(i,D);M.snapshot&&a.push(M.snapshot)}}else{const v=yield GF(i.localStore,u);f=yield jm(i.localStore,v),yield nO(i,mL(v),u,!1,f.resumeToken)}r.push(f)}return i.nc.zo(a),r}),wO.apply(this,arguments)}function mL(n){return T1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vH(n){const e=ot(n);return ot(ot(e.localStore).persistence).bi()}function bH(n,e,t,i){return EO.apply(this,arguments)}function EO(){return EO=(0,Ee.Z)(function*(n,e,t,i){const r=ot(n);if(r.fc)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield ZF(r.localStore,x1(a[0])),f=pb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,lr.EMPTY_BYTE_STRING);yield wu(r,u,f);break}case"rejected":yield Hm(r.localStore,e,!0),Ym(r,e,i);break;default:pt()}}),EO.apply(this,arguments)}function wH(n,e,t){return CO.apply(this,arguments)}function CO(){return CO=(0,Ee.Z)(function*(n,e,t){const i=DO(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const a=yield GF(i.localStore,r),u=yield jm(i.localStore,a);yield nO(i,mL(a),u.targetId,!1,u.resumeToken),ZD(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield Hm(i.localStore,r,!1).then(()=>{Mb(i.remoteStore,r),Ym(i,r)}).catch(zd))}}),CO.apply(this,arguments)}function DO(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lH.bind(null,e),e.nc.zo=Xj.bind(null,e.eventManager),e.nc.wc=Jj.bind(null,e.eventManager),e}function IO(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uH.bind(null,e),e}class WD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.serializer=Tb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return zF(this.persistence,new BF,e.initialUser,this.serializer)}createPersistence(e){return new VF(UD.Fs,this.serializer)}createSharedClientState(e){return new YF}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class SO extends WD{constructor(e,t,i){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.mc.initialize(i,e),yield IO(i.mc.syncEngine),yield Gm(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return zF(this.persistence,new BF,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Z2(t,this.persistence);return new G2(e.asyncQueue,i)}createPersistence(e){const t=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new _x(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,XF(),GD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new YF}}class _L extends SO{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.mc.syncEngine;i.sharedClientState instanceof Tx&&(i.sharedClientState.syncEngine={$r:_H.bind(null,r),Mr:bH.bind(null,r),Fr:wH.bind(null,r),bi:vH.bind(null,r),Or:mH.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var a=(0,Ee.Z)(function*(u){yield function yH(n,e){return bO.apply(this,arguments)}(i.mc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=XF();if(!Tx.D(t))throw new Le(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tx(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Qm{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=fH.bind(null,i.syncEngine),yield Zx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qj}createDatastore(e){const t=Tb(e.databaseInfo.databaseId),i=new Pj(e.databaseInfo);return new Lj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>fL(this.syncEngine,f,0),u=QF.D()?new QF:new Oj,new Bj(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,v){const D=new rH(i,r,a,u,f,_);return v&&(D.fc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=ot(t);Ve("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield $m(i),i._u.shutdown(),i.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yL(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class KD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CH{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new ar,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const i=e.Tc.decode(t),r=Number(i);isNaN(r)&&e.Rc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new eH(JSON.parse(a),t.length+r)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,Ee.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const i=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class DH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(a,u){const f=ot(a),_=_b(f.serializer)+"/documents",v={documents:u.map(j=>mb(f.serializer,j))},D=yield f.fo("BatchGetDocuments",_,v,u.length),M=new Map;D.forEach(j=>{const K=function Gz(n,e){return"found"in e?function(t,i){Tt(!!i.found);const r=Hl(t,i.found.name),a=Bi(i.found.updateTime),u=i.found.createTime?Bi(i.found.createTime):Mt.min(),f=new Er({mapValue:{fields:i.found.fields}});return si.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){Tt(!!i.missing),Tt(!!i.readTime);const r=Hl(t,i.missing),a=Bi(i.readTime);return si.newNoDocument(r,a)}(n,e):pt()}(f.serializer,j);M.set(K.key.toString(),K)});const B=[];return u.forEach(j=>{const K=M.get(j.toString());Tt(!!K),B.push(K)}),B}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=tt.fromPath(r);e.mutations.push(new XM(a,e.precondition(a)))}),yield(i=(0,Ee.Z)(function*(r,a){const u=ot(r),f=_b(u.serializer)+"/documents",_={writes:a.map(v=>yb(u.serializer,v))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Mt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Le(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?pi.exists(!1):pi.updateTime(t):pi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Le(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(t)}return pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IH{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Vc=i.maxAttempts,this.Co=new Mx(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,Ee.Z)(function*(){const t=new DH(e.datastore),i=e.Dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Cc(a)}))}).catch(r=>{e.Cc(r)})}))}Dc(e){try{const t=this.updateFunction(e);return!tb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!W1(t)}return!1}}class SH{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=$N.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ee.Z)(function*(f){Ve("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ve("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=qm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function YD(n,e){return TO.apply(this,arguments)}function TO(){return TO=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(a){i.isEqual(a)||(yield jF(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),TO.apply(this,arguments)}function AO(n,e){return MO.apply(this,arguments)}function MO(){return MO=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield xO(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>sL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>sL(e.remoteStore,a)),n._onlineComponents=e}),MO.apply(this,arguments)}function vL(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function xO(n){return OO.apply(this,arguments)}function OO(){return OO=(0,Ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield YD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!vL(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),yield YD(n,new WD)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield YD(n,new WD);return n._offlineComponents}),OO.apply(this,arguments)}function QD(n){return RO.apply(this,arguments)}function RO(){return RO=(0,Ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield AO(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield AO(n,new Qm))),n._onlineComponents}),RO.apply(this,arguments)}function bL(n){return xO(n).then(e=>e.persistence)}function XD(n){return xO(n).then(e=>e.localStore)}function kO(n){return QD(n).then(e=>e.remoteStore)}function PO(n){return QD(n).then(e=>e.syncEngine)}function Xm(n){return NO.apply(this,arguments)}function NO(){return NO=(0,Ee.Z)(function*(n){const e=yield QD(n),t=e.eventManager;return t.onListen=sH.bind(null,e.syncEngine),t.onUnlisten=oH.bind(null,e.syncEngine),t}),NO.apply(this,arguments)}function EL(n,e,t={}){const i=new ar;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,u,f,_){const v=new KD({next:M=>{a.enqueueAndForget(()=>Qx(r,D));const B=M.docs.has(u);!B&&M.fromCache?_.reject(new Le(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&M.fromCache&&f&&"server"===f.source?_.reject(new Le(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new eO(km(u.path),v,{includeMetadataChanges:!0,xu:!0});return Kx(r,D)}(yield Xm(n),n.asyncQueue,e,t,i)})),i.promise}function CL(n,e,t={}){const i=new ar;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,a,u,f,_){const v=new KD({next:M=>{a.enqueueAndForget(()=>Qx(r,D)),M.fromCache&&"server"===f.source?_.reject(new Le(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new eO(u,v,{includeMetadataChanges:!0,xu:!0});return Kx(r,D)}(yield Xm(n),n.asyncQueue,e,t,i)})),i.promise}const DL=new Map;function FO(n,e,t){if(!t)throw new Le(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IL(n,e,t,i){if(!0===e&&!0===i)throw new Le(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SL(n){if(!tt.isDocumentKey(n))throw new Le(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TL(n){if(tt.isDocumentKey(n))throw new Le(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JD(n);throw new Le(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AL(n,e){if(e<=0)throw new Le(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ML{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,IL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ML({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ML(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new k2;switch(t.type){case"firstParty":return new L2(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DL.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),DL.delete(e),t.terminate())}(this),Promise.resolve()}}class oi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oi(this.firestore,e,this._key)}}class zr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class $l extends zr{constructor(e,t,i){super(e,t,km(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new tt(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function OL(n,e,...t){if(n=(0,In.m9)(n),FO("collection","path",e),n instanceof xb){const i=wn.fromString(e,...t);return TL(i),new $l(n,null,i)}{if(!(n instanceof oi||n instanceof $l))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(e,...t));return TL(i),new $l(n.firestore,null,i)}}function eI(n,e,...t){if(n=(0,In.m9)(n),1===arguments.length&&(e=$N.A()),FO("doc","path",e),n instanceof xb){const i=wn.fromString(e,...t);return SL(i),new oi(n,null,new tt(i))}{if(!(n instanceof oi||n instanceof $l))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(e,...t));return SL(i),new oi(n.firestore,n instanceof $l?n.converter:null,new tt(i))}}function RL(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),(n instanceof oi||n instanceof $l)&&(e instanceof oi||e instanceof $l)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function LO(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),n instanceof zr&&e instanceof zr&&n.firestore===e.firestore&&lb(n._query,e._query)&&n.converter===e.converter}class FH{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Mx(this,"async_queue_retry"),this.qc=()=>{const t=GD();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=GD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=GD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new ar;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!jd(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=Wx.createAndSchedule(this,e,t,i,a=>this.Qc(a));return this.$c.push(r),r}Uc(){this.Mc&&pt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function VO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class LH{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ai extends xb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new FH,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kL(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||kL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kL(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pz(n._databaseId,f,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var f,v;n._firestoreClient=new SH(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function PL(n,e,t){const i=new ar;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield YD(n,t),yield AO(n,e),i.resolve()}catch(r){const a=r;if(!vL(a))throw a;Ul("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function NL(n){if(n._initialized||n._terminated)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gl(lr.fromBase64String(e))}catch(t){throw new Le(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gl(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Eu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sp{constructor(e){this._methodName=e}}class tI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const WH=/^__.*__$/;class KH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fm(e,this.data,t,this.fieldTransforms)}}class FL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class nI{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new nI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return sI(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(LL(this.Yc)&&WH.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class YH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Tb(e)}ua(e,t,i,r=!1){return new nI({Yc:e,methodName:t,oa:i,path:Oi.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(n){const e=n._freezeSettings(),t=Tb(n._databaseId);return new YH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iI(n,e,t,i,r,a={}){const u=n.ua(a.merge||a.mergeFields?2:0,e,t,r);jO("Data must be an object, but it was:",u,i);const f=BL(i,u);let _,v;if(a.merge)_=new qs(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const D=[];for(const M of a.mergeFields){const B=kb(e,M,t);if(!u.contains(B))throw new Le(fe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);jL(D,B)||D.push(B)}_=new qs(D),v=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=u.fieldTransforms;return new KH(new Er(f),_,v)}class Rb extends sp{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rb}}function VL(n,e,t){return new nI({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class UO extends sp{_toFieldTransform(e){return new hb(e.path,new Pm)}isEqual(e){return e instanceof UO}}class QH extends sp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=VL(this,e,!0),i=this.ca.map(a=>ap(a,t)),r=new Yf(i);return new hb(e.path,r)}isEqual(e){return this===e}}class XH extends sp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=VL(this,e,!0),i=this.ca.map(a=>ap(a,t)),r=new Qf(i);return new hb(e.path,r)}isEqual(e){return this===e}}class JH extends sp{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Nm(e.serializer,L1(e.serializer,this.aa));return new hb(e.path,t)}isEqual(e){return this===e}}function BO(n,e,t,i){const r=n.ua(1,e,t);jO("Data must be an object, but it was:",r,i);const a=[],u=Er.empty();$f(i,(_,v)=>{const D=rI(e,_,t);v=(0,In.m9)(v);const M=r.na(D);if(v instanceof Rb)a.push(D);else{const B=ap(v,M);null!=B&&(a.push(D),u.set(D,B))}});const f=new qs(a);return new FL(u,f,r.fieldTransforms)}function zO(n,e,t,i,r,a){const u=n.ua(1,e,t),f=[kb(e,i,t)],_=[r];if(a.length%2!=0)throw new Le(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<a.length;B+=2)f.push(kb(e,a[B])),_.push(a[B+1]);const v=[],D=Er.empty();for(let B=f.length-1;B>=0;--B)if(!jL(v,f[B])){const j=f[B];let K=_[B];K=(0,In.m9)(K);const ne=u.na(j);if(K instanceof Rb)v.push(j);else{const _e=ap(K,ne);null!=_e&&(v.push(j),D.set(j,_e))}}const M=new qs(v);return new FL(D,M,u.fieldTransforms)}function UL(n,e,t,i=!1){return ap(t,n.ua(i?4:3,e))}function ap(n,e){if(zL(n=(0,In.m9)(n)))return jO("Unsupported field value:",e,n),BL(n,e);if(n instanceof sp)return function(t,i){if(!LL(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=ap(u,i.sa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,In.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return L1(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=fi.fromDate(t);return{timestampValue:Vm(i.serializer,r)}}if(t instanceof fi){const r=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vm(i.serializer,r)}}if(t instanceof tI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gl)return{bytesValue:tF(i.serializer,t._byteString)};if(t instanceof oi){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ia(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:rx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${JD(t)}`)}(n,e)}function BL(n,e){const t={};return o1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$f(n,(i,r)=>{const a=ap(r,e.Xc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function zL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fi||n instanceof tI||n instanceof Gl||n instanceof oi||n instanceof sp)}function jO(n,e,t){if(!zL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=JD(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function kb(n,e,t){if((e=(0,In.m9)(e))instanceof Eu)return e._internalPath;if("string"==typeof e)return rI(n,e);throw sI("Field path arguments must be of type string or ",n,!1,void 0,t)}const e$=new RegExp("[~\\*/\\[\\]]");function rI(n,e,t){if(e.search(e$)>=0)throw sI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eu(...e.split("."))._internalPath}catch{throw sI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sI(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Le(fe.INVALID_ARGUMENT,f+n+_)}function jL(n,e){return n.some(t=>t.isEqual(e))}class Pb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new t$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class t$ extends Pb{data(){return super.data()}}function oI(n,e){return"string"==typeof e?rI(n,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}function HL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HO{}class Nb extends HO{}function th(n,e,...t){let i=[];e instanceof HO&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof Jm).length,u=r.filter(f=>f instanceof Fb).length;if(a>1||a>0&&u>0)throw new Le(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Fb extends Nb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fb(e,t,i)}_apply(e){const t=this._parse(e);return qL(e._query,t),new zr(e.firestore,e.converter,YM(e._query,t))}_parse(e){const t=op(e.firestore);return function(r,a,u,f,_,v,D){let M;if(_.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Le(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){ZL(D,v);const B=[];for(const j of D)B.push(GL(f,r,j));M={arrayValue:{values:B}}}else M=GL(f,r,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||ZL(D,v),M=UL(u,"where",D,"in"===v||"not-in"===v);return _n.create(_,v,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Jm extends HO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)qL(a,f),a=YM(a,f)}(e._query,t),new zr(e.firestore,e.converter,YM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $O extends Nb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $O(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Om(r,a);return function(f,_){if(null===WM(f)){const v=CD(f);null!==v&&WL(0,v,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new zr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new yu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class aI extends Nb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new aI(e,t,i)}_apply(e){return new zr(e.firestore,e.converter,DD(e._query,this._limit,this._limitType))}}class lI extends Nb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new lI(e,t,i)}_apply(e){const t=$L(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,(r=t,new yu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class cI extends Nb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new cI(e,t,i)}_apply(e){const t=$L(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,(r=t,new yu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $L(n,e,t,i){if(t[0]=(0,In.m9)(t[0]),t[0]instanceof Pb)return function(r,a,u,f,_){if(!f)throw new Le(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const D of Kf(r))if(D.field.isKeyField())v.push(qf(a,f.key));else{const M=f.data.field(D.field);if(zM(M))throw new Le(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const B=D.field.canonicalString();throw new Le(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}v.push(M)}return new qd(v,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=op(n.firestore);return function(a,u,f,_,v,D){const M=a.explicitOrderBy;if(v.length>M.length)throw new Le(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let j=0;j<v.length;j++){const K=v[j];if(M[j].field.isKeyField()){if("string"!=typeof K)throw new Le(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof K}`);if(!KM(a)&&-1!==K.indexOf("/"))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${K}' contains a slash.`);const ne=a.path.child(wn.fromString(K));if(!tt.isDocumentKey(ne))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const _e=new tt(ne);B.push(qf(u,_e))}else{const ne=UL(f,_,K);B.push(ne)}}return new qd(B,D)}(n._query,n.firestore._databaseId,r,e,t,i)}}function GL(n,e,t){if("string"==typeof(t=(0,In.m9)(t))){if(""===t)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KM(e)&&-1!==t.indexOf("/"))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(wn.fromString(t));if(!tt.isDocumentKey(i))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qf(n,new tt(i))}if(t instanceof oi)return qf(n,t._key);throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${JD(t)}.`)}function ZL(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qL(n,e){if(e.isInequality()){const i=CD(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=WM(n);null!==a&&WL(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Le(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function WL(n,e,t){if(!t.isEqual(e))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class GO{convertValue(e,t="none"){switch(Zf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const i={};return $f(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new tI(ki(e.latitude),ki(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=l1(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ib(e));default:return null}}convertTimestamp(e){const t=Hd(e);return new fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=wn.fromString(e);Tt(dF(i));const r=new $d(i.get(1),i.get(3)),a=new tt(i.popFirst(5));return r.isEqual(t)||Ui(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function uI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class u$ extends GO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,t)}}class lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cu extends Pb{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(oI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lb extends Cu{data(e={}){return super.data(e)}}class nh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Lb(this._firestore,this._userDataWriter,i.key,i,new lp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Lb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Lb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,v=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:h$(u.type),doc:f,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function YL(n,e){return n instanceof Cu&&e instanceof Cu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nh&&e instanceof nh&&n._firestore===e._firestore&&LO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ih extends GO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,t)}}function QL(n,e,t){n=yn(n,oi);const i=yn(n.firestore,ai),r=uI(n.converter,e,t);return e_(i,[iI(op(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,pi.none())])}function XL(n,e,t,...i){n=yn(n,oi);const r=yn(n.firestore,ai),a=op(r);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof Eu?zO(a,"updateDoc",n._key,e,t,i):BO(a,"updateDoc",n._key,e),e_(r,[u.toMutation(n._key,pi.exists(!0))])}function JL(n,...e){var t,i,r;n=(0,In.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||VO(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(VO(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,v,D;if(n instanceof oi)v=yn(n.firestore,ai),D=km(n._key.path),_={next:M=>{e[u]&&e[u](ZO(v,n,M))},error:e[u+1],complete:e[u+2]};else{const M=yn(n,zr);v=yn(M.firestore,ai),D=M._query;const B=new ih(v);_={next:j=>{e[u]&&e[u](new nh(v,B,M,j))},error:e[u+1],complete:e[u+2]},HL(n._query)}return function(M,B,j,K){const ne=new KD(K),_e=new eO(B,ne,j);return M.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Kx(yield Xm(M),_e)})),()=>{ne.yc(),M.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Qx(yield Xm(M),_e)}))}}(zi(v),D,f,_)}function e_(n,e){return function(t,i){const r=new ar;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function aH(n,e,t){return sO.apply(this,arguments)}(yield PO(t),i,r)})),r.promise}(zi(n),e)}function ZO(n,e,t){const i=t.docs.get(e._key),r=new ih(n);return new Cu(n,r,e._key,i,new lp(t.hasPendingWrites,t.fromCache),e.converter)}const A$={maxAttempts:5};class eV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=op(e)}set(e,t,i){this._verifyNotCommitted();const r=rh(e,this._firestore),a=uI(r.converter,t,i),u=iI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,pi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=rh(e,this._firestore);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof Eu?zO(this._dataReader,"WriteBatch.update",a._key,t,i,r):BO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rh(e,this._firestore);return this._mutations=this._mutations.concat(new Lm(t._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rh(n,e){if((n=(0,In.m9)(n)).firestore!==e)throw new Le(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class M$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=op(e)}get(e){const t=rh(e,this._firestore),i=new u$(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return pt();const a=r[0];if(a.isFoundDocument())return new Pb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Pb(this._firestore,i,t._key,null,t.converter);throw pt()})}set(e,t,i){const r=rh(e,this._firestore),a=uI(r.converter,t,i),u=iI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=rh(e,this._firestore);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof Eu?zO(this._dataReader,"Transaction.update",a._key,t,i,r):BO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rh(e,this._firestore),i=new ih(this._firestore);return super.get(e).then(r=>new Cu(this._firestore,i,t._key,r._document,new lp(!1,!1),t.converter))}}!function(n,e=!0){Tm=Lf.SDK_VERSION,(0,Lf._registerComponent)(new BC.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ai(new N2(t.getProvider("auth-internal")),new V2(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Le(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Lf.registerVersion)(zN,"3.10.0",n),(0,Lf.registerVersion)(zN,"3.10.0","esm2017")}();const F$=["otpInputElement"];function L$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2)(1,"label")(2,"input",3,4),c.NdJ("keyup",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.handleKeyUp(u,r.key))})("keyup.backspace",function(){const a=c.CHM(t).index,u=c.oxw();return c.KtG(u.handleDelete(a))})("keyup.arrowLeft",function(){const a=c.CHM(t).index,u=c.oxw();return c.KtG(u.stepBackward(a))})("keyup.arrowRight",function(){const a=c.CHM(t).index,u=c.oxw();return c.KtG(u.stepForward(a))})("focus",function(){const a=c.CHM(t).index,u=c.oxw();return c.KtG(u.handleFocus(a))}),c.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",null==r.otpConfig.classList?null:r.otpConfig.classList.inputBox),c.xp6(1),c.uIk("aria-label",r.ariaLabels[i]),c.xp6(1),c.Q6J("id","ngx-otp-input-"+i)("formControl",t)("ngxOtpPattern",r.otpConfig.pattern)("type",r.otpConfig.isPasswordInput?"password":"text")("ngClass",(null==r.styles?null:r.styles.length)>0?r.styles[i]:null)}}var cp=(()=>(function(n){n[n.DEFAULT=0]="DEFAULT",n[n.LEGACY=1]="LEGACY"}(cp||(cp={})),cp))();let nV=(()=>{class n{init2DArray(t){return new Array(t).fill(new Array)}toArray(t){return Array.isArray(t)?t:[t]}addItemToAll(t,i){if(t?.length>0)return t.map(r=>r.concat(i))}removeItemFromAll(t,i){if(t?.length>0)return t.map(r=>r.filter(a=>!i.includes(a)))}addItemAtIndex(t,i,r){if(t?.length>0)return t[i]=t[i].concat(r),t}removeItemAtIndex(t,i,r){if(t?.length>0)return t[i]=t[i].filter(a=>!r.includes(a)),t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),V$=(()=>{class n{constructor(){this.allowedKeys=["Backspace","ArrowLeft","ArrowRight","Escape","Tab"]}onKeyDown(t){this.allowedKeys.includes(t.key)||"KeyA"===t.code&&!0===t.ctrlKey||"KeyC"===t.code&&!0===t.ctrlKey||"KeyV"===t.code&&!0===t.ctrlKey||"KeyX"===t.code&&!0===t.ctrlKey||"KeyA"===t.code&&!0===t.metaKey||"KeyC"===t.code&&!0===t.metaKey||"KeyV"===t.code&&!0===t.metaKey||"KeyX"===t.code&&!0===t.metaKey||this.pattern.test(t.key)||t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngxOtpPattern",""]],hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(a){return i.onKeyDown(a)})},inputs:{pattern:["ngxOtpPattern","pattern"]}}),n})(),U$=(()=>{class n{constructor(t,i){this.ngxOtpInputService=t,this.ref=i,this.ngxOtpArray=new bC([]),this.ariaLabels=[],this.styles=[],this.otpConfig={otpLength:6,autofocus:!0,autoblur:!0,behavior:cp.DEFAULT},this.defaultPattern=/^\d+$/,this.DEFAULT_ARIA_LABEL="One time password input",this.isNgxOtpArrayDisabled=!1,this.focusedInputHasValue=!1,this.otpChange=new c.vpe,this.fill=new c.vpe}onPaste(t){t.preventDefault(),this.handlePaste(t.clipboardData.getData("text"))}set disable(t){this.handleDisable(t),this.isNgxOtpArrayDisabled=t}set config(t){this.otpConfig={...this.otpConfig,...t},this.otpConfig.classList?.input&&this.setInitialStyles(),t.pattern||(this.otpConfig.pattern=this.defaultPattern)}set status(t){this.handleStatusChange(t)}ngOnInit(){this.setUpOtpForm(),this.setUpAriaLabels(),this.LAST_INPUT_INDEX=this.otpConfig.otpLength-1,this.otpFormChangeListener()}ngAfterViewInit(){this.setNativeHTMLElements(),this.setInitialFocus(),this.setNumericInputIfPossible(),this.handleDisable(this.isNgxOtpArrayDisabled)}ngOnDestroy(){this.ngxOtpArray$.unsubscribe()}clear(){this.removeStyleFromAll(this.otpConfig.classList?.inputFilled),this.ngxOtpArray.reset(),this.ref.detectChanges(),this.otpConfig.autofocus&&this.setFocus(0)}handleKeyUp(t,i){this.otpConfig.pattern.test(i)&&"Backspace"!==i&&(this.addStyle(t,this.otpConfig.classList?.inputFilled),this.ngxOtpArray.valid?this.blur():(this.getFormControlByIndex(t).setValue(i),this.stepForward(t)))}handleDelete(t){this.removeStyle(t,this.otpConfig.classList?.inputFilled),this.otpConfig.behavior===cp.LEGACY&&!this.focusedInputHasValue||this.otpConfig.behavior!==cp.LEGACY?this.stepBackward(t):this.focusedInputHasValue=!1}handleFocus(t){this.focusedInputHasValue=!!this.ngxOtpArray.controls[t].value,this.otpConfig.behavior===cp.LEGACY&&this.focusedInputHasValue&&this.inputs[t].select()}stepBackward(t){t>0&&this.setFocus(t-1)}stepForward(t){t<this.LAST_INPUT_INDEX&&this.setFocus(t+1)}otpFormChangeListener(){this.ngxOtpArray$=this.ngxOtpArray.valueChanges.subscribe(t=>{this.otpChange.emit(t),this.ngxOtpArray.valid&&this.fill.emit(t.join(""))})}setUpOtpForm(){for(let t=0;t<this.otpConfig.otpLength;t++)this.ngxOtpArray.push(new eC(null,[Id.required]))}setUpAriaLabels(){const t=this.otpConfig.ariaLabels;this.ariaLabels=Array.isArray(t)?t:new Array(this.otpConfig.otpLength).fill(t||this.DEFAULT_ARIA_LABEL)}setNativeHTMLElements(){this.inputs=this.otpInputElements.map(t=>t.nativeElement)}setInitialFocus(){this.otpConfig.autofocus&&this.setFocus(0)}setInitialStyles(){this.styles=this.ngxOtpInputService.init2DArray(this.otpConfig.otpLength),this.addStyleToAll(this.otpConfig.classList.input)}setFocus(t){this.inputs[t].focus()}setNumericInputIfPossible(){this.otpConfig.numericInputMode&&(this.otpConfig.pattern=this.defaultPattern,this.inputs.map(t=>{t.setAttribute("inputmode","numeric"),t.setAttribute("pattern","[0-9]*")}))}blur(){this.otpConfig.autoblur&&this.inputs.map(t=>t.blur())}handlePaste(t){if(this.otpConfig.pattern.test(t)){let i=0;t.split("").slice(0,this.otpConfig.otpLength).map((r,a)=>{this.addStyle(a,this.otpConfig.classList?.inputFilled),this.getFormControlByIndex(a).setValue(r),i=a}),this.ngxOtpArray.valid?this.blur():this.setFocus(i+1)}}handleDisable(t){t?(this.ngxOtpArray.disable(),this.addStyleToAll(this.otpConfig.classList?.inputDisabled)):(this.ngxOtpArray.enable(),this.removeStyleFromAll(this.otpConfig.classList?.inputDisabled))}handleStatusChange(t){this.removeStyleFromAll([...this.ngxOtpInputService.toArray(this.otpConfig.classList?.inputSuccess),...this.ngxOtpInputService.toArray(this.otpConfig.classList?.inputError)]),t&&("success"===t?this.addStyleToAll(this.otpConfig.classList?.inputSuccess):"error"===t&&this.addStyleToAll(this.otpConfig.classList?.inputError))}getFormControlByIndex(t){return this.ngxOtpArray.controls[t]}addStyle(t,i){this.styles=this.ngxOtpInputService.addItemAtIndex(this.styles,t,this.ngxOtpInputService.toArray(i))}addStyleToAll(t){this.styles=this.ngxOtpInputService.addItemToAll(this.styles,this.ngxOtpInputService.toArray(t))}removeStyle(t,i){this.styles=this.ngxOtpInputService.removeItemAtIndex(this.styles,t,this.ngxOtpInputService.toArray(i))}removeStyleFromAll(t){this.styles=this.ngxOtpInputService.removeItemFromAll(this.styles,this.ngxOtpInputService.toArray(t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nV),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngx-otp-input"]],viewQuery:function(t,i){if(1&t&&c.Gf(F$,5),2&t){let r;c.iGM(r=c.CRH())&&(i.otpInputElements=r)}},hostBindings:function(t,i){1&t&&c.NdJ("paste",function(a){return i.onPaste(a)})},inputs:{disable:"disable",config:"config",status:"status"},outputs:{otpChange:"otpChange",fill:"fill"},decls:2,vars:2,consts:[[1,"ngx-otp-input-container",3,"ngClass"],["class","ngx-otp-input-box",3,"ngClass",4,"ngFor","ngForOf"],[1,"ngx-otp-input-box",3,"ngClass"],["maxlength","1","autocapitalize","off","spellcheck","false",1,"ngx-otp-input",3,"id","formControl","ngxOtpPattern","type","ngClass","keyup","keyup.backspace","keyup.arrowLeft","keyup.arrowRight","focus"],["otpInputElement",""]],template:function(t,i){1&t&&(c.TgZ(0,"form",0),c.YNc(1,L$,4,7,"div",1),c.qZA()),2&t&&(c.Q6J("ngClass",null==i.otpConfig.classList?null:i.otpConfig.classList.container),c.xp6(1),c.Q6J("ngForOf",i.ngxOtpArray.controls))},dependencies:[Df,Dd,nm,Hy,vC,Rd,Ef,Je,qn,V$],styles:[".ngx-otp-input-container[_ngcontent-%COMP%]{display:flex}.ngx-otp-input-box[_ngcontent-%COMP%]{margin:0 5px}.ngx-otp-input-box[_ngcontent-%COMP%]:first-child{margin-left:0}.ngx-otp-input-box[_ngcontent-%COMP%]:last-child{margin-right:0}.ngx-otp-input[_ngcontent-%COMP%]{width:35px;height:35px;text-align:center;font-size:1.25rem;border:1px solid #212121;border-radius:4px;outline:0}.ngx-otp-input-disabled[_ngcontent-%COMP%]{opacity:.3}"],changeDetection:0}),n})(),B$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[nV],imports:[EC,wC,Oo]}),n})();function z$(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"ngx-otp-input",2),c.NdJ("otpChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.onOtpChange(r))}),c.qZA(),c.TgZ(2,"div",3)(3,"button",4),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.handleClick())}),c._uU(4,"Verify OTP"),c.qZA()(),c.BQk()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("config",t.otpInputConfig)}}function j$(n,e){1&n&&(c.ynx(0),c.TgZ(1,"h3"),c._uU(2,"Phone Number Verified"),c.qZA(),c.TgZ(3,"button",5),c._uU(4,"Close"),c.qZA(),c.BQk())}var H$={apiKey:"AIzaSyAAWTVKhSzraA-9vaYlvkyGWeyvdGdLHZk",authDomain:"loadgo-a65ee.firebaseapp.com",projectId:"loadgo-a65ee",storageBucket:"loadgo-a65ee.appspot.com",messagingSenderId:"649379582931",appId:"1:649379582931:web:ee48f1052913ae19761526"};let $$=(()=>{class n{constructor(t){this.router=t,this.resendOTP=new c.vpe,this.toggle=!1,this.otpInputConfig={otpLength:6,numericInputMode:!0,autofocus:!0,isPasswordInput:!1,classList:{input:"inputStyles",inputFilled:"",inputDisabled:"",inputSuccess:"",inputError:""}}}ngOnInit(){pu.Z.initializeApp(H$),this.verify=JSON.parse(localStorage.getItem("verificationId")||"{}"),console.log(this.verify)}onOtpChange(t){this.otp=t,this.otp=this.otp.toString().replace(/,/g,""),console.log(this.otp)}handleClick(){var t=pu.Z.auth.PhoneAuthProvider.credential(this.verify,this.otp);pu.Z.auth().signInWithCredential(t).then(i=>{console.log(i),localStorage.setItem("user_data",JSON.stringify(i)),this.toggle=!0}).catch(i=>{alert(i.message)})}onResendOTPClicked(t){this.resendOTP.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-authentication"]],outputs:{resendOTP:"resendOTP"},decls:3,vars:2,consts:[[1,"otp"],[4,"ngIf"],[3,"config","otpChange"],[1,"mt-4"],[1,"btn","btn-success",3,"click"],["mat-dialog-close","",1,"btn","btn-success","mt-4"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c.YNc(1,z$,5,1,"ng-container",1),c.YNc(2,j$,5,0,"ng-container",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",!i.toggle),c.xp6(1),c.Q6J("ngIf",i.toggle))},dependencies:[Gr,U$,IB],styles:[".inputStyles[_ngcontent-%COMP%]{width:100%;height:100%}.otp[_ngcontent-%COMP%]{margin:0 auto;padding:2em;position:relative;z-index:100}@media (min-width: 360px) and (max-width: 610px){.otp[_ngcontent-%COMP%]{padding:0}}"]}),n})();function G$(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",3),c._UZ(2,"input",4),c.TgZ(3,"input",5),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.phoneNumber=r)}),c.qZA()(),c.TgZ(4,"button",6),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.getOTP())}),c._uU(5,"Get OTP"),c.qZA(),c._UZ(6,"div",7),c.BQk()}if(2&n){const t=c.oxw();c.xp6(3),c.Q6J("ngModel",t.phoneNumber)}}function Z$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-authentication",8),c.NdJ("resendOTP",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.resendOTP())}),c.qZA()}}var q$={apiKey:"AIzaSyAAWTVKhSzraA-9vaYlvkyGWeyvdGdLHZk",authDomain:"loadgo-a65ee.firebaseapp.com",projectId:"loadgo-a65ee",storageBucket:"loadgo-a65ee.appspot.com",messagingSenderId:"649379582931",appId:"1:649379582931:web:ee48f1052913ae19761526"};let W$=(()=>{class n{constructor(t){this.router=t,this.toggle=!0,this.phone="+91"}ngOnInit(){pu.Z.initializeApp(q$),this.windowRef=window}getOTP(){this.windowRef.recaptchaVerifier=new pu.Z.auth.RecaptchaVerifier("sign-in-button",{size:"invisible"}),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t}),this.reCaptchaVerifier=this.windowRef.recaptchaVerifier,this.phone=this.phone+this.phoneNumber,pu.Z.auth().signInWithPhoneNumber(this.phone,this.reCaptchaVerifier).then(t=>{this.windowRef.confirmationResult=t,localStorage.setItem("verificationId",JSON.stringify(t.verificationId)),this.toggle=!1}).catch(t=>{alert(t.message),setTimeout(()=>{window.location.reload()},5e3)})}resendOTP(){pu.Z.auth().signInWithPhoneNumber(this.phoneNumber,this.reCaptchaVerifier).then(t=>{this.windowRef.confirmationResult=t,localStorage.setItem("verificationId",JSON.stringify(t.verificationId))}).catch(t=>{console.log("error=>>",t),grecaptcha.reset(this.windowRef.recaptchaWidgetId)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:5,vars:2,consts:[[1,"container","verification-container"],[4,"ngIf"],[3,"resendOTP",4,"ngIf"],[1,"form-group","phone-number"],["type","text","value","+91","disabled","",1,"form-control","country-code"],["type","text","name","phoneNumber","min","10","max","15","placeholder","Enter Phone Number",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success","mt-4","signup",3,"click"],["id","sign-in-button"],[3,"resendOTP"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"h2"),c._uU(2,"Phone Number Verification"),c.qZA(),c.YNc(3,G$,7,1,"ng-container",1),c.YNc(4,Z$,1,0,"app-authentication",2),c.qZA()),2&t&&(c.xp6(3),c.Q6J("ngIf",i.toggle),c.xp6(1),c.Q6J("ngIf",!i.toggle))},dependencies:[Gr,Dd,nm,dm,$$],styles:[".card[_ngcontent-%COMP%]{border:none;padding:20px;background-color:#1c1e21;color:#fff}.contain[_ngcontent-%COMP%]{margin:10rem 0 3rem}.form-input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;margin-top:10px}.form-control[_ngcontent-%COMP%]{height:50px;background-color:#dfe7f3;text-indent:24px;font-size:15px}.form-control[_ngcontent-%COMP%]:focus{background-color:#25272a;box-shadow:none;color:#fff;border-color:#4f63e7}.signup[_ngcontent-%COMP%]{height:50px;font-size:14px}.verification-container[_ngcontent-%COMP%]{padding:2em}.phone-number[_ngcontent-%COMP%]{display:flex}.phone-number[_ngcontent-%COMP%]   .country-code[_ngcontent-%COMP%]{padding:0;width:48px;cursor:not-allowed;text-indent:10px;margin-right:15px}"]}),n})();const K$=["pickUpField"],Y$=["dropOffField"],Q$=["firstName"],X$=["lastName"],J$=function(n){return{opacity:n}};function eG(n,e){if(1&n&&(c.TgZ(0,"div",92)(1,"div",93)(2,"div",94)(3,"div",95)(4,"div",96)(5,"span",97),c._uU(6),c.qZA(),c.TgZ(7,"p",98)(8,"span"),c._uU(9,"From"),c.qZA(),c.TgZ(10,"span"),c._uU(11,"/Day"),c.qZA()()()()(),c.TgZ(12,"div",99)(13,"h2",100)(14,"a",87),c._uU(15),c.qZA()(),c.TgZ(16,"span"),c._uU(17),c.qZA(),c.TgZ(18,"p",101)(19,"a",102),c._uU(20,"Book now"),c.qZA(),c.TgZ(21,"a",103),c._uU(22,"Details"),c.qZA()()()()()),2&n){const t=e.$implicit;c.xp6(2),c.Q6J("ngStyle",c.VKq(7,J$,t.inService?"1":"0.5")),c.xp6(1),c.Jzz("background-image: url(",t.image,");"),c.xp6(3),c.Oqu(t.dailyWages),c.xp6(9),c.Oqu(t.vehicleName),c.xp6(2),c.Oqu(t.vehicleBrand)}}const iV=function(n){return{display:n}},tG=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class n{getToggleOTP(t){this.toggleOTP=t}constructor(t,i,r){let a;this.formBuilder=t,this.activatedRoute=i,this.dialog=r,this.toggleForm=!1,this.year=(new Date).getFullYear(),this.toggleOTP=!1,this.disable=!0,this.vehicles=[{id:1,image:"../../../assets/images/tataAce.jpg",vehicleName:"TATA Ace",vehicleBrand:"TATA Motors",dailyWages:25,inService:!0},{id:2,image:"../../../assets/images/mahindraBolero.jpeg",vehicleName:"Bolero",vehicleBrand:"Mahindra",dailyWages:25,inService:!0},{id:3,image:"../../../assets/images/vehicles/bike2.jpg",vehicleName:"Coming Soon",vehicleBrand:".....",dailyWages:25,inService:!1}],this.distanceService=new google.maps.DistanceMatrixService,this.directionsService=new google.maps.DirectionsService,this.toggle=!1;const u=localStorage.getItem("userData");null!==u&&(a=JSON.parse(u),console.log(a)),this.form=this.formBuilder.group({pickUp:[a?a.pickup:"",Id.required],dropOff:[a?a.dropOff:"",Id.required],firstName:[a?a.firstName:"",Id.required],LastName:[a?a.lastName:"",Id.required]})}get gf(){return this.form.controls}ngOnChanges(t){}ngOnInit(){this.activatedRoute.fragment.subscribe(t=>{console.log(t),this.jumpTo(t)})}jumpTo(t){document.getElementById(t)?.scrollIntoView({behavior:"smooth"})}ngAfterViewInit(){console.log("controls ",this.form.controls),console.log("value ",this.form.value),this.pickUp=new google.maps.places.Autocomplete(this.pickUpField.nativeElement).setComponentRestrictions({country:"IN"}),this.dropOff=new google.maps.places.Autocomplete(this.dropOffField.nativeElement).setComponentRestrictions({country:"IN"})}onSubmit(){console.log("controls ",this.form.controls),console.log("value ",this.form.value)}getDistance(){localStorage.setItem("userData",JSON.stringify({pickup:this.pickUpField.nativeElement.value,dropOff:this.dropOffField.nativeElement.value,firstName:this.firstName.nativeElement.value,lastName:this.lastName.nativeElement.value})),this.openDialog(),this.form.patchValue({pickUp:this.pickUpField.nativeElement.value}),this.form.patchValue({dropOff:this.dropOffField.nativeElement.value}),this.distanceService.getDistanceMatrix({origins:[this.pickUpField.nativeElement.value],destinations:[this.dropOffField.nativeElement.value],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC},(u,f)=>{f===google.maps.DistanceMatrixStatus.OK?(this.distance=u?.rows[0].elements[0].distance.value,this.distance&&(this.distance=this.distance/1e3,this.calculateFare()),console.log(`Distance between pickup and dropoff is ${this.distance} KM.`)):console.error(`Distance Matrix request failed: ${f}`)});let a={origin:this.pickUpField.nativeElement.value,destination:this.dropOffField.nativeElement.value,travelMode:google.maps.TravelMode.DRIVING};this.directionsService.route(a,(u,f)=>{if("OK"===f){const _=u?.routes[0]?.legs[0]?.duration?.value;_&&(this.durationInMinutes=Math.round(_/60),console.log("Duration:",this.durationInMinutes,"minutes"))}else console.error("Directions request failed due to "+f)})}calculateFare(){let u,r=this.durationInMinutes;return u=r/60>2?2*(r-120)/60:0,this.total_price=250+60*this.distance+u,this.total_price}goBack(){console.log("value ",this.form.controls),this.toggleForm=!this.toggleForm}toggleMenu(){this.toggle=!this.toggle}openDialog(){this.dialog.open(W$,{width:"30%",minWidth:"320px",panelClass:"verification-dialog",disableClose:!0}).afterClosed().subscribe(i=>{console.log("The dialog was closed",i),this.toggleForm=!0})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hv),c.Y36(zc),c.Y36(qA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&(c.Gf(K$,5),c.Gf(Y$,5),c.Gf(Q$,5),c.Gf(X$,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.pickUpField=r.first),c.iGM(r=c.CRH())&&(i.dropOffField=r.first),c.iGM(r=c.CRH())&&(i.firstName=r.first),c.iGM(r=c.CRH())&&(i.lastName=r.first)}},features:[c.TTD],decls:206,vars:16,consts:[["id","ftco-navbar",1,"navbar","navbar-expand-lg","navbar-dark","ftco_navbar","bg-dark","ftco-navbar-light"],[1,"container"],["href","index.html",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#ftco-nav","aria-controls","ftco-nav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"oi","oi-menu"],["id","ftco-nav",1,"navbar-collapse","collapse",3,"ngClass"],[1,"navbar-nav","ml-auto"],[1,"nav-item","active"],["routerLink","","fragment","Home",1,"nav-link"],[1,"nav-item"],["routerLink","","fragment","AboutUs",1,"nav-link"],["routerLink","","fragment","Services",1,"nav-link"],["routerLink","","fragment","ContactUs",1,"nav-link"],["id","Home","data-stellar-background-ratio","0.5",1,"hero-wrap","hero-container"],[1,"overlay"],[1,"row","no-gutters","slider-text","justify-content-end","align-items-center"],[1,"col-lg-4","col-md-6","mt-0","mt-md-5","d-flex"],[3,"ngStyle"],[1,"request-form","ftco-animate",3,"formGroup"],[1,"form-group"],["for","",1,"label"],["type","text","formControlName","pickUp","placeholder","City, Airport, Station, etc",1,"form-control"],["pickUpField",""],["type","text","formControlName","dropOff","placeholder","City, Airport, Station, etc",1,"form-control"],["dropOffField",""],[1,"d-flex"],[1,"form-group","mr-2"],["type","text","id","firstName","formControlName","firstName","placeholder","First Name",1,"form-control"],["firstName",""],[1,"form-group","ml-2"],["type","text","id","LastName","formControlName","LastName","placeholder","Last Name",1,"form-control"],["lastName",""],["id","calendar",1,"btn","btn-primary","py-3","px-4",3,"disabled","click"],[2,"width","400px",3,"ngStyle"],[1,"request-form","ftco-animate","estimate-form",2,"height","517px",3,"formGroup"],["for","pickUp",1,"label"],["id","pickUp","type","text","disabled","",1,"form-control",3,"value"],["for","dropOff",1,"label"],["id","dropOff","type","text","disabled","",1,"form-control",3,"value"],["for","vehicle",1,"label"],["id","vehicle","type","text","disabled","","value","TATA Ace",1,"form-control"],["for","distance",1,"label"],["id","distance","type","text","disabled","",1,"form-control",3,"value"],[1,"form-group","back-button"],["id","calendar",1,"btn","btn-primary","py-3","px-4",3,"click"],["id","Services",1,"mb-5","mt-5"],[1,"container-fluid","px-4"],[1,"row","justify-content-center"],[1,"col-md-12","heading-section","text-center","ftco-animate","mb-5"],[1,"mb-2"],[1,"row",2,"justify-content","space-evenly"],["class","col-md-3 vehicle-section",4,"ngFor","ngForOf"],[1,"ftco-section","services-section","img",2,"background-image","url(../../../assets/images/logistics/logistic2.png)","background-size","contain"],[1,"row","justify-content-center","mb-5"],[1,"col-md-7","text-center","heading-section","heading-section-white","ftco-animate"],[1,"mb-3","header"],[1,"row"],[1,"col-md-3","d-flex","align-self-stretch","ftco-animate"],[1,"media","block-6","services","services-2"],[1,"media-body","py-md-4","text-center"],[1,"icon","d-flex","align-items-center","justify-content-center"],["width","50px","src","../../../assets/images/icons/bestprice.png"],[2,"color","#fff"],["width","50px","src","../../../assets/images/icons/cancellation.png"],["width","50px","src","../../../assets/images/icons/ratedpartners.png"],["width","50px","src","../../../assets/images/icons/movemanager.png"],["id","AboutUs",1,"ftco-section","ftco-no-pt","ftco-no-pb"],[1,"row","no-gutters"],[1,"col-md-6","p-md-5","img","img-2","d-flex","justify-content-center","align-items-center",2,"background-image","url(../../../assets/images/logistics4.jpg)","background-size","contain"],[1,"col-md-6","wrap-about","py-md-5","ftco-animate"],[1,"heading-section","mb-5","pl-md-5"],[1,"mb-4"],["href","#",1,"btn","btn-primary"],["id","ContactUs",1,"ftco-footer","ftco-bg-dark","ftco-section"],[1,"row","mb-5"],[1,"col-md"],[1,"ftco-footer-widget","mb-4"],[1,"ftco-heading-2"],[1,"ftco-footer-widget","mb-4","ml-md-5"],[1,"list-unstyled"],["routerLink","","fragment","AboutUs",1,"py-2","d-block"],["routerLink","","fragment","Services",1,"py-2","d-block"],["routerLink","/terms-conditions",1,"py-2","d-block"],["routerLink","/privacy-policy",1,"py-2","d-block"],[1,"block-23","mb-3"],[1,"icon","icon-map-marker"],[1,"text"],["href","#"],[1,"icon","icon-phone"],[1,"icon","icon-envelope"],[1,"col-md-12","text-center"],["href","/","target",""],[1,"col-md-3","vehicle-section"],[1,"car-wrap","ftco-animate","vehicle-wrapper"],[1,"inService",3,"ngStyle"],[1,"img","d-flex","align-items-end","vehicle-img"],[1,"price-wrap","d-flex"],[1,"rate"],[1,"from-day"],[1,"text","p-4","text-center"],[1,"mb-0"],[1,"d-flex","mb-0","d-block"],["href","#",1,"btn","btn-black","btn-outline-black","mr-1"],["href","#",1,"btn","btn-black","btn-outline-black","ml-1"]],template:function(t,i){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),c._uU(3,"Load"),c.TgZ(4,"span"),c._uU(5,"Go"),c.qZA()(),c.TgZ(6,"button",3),c.NdJ("click",function(){return i.toggleMenu()}),c._UZ(7,"span",4),c._uU(8," Menu "),c.qZA(),c.TgZ(9,"div",5)(10,"ul",6)(11,"li",7)(12,"a",8),c._uU(13,"Home"),c.qZA()(),c.TgZ(14,"li",9)(15,"a",10),c._uU(16,"About"),c.qZA()(),c.TgZ(17,"li",9)(18,"a",11),c._uU(19,"Services"),c.qZA()(),c.TgZ(20,"li",9)(21,"a",12),c._uU(22,"Contact Us"),c.qZA()()()()()(),c.TgZ(23,"div",13),c._UZ(24,"div",14),c.TgZ(25,"div",1)(26,"div",15)(27,"div",16)(28,"div",17)(29,"form",18)(30,"h2"),c._uU(31,"Get Estimate Value"),c.qZA(),c.TgZ(32,"div",19)(33,"label",20),c._uU(34,"Pick-up location"),c.qZA(),c._UZ(35,"input",21,22),c.qZA(),c.TgZ(37,"div",19)(38,"label",20),c._uU(39,"Drop-off location"),c.qZA(),c._UZ(40,"input",23,24),c.qZA(),c.TgZ(42,"div",25)(43,"div",26)(44,"label",20),c._uU(45,"First Name"),c.qZA(),c._UZ(46,"input",27,28),c.qZA(),c.TgZ(48,"div",29)(49,"label",20),c._uU(50,"Last Name"),c.qZA(),c._UZ(51,"input",30,31),c.qZA()(),c.TgZ(53,"div",19)(54,"button",32),c.NdJ("click",function(){return i.getDistance()}),c._uU(55,"Get Estimate Value"),c.qZA()()()(),c.TgZ(56,"div",33)(57,"form",34)(58,"h2"),c._uU(59,"Your Estimate"),c.qZA(),c.TgZ(60,"div")(61,"div",19)(62,"label",35),c._uU(63,"PickUp:"),c.qZA(),c._UZ(64,"input",36),c.qZA(),c.TgZ(65,"div",19)(66,"label",37),c._uU(67,"Drop:"),c.qZA(),c._UZ(68,"input",38),c.qZA(),c.TgZ(69,"div",19)(70,"label",39),c._uU(71,"Vehicle:"),c.qZA(),c._UZ(72,"input",40),c.qZA(),c.TgZ(73,"div",25)(74,"div",26)(75,"label",41),c._uU(76,"Distance:"),c.qZA(),c._UZ(77,"input",42),c.qZA(),c.TgZ(78,"div",29)(79,"label",37),c._uU(80,"Price:"),c.qZA(),c._UZ(81,"input",38),c.qZA()()(),c.TgZ(82,"div",43)(83,"button",44),c.NdJ("click",function(){return i.goBack()}),c._uU(84,"Go Back"),c.qZA()()()()()()()(),c.TgZ(85,"section",45)(86,"div",46)(87,"div",47)(88,"div",48)(89,"h2",49),c._uU(90,"Our Services"),c.qZA()()(),c.TgZ(91,"div",50),c.YNc(92,eG,23,9,"div",51),c.qZA()()(),c.TgZ(93,"section",52),c._UZ(94,"div",14),c.TgZ(95,"div",1)(96,"div",53)(97,"div",54)(98,"h2",55),c._uU(99,"Why Choose LoadGo"),c.qZA()()(),c.TgZ(100,"div",56)(101,"div",57)(102,"div",58)(103,"div",59)(104,"div",60),c._UZ(105,"img",61),c.qZA(),c.TgZ(106,"h3"),c._uU(107,"Lowest Price Guarantee"),c.qZA(),c.TgZ(108,"h4",62),c._uU(109,"100% price match and quality service guarantee"),c.qZA()()()(),c.TgZ(110,"div",57)(111,"div",58)(112,"div",59)(113,"div",60),c._UZ(114,"img",63),c.qZA(),c.TgZ(115,"h3"),c._uU(116,"Free Cancellation & Reschedule"),c.qZA(),c.TgZ(117,"h4",62),c._uU(118,"Book now, cancel or change anytime later"),c.qZA()()()(),c.TgZ(119,"div",57)(120,"div",58)(121,"div",59)(122,"div",60),c._UZ(123,"img",64),c.qZA(),c.TgZ(124,"h3"),c._uU(125,"Professional Quality Service Assurance"),c.qZA(),c.TgZ(126,"h4",62),c._uU(127,"Don't risk your precious inventory with unprofessional/untrained service, go for professional quality service."),c.qZA()()()(),c.TgZ(128,"div",57)(129,"div",58)(130,"div",59)(131,"div",60),c._UZ(132,"img",65),c.qZA(),c.TgZ(133,"h3"),c._uU(134,"Dedicated Move Manager"),c.qZA(),c.TgZ(135,"h4",62),c._uU(136,"Be tension free and let the move manager take care"),c.qZA()()()()()()(),c.TgZ(137,"section",66)(138,"div",1)(139,"div",67),c._UZ(140,"div",68),c.TgZ(141,"div",69)(142,"div",70)(143,"h2",71),c._uU(144,"About Us"),c.qZA(),c.TgZ(145,"p"),c._uU(146,"Our team of experienced logistics professionals provides customized solutions that meet the unique needs of our clients in the transport logistics industry. Using a customer-centric approach, we design logistics strategies that optimize supply chains, reduce costs, and improve delivery times."),c.qZA(),c.TgZ(147,"p"),c._uU(148,"Leveraging cutting-edge technology, we provide complete visibility into the transportation process, including real-time tracking of shipments and proactive identification of potential bottlenecks. We are committed to sustainability and work to minimize our carbon footprint by optimizing routing and transportation modes, and partnering with environmentally-conscious suppliers and carriers."),c.qZA(),c.TgZ(149,"p"),c._uU(150,"At the heart of our business is a dedication to exceptional customer service. We understand that logistics can be complex and challenging, and our team is always available to provide support and guidance at every stage of the process. Whether you are a small business or a large corporation, our logistics solutions are designed to help you succeed."),c.qZA(),c.TgZ(151,"p")(152,"a",72),c._uU(153,"Search Vehicle"),c.qZA()()()()()()(),c.TgZ(154,"footer",73)(155,"div",1)(156,"div",74)(157,"div",75)(158,"div",76)(159,"h2",77),c._uU(160,"About LoadGo"),c.qZA(),c.TgZ(161,"p"),c._uU(162,"LoadGo is a comprehensive logistics and transportation management platform that enables businesses to simplify their supply chain processes with features like real-time tracking, payments, and reporting."),c.qZA()()(),c.TgZ(163,"div",75)(164,"div",78)(165,"h2",77),c._uU(166,"Information"),c.qZA(),c.TgZ(167,"ul",79)(168,"li")(169,"a",80),c._uU(170,"About"),c.qZA()(),c.TgZ(171,"li")(172,"a",81),c._uU(173,"Services"),c.qZA()(),c.TgZ(174,"li")(175,"a",82),c._uU(176,"Term and Conditions"),c.qZA()(),c.TgZ(177,"li")(178,"a",83),c._uU(179,"Privacy & Cookies Policy"),c.qZA()()()()(),c.TgZ(180,"div",75)(181,"div",76)(182,"h2",77),c._uU(183,"Have a Questions?"),c.qZA(),c.TgZ(184,"div",84)(185,"ul")(186,"li"),c._UZ(187,"span",85),c.TgZ(188,"span",86),c._uU(189,"Kolkata 700013, West Bengal"),c.qZA()(),c.TgZ(190,"li")(191,"a",87),c._UZ(192,"span",88),c.TgZ(193,"span",86),c._uU(194,"+91 8910209640"),c.qZA()()(),c.TgZ(195,"li")(196,"a",87),c._UZ(197,"span",89),c.TgZ(198,"span",86),c._uU(199,"loadgo2023@gmail.com"),c.qZA()()()()()()()(),c.TgZ(200,"div",56)(201,"div",90)(202,"p"),c._uU(203),c.TgZ(204,"a",91),c._uU(205," LoadGo"),c.qZA()()()()()()),2&t&&(c.xp6(9),c.Q6J("ngClass",1==i.toggle?"show":""),c.xp6(19),c.Q6J("ngStyle",c.VKq(12,iV,i.toggleForm?"none":"block")),c.xp6(1),c.Q6J("formGroup",i.form),c.xp6(25),c.Q6J("disabled",i.form.invalid),c.xp6(2),c.Q6J("ngStyle",c.VKq(14,iV,i.toggleForm?"block":"none")),c.xp6(1),c.Q6J("formGroup",i.form),c.xp6(7),c.Q6J("value",i.form.value.pickUp),c.xp6(4),c.Q6J("value",i.form.value.dropOff),c.xp6(9),c.Q6J("value",i.distance+" KM"),c.xp6(4),c.Q6J("value","Rs "+i.total_price),c.xp6(11),c.Q6J("ngForOf",i.vehicles),c.xp6(111),c.hij("Copyright \xa9 ",i.year," All rights reserved |"))},dependencies:[Je,qn,ei,Df,Dd,nm,Hy,iv,Sf,md],styles:[".hero-container[_ngcontent-%COMP%]{background-image:url(logistics3.531da40b5f84aa1c.jpg);background-size:66vw;background-position:left}.hero-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]{display:block!important}.vehicle-section[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]{position:relative;box-shadow:#0000003d 0 3px 8px}.vehicle-section[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]   .vehicle-img[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.vehicle-section[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]   .vehicle-img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.vehicle-section[_ngcontent-%COMP%]   .vehicle-wrapper[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:#9d9d9d}.inService[_ngcontent-%COMP%]{background-color:bisque;z-index:10}.estimate-form[_ngcontent-%COMP%]{border:1px solid red;display:grid;gap:0}.estimate-form[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{place-self:end}.verification-dialog[_ngcontent-%COMP%]{width:80%}@media (min-width: 360px) and (max-width: 610px){.hero-container[_ngcontent-%COMP%]{height:100vh;background-size:100vw;background-position:top}.hero-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{height:100dvh}.hero-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]{display:none}.services-section[_ngcontent-%COMP%]   .services[_ngcontent-%COMP%]{width:100%}.services-section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:clamp(34px,4vw,36px)}.verification-dialog[_ngcontent-%COMP%]{width:80%}#AboutUs[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:400px}.slider-text[_ngcontent-%COMP%]{height:100%;position:relative;top:100px}}"]}),n})()},{path:"privacy-policy",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-privacy-policy"]],decls:82,vars:0,consts:[[1,"fluid-container"],[1,"wrapper"],[1,"background-img"],[1,"header"],[1,"label"],[1,"description"],[1,"policy"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5," PRIVACY POLICY "),c.qZA(),c.TgZ(6,"div",5),c._uU(7,' This Privacy Policy applies to all products, services, and websites (the "Services") offered by LoadGo Logistics Company (the "Provider"). We value our customers for their trust on us and understand that your privacy is very important, and we take it seriously. Note: Our privacy policy is subject to change at any time without notice. To make sure you are aware of any changes, please review this policy periodically. If you have any questions about this Privacy Policy, please feel free to contact us through our website or write to us at support@LoadGotruck.com '),c.qZA()(),c._UZ(8,"hr"),c.TgZ(9,"div",6)(10,"label",4),c._uU(11,"1. Personal Information"),c.qZA(),c.TgZ(12,"p"),c._uU(13,"1.1. In order to use the Services as a customer, you will need to download the App and thereafter create a personal profile entering your full name, residential address, email address & phone number."),c.qZA(),c.TgZ(14,"p"),c._uU(15,"1.2. In order to use the Services as a driver, you will need to create a driver profile, which includes entering your full name, phone number, for verification we may need any one of the following voter ID, Aadhar card or PAN card. Photocopies of license, vehicle registration certificate, vehicle insurance, the Driver's bank account name, bank account number are must."),c.qZA(),c.TgZ(16,"p"),c._uU(17,"1.3. Both customers and drivers will create a personal user name and personalized password to access the individual's own personal profile on the LOADGO, a mobile application or any other platform."),c.qZA(),c.TgZ(18,"p"),c._uU(19,"1.4. We use your personal information to create your account, to communicate with you about the Services, to offer you additional products and services, and to bill you. We also use that information to the extent necessary to enforce our Terms of Use and to prevent imminent harm to persons or property"),c.qZA()(),c._UZ(20,"hr"),c.TgZ(21,"div",6)(22,"label",4),c._uU(23,"2. Personal Information from Minors"),c.qZA(),c.TgZ(24,"p"),c._uU(25,"We do not offer our Services to persons under the age of 18. In compliance with the Children's Online Privacy Protection Act, we will remove any information we receive from people we believe to be under the age of 18 from our database and cancel the corresponding account."),c.qZA()(),c._UZ(26,"hr"),c.TgZ(27,"div",6)(28,"label",4),c._uU(29,"3. Cookies"),c.qZA(),c.TgZ(30,"p"),c._uU(31,'We use "cookies" to collect certain information from all users, including website visitors who do not use or purchase anything through our Website. A cookie is a string of data that our system sends to your computer and then uses to identify your computer when you return to our Website. Cookies give us usage data, e.g. how often you visit, where you go at the site, and what you do. We use this information to better engage with our customers and enhance our customers\' experience using our Services.'),c.qZA()(),c._UZ(32,"hr"),c.TgZ(33,"div",6)(34,"label",4),c._uU(35,"4. Sharing Personal Information"),c.qZA(),c.TgZ(36,"p"),c._uU(37,"4.1. We protect all of your information against unauthorized access or release."),c.qZA(),c.TgZ(38,"p"),c._uU(39,"4.2. We reserve the right to disclose your personal information as required by law and when we believe disclosure is necessary to comply with a judicial proceeding, court order, or legal process served on us, or to protect our rights and the rights of our customers; or to enforce or apply our Terms of Use or other policies or user agreements. "),c.qZA(),c.TgZ(40,"p"),c._uU(41,"4.3. Other than as set out above, you will receive notice when information about you might go to third parties, and you will have an opportunity to choose not to share the information."),c.qZA()(),c._UZ(42,"hr"),c.TgZ(43,"div",6)(44,"label",4),c._uU(45,"5. Security of Personal Information"),c.qZA(),c.TgZ(46,"p"),c._uU(47,"5.1. We take appropriate security measures to protect against unauthorized access to or unauthorized alteration, disclosure or destruction of customer data. We do internal reviews of our data collection, storage and processing practices and security measures, including appropriate encryption and physical security measures to guard against unauthorized access to the systems where we store personal information. In addition, we restrict access to personal information to our employees, contractors and agents who need to know certain information in order to process it on our behalf. These individuals are bound by strict confidentiality obligations and may be subject to discipline, including termination and criminal prosecution, if they fail to meet these obligations."),c.qZA(),c.TgZ(48,"p"),c._uU(49,"5.2. In the event that personal information is compromised as a result of a breach of security, we will promptly notify you that your personal information may have been compromised via email, written or hard copy, by posting a notice on our website, or as otherwise required by applicable law."),c.qZA()(),c._UZ(50,"hr"),c.TgZ(51,"div",6)(52,"label",4),c._uU(53,"6. Third Party Advertisers and Linked Sites"),c.qZA(),c.TgZ(54,"p"),c._uU(55,"6.1. We may make third party applications, including add-ons to Our Services, that are available to you for use. The information we collect when you enable a third party application is processed under this Privacy Policy. Information collected outside of Provider's website by a third party application provider is governed by the third party's privacy policies."),c.qZA(),c.TgZ(56,"p"),c._uU(57,"6.2. Our website may contain links to and from other sites operated and maintained by separate companies. We have no responsibility for linked websites and provide these links solely for the convenience and information of our customers. The privacy policies of these sites may differ from our Privacy Policy, so you should always review the privacy statement of each linked website that you visit."),c.qZA()(),c._UZ(58,"hr"),c.TgZ(59,"div",6)(60,"label",4),c._uU(61,"7. User Access to Personal Information"),c.qZA(),c.TgZ(62,"p"),c._uU(63,"7.1. We provide you with full access to the personal information that you have provided in order to allow you to update or delete any data."),c.qZA(),c.TgZ(64,"p"),c._uU(65,"7.2. If your personal information changes, or if you no longer desire to use the Services, you may correct, update, request deletion, or deactivate your account by making changes on your personal profile page. We will respond to your access request in no more than 15 days."),c.qZA(),c.TgZ(66,"p"),c._uU(67,"7.3. As long as your account is active, we will retain your information for the purpose of providing you with the Services. If you wish to cancel your account or request that we no longer use your information to provide you Services, contact us at support@LoadGotruck.com"),c.qZA()(),c._UZ(68,"hr"),c.TgZ(69,"div",6)(70,"label",4),c._uU(71,"8. Opt Outs"),c.qZA(),c.TgZ(72,"p"),c._uU(73,"8.1. You can always choose not to provide information, although failure to provide information may prevent or inhibit your use of the Services and affect our ability to adequately respond to your requests."),c.qZA(),c.TgZ(74,"p"),c._uU(75,"8.2. If you do not want to receive e-mail or other mail from us, please adjust your account settings."),c.qZA()(),c._UZ(76,"hr"),c.TgZ(77,"div",6)(78,"label",4),c._uU(79,"9. Conditions of Use, Notices, and Revisions"),c.qZA(),c.TgZ(80,"p"),c._uU(81,"By using our Services, you consent to the collection, use, and disclosure of information in accordance with the terms of this Privacy Policy. We reserve the right to modify or amend this Privacy Policy at any time. If we make material changes to this Privacy Policy, we will notify you here, by e-mail, or by means of a notice on our website so that you are always aware of the information that we collect, how we use it, and under what circumstances we disclose it. Unless we clearly state otherwise, the changes to our Privacy Policy will affect only the information we collect after the effective date of the change. If you have any questions or concerns regarding any of the terms of this Privacy Policy, please feel free to contact us at support@LoadGotrucl.com, LoadGo Logistics Company."),c.qZA()()()())},styles:[".fluid-container[_ngcontent-%COMP%]{padding:5%;background-color:#000;opacity:.7}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:5%;border-radius:40px;background-color:#fff;color:#000}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .background-img[_ngcontent-%COMP%]{width:100%;height:100%}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:5%;font-size:36px;color:#000;text-align:center;font-weight:900}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .policy[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px;color:#000}"]}),n})()},{path:"terms-conditions",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-terms-conditions"]],decls:154,vars:0,consts:[[1,"fluid-container"],[1,"wrapper"],[1,"background-img"],[1,"header"],[1,"label"],[1,"description"],[1,"term-condition"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5," SERVICE \u2013 USER TERMS AND CONDITIONS "),c.qZA(),c.TgZ(6,"div",5)(7,"p"),c._uU(8,"This document is an electronic record in terms of Information Technology Act, 2000 and rules there under as applicable and the amended provisions pertaining to electronic records in various statutes as amended by the Information Technology Act, 2000. This electronic record is generated by a computer system and does not require any physical or digital signatures."),c.qZA(),c.TgZ(9,"p"),c._uU(10,"These terms and conditions (Service-User terms) apply on the usage of our website www.LoadGo.co.in (the \"Website\"), Smart phone LOADGO Application (the Application) as well as to all information, recommendations and/or services provided to you on or through the Website, the Application or through the Customer Care (The CC) through our phone numbers mentioned in the website. The term 'YOU' refers to the user of our services through Website, the Application and the CC."),c.qZA(),c.TgZ(11,"p"),c._uU(12,"The terms and conditions mentioned in this contract along with the Privacy Policy constitute the entire contract between the User(s) and LOADGO with respect to access to and use of the website / application and the Services offered by LOADGO, superseding any prior written or oral contracts in relation to the same subject matter herein."),c.qZA()()(),c._UZ(13,"hr"),c.TgZ(14,"div",6)(15,"label",4),c._uU(16,"THE SERVICE"),c.qZA(),c.TgZ(17,"p"),c._uU(18,"LOADGO\u2019s Technology platform is an enabling platform for a consumer to connect with a third party, independent valid permit holder drivers or vehicle owners or vehicle operators known as The Transport Service Provider hereinafter referred as TSP. Once TSP accepts a request, customer is notified with the details of TSP through sms or or email or Mobile application."),c.qZA(),c.TgZ(19,"p"),c._uU(20,"LOADGO shall do all the reasonable efforts to connect you with a TSP & the services are subject to the availability of TSPs in or around your location at the moment of your request for transportation services."),c.qZA(),c.TgZ(21,"p"),c._uU(22,"By using this website and/or Mobile Application or user of the service through The CC you hereby acknowledges that LOADGO is not a transport services provider."),c.qZA(),c.TgZ(23,"p"),c._uU(24,"It is up to the TSP to offer transportation services, which may be requested through the use of the Website, Application or CC. LOADGO only acts an intermediary between you and the TSP."),c.qZA(),c.TgZ(25,"p"),c._uU(26,"The user has to note that TSP is your service provider and therefore it is subjected to the contract between YOU and the TSP. LOADGO shall never be a party to such contract."),c.qZA()(),c._UZ(27,"hr"),c.TgZ(28,"div",6)(29,"label",4),c._uU(30,"USER(S) ELIGIBILITY"),c.qZA(),c.TgZ(31,"p"),c._uU(32,"User(s) means any individual or business entity/organization that legally operates in India or in other countries, uses and has the right to use the Services provided by LOADGO. Our Services are available only to those individuals or companies who can form legally binding contracts under the applicable law. Therefore, user(s) must not be a minor as per Indian Law; i.e. user(s) must be at least 18 years of age to be eligible to use our Services."),c.qZA(),c.TgZ(33,"p"),c._uU(34,"LOADGO advises its users that while accessing the web site/ the application, they must follow/abide by the related laws. LOADGO is not responsible for the possible consequences caused by your behavior during use of web site/application. LOADGO at all the times reserves the right to deny service."),c.qZA()(),c._UZ(35,"hr"),c.TgZ(36,"div",6)(37,"label",4),c._uU(38,"USER ACCOUNTS, OFFERS AND PROMOTIONS"),c.qZA(),c.TgZ(39,"p"),c._uU(40,"LOADGO collects general user data including name, email ID, contact details etc. to facilitate services. "),c.qZA(),c.TgZ(41,"p"),c._uU(42,"It is assumed that all information collected from the user is Correct & Accurate. Misuse and misrepresentation of identity or contact details will lead to automated termination of services or the use of the platform without prior notice to such users."),c.qZA(),c.TgZ(43,"p"),c._uU(44,"User accounts bearing contact number and email IDs are created and owned by LOADGO. Any promotional discounts, offers and reward points in the form of LOADGO Money accumulated can be revoked without prior notice in the event of suspicious account activity or mollified intent of the user. In the case where the system is unable to establish unique identity of the user against a valid mobile number or e-mail ID, the account shall be indefinitely suspended. LOADGO reserves the full discretion to suspend a user's account n the above event and does not have the liability to share any account information whatsoever."),c.qZA()(),c._UZ(45,"hr"),c.TgZ(46,"div",6)(47,"label",4),c._uU(48,"USAGE CONDITIONS"),c.qZA(),c.TgZ(49,"p"),c._uU(50,"You are advised to provide accurate information to LOADGO. LOADGO can verify the information that you have provided and choose to refuse the service or use of the Application / the Website without providing reasons."),c.qZA(),c.TgZ(51,"p"),c._uU(52,"By using the Application or Website you agree to:"),c.qZA(),c.TgZ(53,"ol")(54,"li"),c._uU(55,"You have understood your contract with LOADGO for Website / Application usage and you have clearly understood the SERVICE with our CLARIFICATIONS."),c.qZA(),c.TgZ(56,"li"),c._uU(57,"You will not use the Service or Application for unlawful purposes, including but not limited to sending or storing any unlawful material or for fraudulent purposes."),c.qZA(),c.TgZ(58,"li"),c._uU(59,"You will not use the Service or Application to cause nuisance, disturbance, annoyance or inconvenience."),c.qZA(),c.TgZ(60,"li"),c._uU(61,"You will not impair the proper operation of the network."),c.qZA(),c.TgZ(62,"li"),c._uU(63,"You will not try to harm the Service or Application in any way whatsoever."),c.qZA(),c.TgZ(64,"li"),c._uU(65,"You will not copy, or distribute the Application or other LOADGO Content without written permission from LOADGO."),c.qZA(),c.TgZ(66,"li"),c._uU(67,"You will provide us with whatever proof of identity we may reasonably request."),c.qZA(),c.TgZ(68,"li"),c._uU(69,"You will comply with all applicable law from your City, State and the Country while using the Application or the Service."),c.qZA(),c.TgZ(70,"li"),c._uU(71,"You will not be damaging the body and/or any other interiors of the TSP Vehicles."),c.qZA(),c.TgZ(72,"li"),c._uU(73,"You will not be misusing or damaging any of the devices (technical/non-technical) in the TSP Vehicles."),c.qZA(),c.TgZ(74,"li"),c._uU(75,"You will not be asking the TSP to break any Traffic/RTO/City Police and/or government rules for any purpose. The TSP has the right to refuse such a request by the customer. The TSP also has the right to refuse such a pick-up."),c.qZA(),c.TgZ(76,"li"),c._uU(77,"You will not be putting pressure on the TSP to overload their vehicles with the consignment than the maximum allowed limit of that vehicle.The TSP has the right to refuse such a pick-up."),c.qZA(),c.TgZ(78,"li"),c._uU(79,"You will not be shipping goods that are classified as dangerous as per ICAO T.I., IATA DGR, IMDG-Code, ADR or other national regulations for transport."),c.qZA(),c.TgZ(80,"li"),c._uU(81,"You will not be shipping any goods or materials that is prohibited by any Law, Rule or Regulation of India."),c.qZA()(),c.TgZ(82,"p"),c._uU(83,"In addition to other reasons mentioned under the Termination clause below, LOADGO reserves the right to immediately terminate the Service and the use of the Application should you not comply with any of the above rules. "),c.qZA()(),c._UZ(84,"hr"),c.TgZ(85,"div",6)(86,"label",4),c._uU(87,"GENERAL CUSTOMER BEHAVIOUR WHILE USING TRANSPORT SERVICE THROUGH TRANSPORT SERVICE PROVIDER"),c.qZA(),c.TgZ(88,"p"),c._uU(89,"It is expected that a reasonable behavior shall be followed by the Customers / Recipient of the goods while utilizing the Services offered by the TSP. "),c.qZA(),c.TgZ(90,"p"),c._uU(91,'The Company encourages all its customers to take full responsibility of his/her items. In case of lost items inside the Company during the journey, Company will try to locate the items on a "best-effort" basis but is not responsible for the same in case of loss or damage to the same.'),c.qZA(),c.TgZ(92,"p"),c._uU(93,"All the calls made to the Company's CC are recorded by the Company for quality and training purposes."),c.qZA()(),c._UZ(94,"hr"),c.TgZ(95,"div",6)(96,"label",4),c._uU(97,"REPRESENTATION, WARRANTIES, INDEMNIFICATION AND LIMITATION OF LIABILITY"),c.qZA(),c.TgZ(98,"p"),c._uU(99,'The Company\u2019s aggregate liability to the other, regardless of the theory of liability, for any claim, breach or default under this Agreement, will be limited to only 50% of the value of the goods declared in the statement of the goods which matches with the goods transported or Rs, 50,000/- (Fifty Thousand Indian Rupees only) which ever is less. In Order to claim this liability from the Company due to damage of the goods in transit, the User has to report the damage of the goods along with the "Statement of Goods\u201d caused to the Company in less than 24 Hours from the Delivery Completion time. In no event, the Company will be liable for special, indirect, incidental, punitive or consequential damages, including, without limitation, loss of profits or lost data regardless of whether the User has been advised of the possibility of such damages. If the User has not declared the goods correctly or missed to declare any goods in the "Statement of Goods" in the Service Request, then the Company shall not be liable for any loss or damages occurred to these unknown goods. The Company will not considered liable to these unknown goods that are not mentioned in the "Statement of Goods" and these unknown goods will be ignored if any such loss or damages occur to these goods. Without prejudice to the above, the Company makes no representation or warranty that: The Services will be uninterrupted, timely or error-free. '),c.qZA(),c.TgZ(100,"p"),c._uU(101,"LOADGO shall not be responsible or liable for any loss or damage, howsoever caused or suffered by the Customer arising out of the use of Cargo service offered by TSP or due to the failure of TSP to provide Services to the Customer for any reason whatsoever including but not limited to the Customer's non-compliance with the Services' recorded voice instructions, malfunction, partial or total failure of any network terminal, data processing system, computer tele-transmission or telecommunications system or other circumstances whether or not beyond the control of Company or any person or any organization involved in the above mentioned systems."),c.qZA(),c.TgZ(102,"p"),c._uU(103,"LOADGO will not be liable for any damages of any kind arising from the use of the Service offered by the TSP including, but not limited to direct, indirect, incidental, punitive, and consequential damages."),c.qZA(),c.TgZ(104,"p"),c._uU(105,"LOADGO will take all reasonable measures to ensure that TSP should fulfill his duty properly but there may be exceptions and if any goods misses the ship or train or flight or bus, LOADGO will not be hold liable for any such compensation. The customer is advised to make alternate arrangement in case the assigned vehicle has not reached due to any reason."),c.qZA(),c.TgZ(106,"p"),c._uU(107,"The Company shall not be liable for any conduct of the drivers of the Vehicles. LOADGO encourages you to notify any complaints that you may have against the driver of any Vehicles that you may have hired using the LOADGO\u2019s platform."),c.qZA(),c.TgZ(108,"p"),c._uU(109,"All the vehicles registered with LOADGO platform are continuously tracked using GPS for security reasons only. It is expressly made clear to you hereby that the Company does not own any Vehicles nor does it directly or indirectly employ any drivers for the Vehicles. LOADGO disclaims any and all liability in respect of the drivers and the Vehicles alike."),c.qZA(),c.TgZ(110,"p"),c._uU(111,"LOADGO shall be entitled at any time without giving any reason to terminate the booking of the TSP Vehicle done by the Customer. Any complaint in respect of the Services or the use of the vehicles supplied by the TSP, the Customer has to inform Company of the same in writing within 24hours ofusing the Services of Company. Estimated Pickup Time (EPT) mentioned at the time of booking is only indicative and approximate and may vary. If you fail to accept delivery of Goods at the time they are ready for delivery, or we are unable to deliver at the nominated time due to failure on your part to provide appropriate instructions, or authorizations, then such Goods shall be deemed to have been delivered to you and all risks and rewards in relation to such Goods shall pass to you. You must ensure that at the time of delivery of Goods, adequate arrangements, including access where necessary, are in place for the safe delivery of the Goods being transported by TSP. We cannot be held liable for any damage, cost or expense incurred to such Goods or premises where this arises as a result of a failure on your part to provide adequate access/ address or any other instructions or arrangements for delivery. Please note that it might not be possible for us to deliver to some locations. If this is the case, we will inform you using the contact details that you have provided to us. You can cancel the booking or provide alternate delivery address. "),c.qZA()(),c._UZ(112,"hr"),c.TgZ(113,"div",6)(114,"label",4),c._uU(115,"DELIVERY REJECTED CONSIGNMENTS"),c.qZA(),c.TgZ(116,"p"),c._uU(117,"If the receiver refuses to accept delivery we will try to contact you and agree the appropriate next action. You agree to pay the TSP that any costs incurred in forwarding, disposing of or returning the consignment and other charges (if any) for the agreed appropriate next action. If you fail to accept delivery of Goods at the time they are ready for delivery, or we are unable to deliver at the nominated time due to failure on your part to provide appropriate instructions, or authorizations, then such Goods shall be deemed to have been delivered to you and all risks and rewards in relation to such Goods shall pass to you. "),c.qZA()(),c._UZ(118,"hr"),c.TgZ(119,"div",6)(120,"label",4),c._uU(121,"AMENDMENT TO TERMS OF CONTRACT"),c.qZA(),c.TgZ(122,"p"),c._uU(123,"The Company shall be entitled to add to, vary or amend any or all these terms and conditions at any time and the Customer shall be bound by such addition, variation or amendment once such addition, variation or amendment are incorporated into these terms and conditions at Company's website at www.LOADGO.in or the Application on the date that Company may indicate that such addition, variation or amendment is to come into effect."),c.qZA()(),c._UZ(124,"hr"),c.TgZ(125,"div",6)(126,"label",4),c._uU(127,"INTELLECTUAL PROPERTY RIGHTS"),c.qZA(),c.TgZ(128,"p"),c._uU(129,'LOADGO is the sole owner or lawful licensee of all the rights to the web site and its content. Web site content means its design, layout, text, images, graphics, sound, video etc. The web site content embodies trade secrets and intellectual property rights protected under worldwide copyright and other laws. All title, ownership and intellectual property rights in the web site and its content shall remain with LOADGO, its affiliates or licensor\'s of LOADGO content, as the case may be. All rights, not otherwise claimed under this contract or by www.LOADGO.in, are hereby reserved. The information contained in this web site is intended, solely to provide general information for the personal use of the reader, who accepts full responsibility for its use. LOADGO does not represent or endorse the accuracy or reliability of any information, or advertisements (collectively, the "content") contained on, distributed through, or linked, downloaded or accessed from any of the Services contained on this web site, or the quality of any products, information or other materials displayed, or obtained by you as a result of an advertisement or any other information or offer in or in connection with the Service. We accept no responsibility for any errors or omissions, or for the results obtained from the use of this information. All information in this web site is provided "AS IS" with no guarantee of completeness, accuracy, timeliness or of the results obtained from the use of this information, and without warranty of any kind, express or implied, including, but not limited to warranties of performance, merchantability and fitness for a particular purpose. Nothing herein shall to any extent substitute for the independent investigations and the sound technical and business judgment of the user(s). In no event shall LOADGO be liable for any direct, indirect, incidental, punitive, or consequential damages of any kind whatsoever with respect to the Service. User(s) of this site must hereby acknowledge that any reliance upon any content shall be at their sole risk. LOADGO reserves the right, in its sole discretion and without any obligation, to make improvements to, or correct any error or omissions in any portion of the Service or the website. '),c.qZA()(),c._UZ(130,"hr"),c.TgZ(131,"div",6)(132,"label",4),c._uU(133,"TRADEMARK"),c.qZA(),c.TgZ(134,"p"),c._uU(135,"All related icons and logos are registered trademarks or trademarks or service marks of LOADGO in various jurisdictions and are protected under applicable copyright, trademark and other proprietary rights laws. The unauthorized copying, modification, use or publication of these marks is strictly prohibited."),c.qZA()(),c._UZ(136,"hr"),c.TgZ(137,"div",6)(138,"label",4),c._uU(139,"COPYRIGHT"),c.qZA(),c.TgZ(140,"p"),c._uU(141,"All content on this web site is the copyright of LOADGO except the third party content and link to third party web site on our website. Any systematic retrieval of LOADGO content to create or compile, directly or indirectly, a collection, compilation, database or directory (whether through robots, spiders, automatic devices or manual processes) without written permission from LOADGO is prohibited. In addition, use of the content for any purpose not expressly permitted in this Contract is prohibited and may invite legal action. As a condition of your access to and use of LOADGO's Services, you agree that you will not use the web site service to infringe the intellectual property rights of others in any way. LOADGO reserves the right to terminate the account of a user(s) upon any infringement of the rights of others in conjunction with use of the LOADGO service, or if LOADGO believes that user(s) conduct is harmful to the interests of LOADGO, its affiliates, or other users, or for any other reason in LOADGO's sole discretion, with or without cause "),c.qZA()(),c._UZ(142,"hr"),c.TgZ(143,"div",6)(144,"label",4),c._uU(145,"CONSENT TO ELECTRONIC COMMUNICATIONS AND TRANSACTIONS"),c.qZA(),c.TgZ(146,"p"),c._uU(147,"By clicking the \u2018I Agree\u2019 button, you consent to conduct transactions and receive communications, notices and information from us electronically, whether sent by e-mail or other electronic means. Electronic communications shall be deemed to have been received by you when we send the electronic communication to the email address / mobile number that as per our records, or when we post the electronic communication on the Application or the Website."),c.qZA()(),c._UZ(148,"hr"),c.TgZ(149,"div",6)(150,"label",4),c._uU(151,"CHOICE OF LAW AND DISPUTE RESOLUTION"),c.qZA(),c.TgZ(152,"p"),c._uU(153,"These Terms shall be governed by, and construed in accordance with, the laws of India, without reference to principles of conflicts of law. The parties agree that the courts of Chennai shall have exclusive jurisdiction over any dispute arising from or relating to these Terms, the Application or the Website. You expressly consent to the personal jurisdiction of said courts and waive any objection to such personal jurisdiction based on forums non-convenience or any other basis."),c.qZA()()()())},styles:[".fluid-container[_ngcontent-%COMP%]{padding:5%;background-color:#000;opacity:.7}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:5%;border-radius:40px;background-color:#fff;color:#000}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .background-img[_ngcontent-%COMP%]{width:100%;height:100%}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:5%;font-size:36px;color:#000;text-align:center;font-weight:900}.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .term-condition[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px;color:#000}@media (min-width: 360px) and (max-width: 610px){.fluid-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:5%;font-size:20px;color:#000;text-align:center;font-weight:900}}"]}),n})()}];let nG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[oy.forRoot(tG),oy]}),n})();var Ba=V(2011),dI=V(5363),iG=V(6063);class rG extends At.x{constructor(e=1/0,t=1/0,i=iG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var sG=V(3099);function rV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,sG.B)({connector:()=>new rG(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function sV(n,e){return(0,ms.m)(e)?Ye(()=>n,e):Ye(()=>n)}var qO=V(9468),Dr=V(2122);V(259);const KO=new Map,aV={activated:!1,tokenObservers:[]},uG={initialized:!1,enabled:!1};function jr(n){return KO.get(n)||Object.assign({},aV)}function fI(){return uG}const YO="https://content-firebaseappcheck.googleapis.com/v1",pG="exchangeDebugToken",lV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class mG{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new In.BH,yield function _G(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new In.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Is=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JO(){return JO=(0,Ee.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(M){throw Is.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw Is.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw Is.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+v,issuedAtTimeMillis:D}}),JO.apply(this,arguments)}const EG="firebase-app-check-database",CG=1,Vb="firebase-app-check-store";let mI=null;function eR(){return eR=(0,Ee.Z)(function*(n,e){const i=(yield function dV(){return mI||(mI=new Promise((n,e)=>{try{const t=indexedDB.open(EG,CG);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Is.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Vb,{keyPath:"compositeKey"})}}catch(t){e(Is.create("storage-open",{originalErrorMessage:t?.message}))}}),mI)}()).transaction(Vb,"readwrite"),a=i.objectStore(Vb).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var v;f(Is.create("storage-set",{originalErrorMessage:null===(v=_.target.error)||void 0===v?void 0:v.message}))}})}),eR.apply(this,arguments)}const Ub=new Ld.Yd("@firebase/app-check");function iR(n,e){return(0,In.hl)()?function IG(n,e){return function hV(n,e){return eR.apply(this,arguments)}(function pV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ub.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sR(){return sR=(0,Ee.Z)(function*(){const n=fI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sR.apply(this,arguments)}const OG={error:"UNKNOWN_ERROR"};function RG(n){return In.US.encodeString(JSON.stringify(n),!1)}function _I(n){return oR.apply(this,arguments)}function oR(){return oR=(0,Ee.Z)(function*(n,e=!1){const t=n.app;!function cV(n){if(!jr(n).activated)throw Is.create("use-before-activation",{appName:n.name})}(t);const i=jr(t);let a,r=i.token;if(r&&!t_(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(t_(_)?r=_:yield iR(t,void 0))}if(!e&&r&&t_(r))return{token:r.token};let f,u=!1;if(function gV(){return fI().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function XO(n,e){return JO.apply(this,arguments)}(function wG(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${YO}/projects/${t}/apps/${i}:${pG}?key=${r}`,body:{debug_token:e}}}(t,yield function mV(){return sR.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield iR(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield jr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ub.warn(_.message):Ub.error(_),a=_}return r?a?f=t_(r)?{token:r.token,internalError:a}:vV(a):(f={token:r.token},i.token=r,yield iR(t,r)):f=vV(a),u&&function yV(n,e){const t=jr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),oR.apply(this,arguments)}function lR(n,e){const t=jr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function _V(n){const{app:e}=n,t=jr(e);let i=t.tokenRefresher;i||(i=function kG(n){const{app:e}=n;return new mG((0,Ee.Z)(function*(){let i;if(i=jr(e).token?yield _I(n,!0):yield _I(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=jr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},lV.RETRIAL_MIN_WAIT,lV.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function t_(n){return n.expireTimeMillis-Date.now()>0}function vV(n){return{token:RG(OG),error:n}}class PG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=jr(this.app);for(const t of e)lR(this.app,t.next);return Promise.resolve()}}const TV="app-check-internal";!function WG(){(0,Lf._registerComponent)(new BC.wA("app-check",n=>function NG(n,e){return new PG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TV).initialize()})),(0,Lf._registerComponent)(new BC.wA(TV,n=>function FG(n){return{getToken:e=>_I(n,e),addTokenListener:e=>function aR(n,e,t,i){const{app:r}=n,a=jr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&t_(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),_V(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>_V(n))}(n,"INTERNAL",e),removeTokenListener:e=>lR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lf.registerVersion)("@firebase/app-check","0.6.4")}();class hR{constructor(){return(0,Dr.vb)("app-check")}}typeof window<"u"&&window;const MV=new c.OlP("angularfire2.auth.use-emulator"),xV=new c.OlP("angularfire2.auth.settings"),OV=new c.OlP("angularfire2.auth.tenant-id"),RV=new c.OlP("angularfire2.auth.langugage-code"),kV=new c.OlP("angularfire2.auth.use-device-language"),PV=new c.OlP("angularfire.auth.persistence"),NV=(n,e,t,i,r,a,u,f)=>(0,Ba.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[v,D]of Object.entries(u))_.settings[v]=D;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let pR=(()=>{class n{constructor(t,i,r,a,u,f,_,v,D,M,B,j){const K=new At.x,ne=mt(void 0).pipe((0,dI.Q)(u.outsideAngular),Ye(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,ft.U)(()=>(0,Ba.on)(t,a,i)),(0,ft.U)(_e=>NV(_e,a,f,v,D,M,_,B)),rV({bufferSize:1,refCount:!1}));if(xu(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{ne.pipe(Hs()).subscribe();const ze=ne.pipe(Ye(bt=>bt.getRedirectResult().then(Wt=>Wt,()=>null)),Dr.iC,rV({bufferSize:1,refCount:!1})),dt=ne.pipe(Ye(bt=>new Rn.y(Wt=>({unsubscribe:a.runOutsideAngular(()=>bt.onAuthStateChanged(nn=>Wt.next(nn),nn=>Wt.error(nn),()=>Wt.complete()))})))),ht=ne.pipe(Ye(bt=>new Rn.y(Wt=>({unsubscribe:a.runOutsideAngular(()=>bt.onIdTokenChanged(nn=>Wt.next(nn),nn=>Wt.error(nn),()=>Wt.complete()))}))));this.authState=ze.pipe(sV(dt),(0,qO.R)(u.outsideAngular),(0,dI.Q)(u.insideAngular)),this.user=ze.pipe(sV(ht),(0,qO.R)(u.outsideAngular),(0,dI.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ye(bt=>bt?(0,dn.D)(bt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(Ye(bt=>bt?(0,dn.D)(bt.getIdTokenResult()):mt(null))),this.credential=(0,Rv.T)(ze,K,this.authState.pipe(vi(bt=>!bt))).pipe((0,ft.U)(bt=>bt?.user?bt:null),(0,qO.R)(u.outsideAngular),(0,dI.Q)(u.insideAngular))}return(0,Ba.pX)(this,ne,a,{spy:{apply:(_e,ze,dt)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&dt.then(ht=>K.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ba.Dh),c.LFG(Ba.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Dr.HU),c.LFG(MV,8),c.LFG(xV,8),c.LFG(OV,8),c.LFG(RV,8),c.LFG(kV,8),c.LFG(PV,8),c.LFG(hR,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e3=(()=>{class n{constructor(){pu.Z.registerVersion("angularfire",Dr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pR]}),n})();function gR(){return(0,qe.e)((n,e)=>{let t,i=!1;n.subscribe((0,S.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}V(9568);var t3=V(3942);function mR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function FV(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function LV(){if(!function hz(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Bb{constructor(e){this._delegate=e}static fromBase64String(e){return LV(),new Bb(Gl.fromBase64String(e))}static fromUint8Array(e){return FV(),new Bb(Gl.fromUint8Array(e))}toBase64(){return LV(),this._delegate.toBase64()}toUint8Array(){return FV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _R(n){return function s3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class o3{enableIndexedDbPersistence(e,t){return function UH(n,e){NL(n=yn(n,ai));const t=zi(n);if(t._uninitializedComponentsProvider)throw new Le(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Ul("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Qm;return PL(t,r,new SO(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function BH(n){NL(n=yn(n,ai));const e=zi(n);if(e._uninitializedComponentsProvider)throw new Le(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Ul("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Qm;return PL(e,i,new _L(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function zH(n){if(n._initialized&&!n._terminated)throw new Le(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ar;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!Ua.D())return Promise.resolve();const r=i+"main";yield Ua.delete(r)}),function(i){return t.apply(this,arguments)})(yx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VV{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof $d||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ul("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function xL(n,e,t,i={}){var r;const a=(n=yn(n,xb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=br.MOCK_USER;else{u=(0,In.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Le(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new br(_)}n._authCredentials=new P2(new jN(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function HH(n){return function TH(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield bL(n),t=yield kO(n);return e.setNetworkEnabled(!0),function(i){const r=ot(i);return r.du.delete(0),Ab(r)}(t)}))}(zi(n=yn(n,ai)))}(this._delegate)}disableNetwork(){return function $H(n){return function AH(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield bL(n),t=yield kO(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const a=ot(r);a.du.add(0),yield $m(a),a.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(zi(n=yn(n,ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,IL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jH(n){return function(e){const t=new ar;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function dH(n,e){return uO.apply(this,arguments)}(yield PO(e),t)})),t.promise}(zi(n=yn(n,ai)))}(this._delegate)}onSnapshotsInSync(e){return function w$(n,e){return function OH(n,e){const t=new KD(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield Xm(n),r=t,ot(i).Au.add(r),void r.next();var i,r})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield Xm(n),r=t,void ot(i).Au.delete(r);var i,r}))}}(zi(n=yn(n,ai)),VO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new n_(this,OL(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new ta(this,eI(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function NH(n,e){if(n=yn(n,xb),FO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zr(n,null,(t=e,new yu(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function x$(n,e,t){n=yn(n,ai);const i=Object.assign(Object.assign({},A$),t);return function(r){if(r.maxAttempts<1)throw new Le(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new ar;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const _=yield function wL(n){return QD(n).then(e=>e.datastore)}(r);new IH(r.asyncQueue,_,u,a,f).run()})),f.promise}(zi(n),r=>e(new M$(n,r)),i)}(this._delegate,t=>e(new UV(this,t)))}batch(){return zi(this._delegate),new BV(new eV(this._delegate,e=>e_(this._delegate,e)))}loadBundle(e){return function GH(n,e){const t=zi(n=yn(n,ai)),i=new LH;return function RH(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,v){if(_ instanceof Uint8Array)return yL(_,v);if(_ instanceof ArrayBuffer)return yL(new Uint8Array(_),v);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new CH(_,u);var _}(t,Tb(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function EH(n,e,t){const i=ot(n);var r;(r=(0,Ee.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(B,j){const K=ot(B),ne=Bi(j.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",_e=>K.xs.getBundleMetadata(_e,j.id)).then(_e=>!!_e&&_e.createTime.compareTo(ne)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(B=_).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);f._updateProgress(lL(_));const v=new tH(_,a.localStore,u.serializer);let D=yield u._c();for(;D;){const B=yield v.$u(D);B&&f._updateProgress(B),D=yield u._c()}const M=yield v.complete();return yield wu(a,M.Bu,void 0),yield function(B,j){const K=ot(B);return K.persistence.runTransaction("Save bundle","readwrite",ne=>K.xs.saveBundleMetadata(ne,j))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Fu)}catch(_){return Ul("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var B}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield PO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function ZH(n,e){return function kH(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=ot(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.xs.getNamedQuery(a,i))}(yield XD(n),e)}))}(zi(n=yn(n,ai)),e).then(t=>t?new zr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ts(this,t):null)}}class vI extends GO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bb(new Gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ta.forKey(t,this.firestore,null)}}class UV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}get(e){const t=dp(e);return this._delegate.get(t).then(i=>new zb(this._firestore,new Cu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=dp(e);return i?(mR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=dp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=dp(e);return this._delegate.delete(t),this}}class BV{constructor(e){this._delegate=e}set(e,t,i){const r=dp(e);return i?(mR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=dp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=dp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class up{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Lb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=up.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new up(e,new vI(e),t),r.set(t,a)),a}}up.INSTANCES=new WeakMap;class ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ta(t,new oi(t._delegate,i,new tt(e)))}static forKey(e,t,i){return new ta(t,new oi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new n_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new n_(this.firestore,OL(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,In.m9)(e))instanceof oi&&RL(this._delegate,e)}set(e,t){t=mR("DocumentReference.set",t);try{return t?QL(this._delegate,e,t):QL(this._delegate,e)}catch(i){throw Ss(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?XL(this._delegate,e):XL(this._delegate,e,t,...i)}catch(r){throw Ss(r,"updateDoc()","DocumentReference.update()")}}delete(){return function v$(n){return e_(yn(n.firestore,ai),[new Lm(n._key,pi.none())])}(this._delegate)}onSnapshot(...e){const t=zV(e),i=jV(e,r=>new zb(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JL(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function p$(n){n=yn(n,oi);const e=yn(n.firestore,ai),t=zi(e),i=new ih(e);return function MH(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,u){try{const f=yield function(_,v){const D=ot(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,v))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Le(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=qm(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield XD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Cu(e,i,n._key,r,new lp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function g$(n){n=yn(n,oi);const e=yn(n.firestore,ai);return EL(zi(e),n._key,{source:"server"}).then(t=>ZO(e,n,t))}(this._delegate):function f$(n){n=yn(n,oi);const e=yn(n.firestore,ai);return EL(zi(e),n._key).then(t=>ZO(e,n,t))}(this._delegate),t.then(i=>new zb(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?up.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function zV(n){for(const e of n)if("object"==typeof e&&!_R(e))return e;return{}}function jV(n,e){var t,i;let r;return r=_R(n[0])?n[0]:_R(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class zb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return YL(this._delegate,e._delegate)}}class jb extends zb{data(e){const t=this._delegate.data(e);return function R2(n,e){n||pt()}(void 0!==t),t}}class Ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}where(e,t,i){try{return new Ts(this.firestore,th(this._delegate,function n$(n,e,t){const i=e,r=oI("where",n);return Fb._create(r,i,t)}(e,t,i)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ts(this.firestore,th(this._delegate,function i$(n,e="asc"){const t=e,i=oI("orderBy",n);return $O._create(i,t)}(e,t)))}catch(i){throw Ss(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,th(this._delegate,function r$(n){return AL("limit",n),aI._create("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,th(this._delegate,function s$(n){return AL("limitToLast",n),aI._create("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,th(this._delegate,function o$(...n){return lI._create("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,th(this._delegate,function a$(...n){return lI._create("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,th(this._delegate,function l$(...n){return cI._create("endBefore",n,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,th(this._delegate,function c$(...n){return cI._create("endAt",n,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return LO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _$(n){n=yn(n,zr);const e=yn(n.firestore,ai),t=zi(e),i=new ih(e);return function xH(n,e){const t=new ar;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,a,u){try{const f=yield zD(r,a,!0),_=new dL(a,f.Wi),v=_.zu(f.documents),D=_.applyChanges(v,!1);u.resolve(D.snapshot)}catch(f){const _=qm(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield XD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new nh(e,i,n,r))}(this._delegate):"server"===e?.source?function y$(n){n=yn(n,zr);const e=yn(n.firestore,ai),t=zi(e),i=new ih(e);return CL(t,n._query,{source:"server"}).then(r=>new nh(e,i,n,r))}(this._delegate):function m$(n){n=yn(n,zr);const e=yn(n.firestore,ai),t=zi(e),i=new ih(e);return HL(n._query),CL(t,n._query).then(r=>new nh(e,i,n,r))}(this._delegate),t.then(i=>new yR(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=zV(e),i=jV(e,r=>new yR(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JL(this._delegate,t,i)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?up.getInstance(this.firestore,e):null))}}class l3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new l3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new jb(this._firestore,i))})}isEqual(e){return YL(this._delegate,e._delegate)}}class n_ extends Ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ta(this.firestore,e):null}doc(e){try{return new ta(this.firestore,void 0===e?eI(this._delegate):eI(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function b$(n,e){const t=yn(n.firestore,ai),i=eI(n),r=uI(n.converter,e);return e_(t,[iI(op(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,pi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ta(this.firestore,t))}isEqual(e){return RL(this._delegate,e._delegate)}withConverter(e){return new n_(this.firestore,this._delegate.withConverter(e?up.getInstance(this.firestore,e):null))}}function dp(n){return yn(n,oi)}class vR{constructor(...e){this._delegate=new Eu(...e)}static documentId(){return new vR(Oi.keyField().canonicalString())}isEqual(e){return(e=(0,In.m9)(e))instanceof Eu&&this._delegate._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function R$(){return new UO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hp(e)}static delete(){const e=function O$(){return new Rb("deleteField")}();return e._methodName="FieldValue.delete",new hp(e)}static arrayUnion(...e){const t=function k$(...n){return new QH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hp(t)}static arrayRemove(...e){const t=function P$(...n){return new XH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hp(t)}static increment(e){const t=function N$(n){return new JH("increment",n)}(e);return t._methodName="FieldValue.increment",new hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const c3={Firestore:VV,GeoPoint:tI,Timestamp:fi,Blob:Bb,Transaction:UV,WriteBatch:BV,DocumentReference:ta,DocumentSnapshot:zb,Query:Ts,QueryDocumentSnapshot:jb,QuerySnapshot:yR,CollectionReference:n_,FieldPath:vR,FieldValue:hp,setLogLevel:function a3(n){!function O2(n){Bd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function HV(n,e){return function h3(n,e=Pf.z){return new Rn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function bR(n,e){return HV(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function bI(n,e){return bR(n,e).pipe(ml(void 0),gR(),(0,ft.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function $V(n,e,t){return bI(n,t).pipe(rd((i,r)=>function p3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function g3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return wR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return wR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Wk(),(0,ft.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function wR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function GV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function d3(n){(function u3(n,e){n.INTERNAL.registerComponent(new BC.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},c3)))})(n,(e,t)=>new VV(e,t,new o3)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(t3.Z);class ZV{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=bI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ml(void 0),gR(),vi(([i,r])=>r.length>0||!i),(0,ft.U)(([i,r])=>r),Dr.iC)}auditTrail(e){return this.stateChanges(e).pipe(rd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GV(e);return $V(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dr.iC)}valueChanges(e={}){return bR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Dr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Dr.iC)}add(e){return this.ref.add(e)}doc(e){return new qV(this.ref.doc(e),this.afs)}}class qV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=YV(i,t);return new ZV(r,a,this.afs)}snapshotChanges(){return function f3(n,e){return HV(n,e).pipe(ml(void 0),gR(),(0,ft.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Dr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(Dr.iC)}}class m3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),vi(t=>t.length>0),Dr.iC):bI(this.query,this.afs.schedulers.outsideAngular).pipe(Dr.iC)}auditTrail(e){return this.stateChanges(e).pipe(rd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=GV(e);return $V(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dr.iC)}valueChanges(e={}){return bR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Dr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Dr.iC)}}const WV=new c.OlP("angularfire2.enableFirestorePersistence"),KV=new c.OlP("angularfire2.firestore.persistenceSettings"),_3=new c.OlP("angularfire2.firestore.settings"),y3=new c.OlP("angularfire2.firestore.use-emulator");function YV(n,e=(t=>t)){return{query:e(n),ref:n}}let v3=(()=>{class n{constructor(t,i,r,a,u,f,_,v,D,M,B,j,K,ne,_e,ze,dt){this.schedulers=_;const ht=(0,Ba.on)(t,f,i),bt=D;M&&NV(ht,f,B,K,ne,_e,j,ze),[this.firestore,this.persistenceEnabled$]=(0,Ba.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const Wt=f.runOutsideAngular(()=>ht.firestore());if(a&&Wt.settings(a),bt&&Wt.useEmulator(...bt),r&&!xu(u)){const nn=()=>{try{return(0,dn.D)(Wt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Mn){return typeof console<"u"&&console.warn(Mn),mt(!1)}};return[Wt,f.runOutsideAngular(nn)]}return[Wt,mt(!1)]},[a,bt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=YV(r,i),f=this.schedulers.ngZone.run(()=>a);return new ZV(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new m3(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new qV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ba.Dh),c.LFG(Ba.xv,8),c.LFG(WV,8),c.LFG(_3,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Dr.HU),c.LFG(KV,8),c.LFG(y3,8),c.LFG(pR,8),c.LFG(MV,8),c.LFG(xV,8),c.LFG(OV,8),c.LFG(RV,8),c.LFG(kV,8),c.LFG(PV,8),c.LFG(hR,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),b3=(()=>{class n{constructor(){pu.Z.registerVersion("angularfire",Dr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WV,useValue:!0},{provide:KV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[v3]}),n})();const w3_firebase={apiKey:"AIzaSyAAWTVKhSzraA-9vaYlvkyGWeyvdGdLHZk",authDomain:"loadgo-a65ee.firebaseapp.com",projectId:"loadgo-a65ee",storageBucket:"loadgo-a65ee.appspot.com",messagingSenderId:"649379582931",appId:"1:649379582931:web:ee48f1052913ae19761526"};let E3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[mr]}),n.\u0275inj=c.cJS({imports:[so,k0,Oo,EC,Th,Rp,nG,wC,Ba.hO.initializeApp(w3_firebase),e3,b3,B$,TB]}),n})();wc().bootstrapModule(E3).catch(n=>console.error(n))},9751:(_t,Ie,V)=>{V.d(Ie,{y:()=>he});var c=V(930),H=V(727),P=V(8822),re=V(9635),ae=V(2416),te=V(576),ye=V(2806);let he=(()=>{class X{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new X;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,ct){const me=function W(X){return X&&X instanceof c.Lv||function q(X){return X&&(0,te.m)(X.next)&&(0,te.m)(X.error)&&(0,te.m)(X.complete)}(X)&&(0,H.Nn)(X)}(Ae)?Ae:new c.Hp(Ae,We,ct);return(0,ye.x)(()=>{const{operator:Se,source:De}=this;me.add(Se?Se.call(me,De):De?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=ge(We))((ct,me)=>{const Se=new c.Hp({next:De=>{try{Ae(De)}catch(Ne){me(Ne),Se.unsubscribe()}},error:me,complete:ct});this.subscribe(Se)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,re.U)(Ae)(this)}toPromise(Ae){return new(Ae=ge(Ae))((We,ct)=>{let me;this.subscribe(Se=>me=Se,Se=>ct(Se),()=>We(me))})}}return X.create=je=>new X(je),X})();function ge(X){var je;return null!==(je=X??ae.v.Promise)&&void 0!==je?je:Promise}},7579:(_t,Ie,V)=>{V.d(Ie,{x:()=>ye});var c=V(9751),H=V(727);const re=(0,V(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=V(8737),te=V(2806);let ye=(()=>{class ge extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const X=new he(this,this);return X.operator=W,X}_throwIfClosed(){if(this.closed)throw new re}next(W){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(W)}})}error(W){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:X}=this;for(;X.length;)X.shift().error(W)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:X,isStopped:je,observers:Ae}=this;return X||je?H.Lc:(this.currentObservers=null,Ae.push(W),new H.w0(()=>{this.currentObservers=null,(0,ae.P)(Ae,W)}))}_checkFinalizedStatuses(W){const{hasError:X,thrownError:je,isStopped:Ae}=this;X?W.error(je):Ae&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return ge.create=(q,W)=>new he(q,W),ge})();class he extends ye{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,X;null===(X=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===X||X.call(W,q)}error(q){var W,X;null===(X=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===X||X.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,X;return null!==(X=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==X?X:H.Lc}}},930:(_t,Ie,V)=>{V.d(Ie,{Hp:()=>ct,Lv:()=>X});var c=V(576),H=V(727),P=V(2416),re=V(7849),ae=V(5032);const te=ge("C",void 0,void 0);function ge(Oe,Fe,Te){return{kind:Oe,value:Fe,error:Te}}var q=V(3410),W=V(2806);class X extends H.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,H.Nn)(Fe)&&Fe.add(this)):this.destination=Ne}static create(Fe,Te,Ze){return new ct(Fe,Te,Ze)}next(Fe){this.isStopped?De(function he(Oe){return ge("N",Oe,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?De(function ye(Oe){return ge("E",void 0,Oe)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?De(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ae(Oe,Fe){return je.call(Oe,Fe)}class We{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Fe)}catch(Ze){me(Ze)}}error(Fe){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Fe)}catch(Ze){me(Ze)}else me(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Te){me(Te)}}}class ct extends X{constructor(Fe,Te,Ze){let J;if(super(),(0,c.m)(Fe)||!Fe)J={next:Fe??void 0,error:Te??void 0,complete:Ze??void 0};else{let ce;this&&P.v.useDeprecatedNextContext?(ce=Object.create(Fe),ce.unsubscribe=()=>this.unsubscribe(),J={next:Fe.next&&Ae(Fe.next,ce),error:Fe.error&&Ae(Fe.error,ce),complete:Fe.complete&&Ae(Fe.complete,ce)}):J=Fe}this.destination=new We(J)}}function me(Oe){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Oe):(0,re.h)(Oe)}function De(Oe,Fe){const{onStoppedNotification:Te}=P.v;Te&&q.z.setTimeout(()=>Te(Oe,Fe))}const Ne={closed:!0,next:ae.Z,error:function Se(Oe){throw Oe},complete:ae.Z}},727:(_t,Ie,V)=>{V.d(Ie,{Lc:()=>te,w0:()=>ae,Nn:()=>ye});var c=V(576);const P=(0,V(3888).d)(ge=>function(W){ge(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var re=V(8737);class ae{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ae of W)Ae.remove(this);else W.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Ae){q=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ae of je)try{he(Ae)}catch(We){q=q??[],We instanceof P?q=[...q,...We.errors]:q.push(We)}}if(q)throw new P(q)}}add(q){var W;if(q&&q!==this)if(this.closed)he(q);else{if(q instanceof ae){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,re.P)(W,q)}remove(q){const{_finalizers:W}=this;W&&(0,re.P)(W,q),q instanceof ae&&q._removeParent(this)}}ae.EMPTY=(()=>{const ge=new ae;return ge.closed=!0,ge})();const te=ae.EMPTY;function ye(ge){return ge instanceof ae||ge&&"closed"in ge&&(0,c.m)(ge.remove)&&(0,c.m)(ge.add)&&(0,c.m)(ge.unsubscribe)}function he(ge){(0,c.m)(ge)?ge():ge.unsubscribe()}},2416:(_t,Ie,V)=>{V.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Ie,V)=>{V.d(Ie,{E:()=>H});const H=new(V(9751).y)(ae=>ae.complete())},8996:(_t,Ie,V)=>{V.d(Ie,{D:()=>Fe});var c=V(8421),H=V(5363),P=V(9468),te=V(9751),he=V(2202),ge=V(576),q=V(9672);function X(Te,Ze){if(!Te)throw new Error("Iterable cannot be null");return new te.y(J=>{(0,q.f)(J,Ze,()=>{const ce=Te[Symbol.asyncIterator]();(0,q.f)(J,Ze,()=>{ce.next().then(ve=>{ve.done?J.complete():J.next(ve.value)})},0,!0)})})}var je=V(3670),Ae=V(8239),We=V(1144),ct=V(6495),me=V(2206),Se=V(4532),De=V(3260);function Fe(Te,Ze){return Ze?function Oe(Te,Ze){if(null!=Te){if((0,je.c)(Te))return function re(Te,Ze){return(0,c.Xf)(Te).pipe((0,P.R)(Ze),(0,H.Q)(Ze))}(Te,Ze);if((0,We.z)(Te))return function ye(Te,Ze){return new te.y(J=>{let ce=0;return Ze.schedule(function(){ce===Te.length?J.complete():(J.next(Te[ce++]),J.closed||this.schedule())})})}(Te,Ze);if((0,Ae.t)(Te))return function ae(Te,Ze){return(0,c.Xf)(Te).pipe((0,P.R)(Ze),(0,H.Q)(Ze))}(Te,Ze);if((0,me.D)(Te))return X(Te,Ze);if((0,ct.T)(Te))return function W(Te,Ze){return new te.y(J=>{let ce;return(0,q.f)(J,Ze,()=>{ce=Te[he.h](),(0,q.f)(J,Ze,()=>{let ve,Ke;try{({value:ve,done:Ke}=ce.next())}catch(Ge){return void J.error(Ge)}Ke?J.complete():J.next(ve)},0,!0)}),()=>(0,ge.m)(ce?.return)&&ce.return()})}(Te,Ze);if((0,De.L)(Te))return function Ne(Te,Ze){return X((0,De.Q)(Te),Ze)}(Te,Ze)}throw(0,Se.z)(Te)}(Te,Ze):(0,c.Xf)(Te)}},8421:(_t,Ie,V)=>{V.d(Ie,{Xf:()=>je});var c=V(655),H=V(1144),P=V(8239),re=V(9751),ae=V(3670),te=V(2206),ye=V(4532),he=V(6495),ge=V(3260),q=V(576),W=V(7849),X=V(8822);function je(Oe){if(Oe instanceof re.y)return Oe;if(null!=Oe){if((0,ae.c)(Oe))return function Ae(Oe){return new re.y(Fe=>{const Te=Oe[X.L]();if((0,q.m)(Te.subscribe))return Te.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,H.z)(Oe))return function We(Oe){return new re.y(Fe=>{for(let Te=0;Te<Oe.length&&!Fe.closed;Te++)Fe.next(Oe[Te]);Fe.complete()})}(Oe);if((0,P.t)(Oe))return function ct(Oe){return new re.y(Fe=>{Oe.then(Te=>{Fe.closed||(Fe.next(Te),Fe.complete())},Te=>Fe.error(Te)).then(null,W.h)})}(Oe);if((0,te.D)(Oe))return Se(Oe);if((0,he.T)(Oe))return function me(Oe){return new re.y(Fe=>{for(const Te of Oe)if(Fe.next(Te),Fe.closed)return;Fe.complete()})}(Oe);if((0,ge.L)(Oe))return function De(Oe){return Se((0,ge.Q)(Oe))}(Oe)}throw(0,ye.z)(Oe)}function Se(Oe){return new re.y(Fe=>{(function Ne(Oe,Fe){var Te,Ze,J,ce;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Te=(0,c.KL)(Oe);!(Ze=yield Te.next()).done;)if(Fe.next(Ze.value),Fe.closed)return}catch(ve){J={error:ve}}finally{try{Ze&&!Ze.done&&(ce=Te.return)&&(yield ce.call(Te))}finally{if(J)throw J.error}}Fe.complete()})})(Oe,Fe).catch(Te=>Fe.error(Te))})}},6451:(_t,Ie,V)=>{V.d(Ie,{T:()=>te});var c=V(8189),H=V(8421),P=V(515),re=V(3269),ae=V(8996);function te(...ye){const he=(0,re.yG)(ye),ge=(0,re._6)(ye,1/0),q=ye;return q.length?1===q.length?(0,H.Xf)(q[0]):(0,c.J)(ge)((0,ae.D)(q,he)):P.E}},5403:(_t,Ie,V)=>{V.d(Ie,{x:()=>H});var c=V(930);function H(re,ae,te,ye,he){return new P(re,ae,te,ye,he)}class P extends c.Lv{constructor(ae,te,ye,he,ge,q){super(ae),this.onFinalize=ge,this.shouldUnsubscribe=q,this._next=te?function(W){try{te(W)}catch(X){ae.error(X)}}:super._next,this._error=he?function(W){try{he(W)}catch(X){ae.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(W){ae.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(_t,Ie,V)=>{V.d(Ie,{U:()=>P});var c=V(4482),H=V(5403);function P(re,ae){return(0,c.e)((te,ye)=>{let he=0;te.subscribe((0,H.x)(ye,ge=>{ye.next(re.call(ae,ge,he++))}))})}},8189:(_t,Ie,V)=>{V.d(Ie,{J:()=>P});var c=V(5577),H=V(4671);function P(re=1/0){return(0,c.z)(H.y,re)}},5577:(_t,Ie,V)=>{V.d(Ie,{z:()=>he});var c=V(4004),H=V(8421),P=V(4482),re=V(9672),ae=V(5403),ye=V(576);function he(ge,q,W=1/0){return(0,ye.m)(q)?he((X,je)=>(0,c.U)((Ae,We)=>q(X,Ae,je,We))((0,H.Xf)(ge(X,je))),W):("number"==typeof q&&(W=q),(0,P.e)((X,je)=>function te(ge,q,W,X,je,Ae,We,ct){const me=[];let Se=0,De=0,Ne=!1;const Oe=()=>{Ne&&!me.length&&!Se&&q.complete()},Fe=Ze=>Se<X?Te(Ze):me.push(Ze),Te=Ze=>{Ae&&q.next(Ze),Se++;let J=!1;(0,H.Xf)(W(Ze,De++)).subscribe((0,ae.x)(q,ce=>{je?.(ce),Ae?Fe(ce):q.next(ce)},()=>{J=!0},void 0,()=>{if(J)try{for(Se--;me.length&&Se<X;){const ce=me.shift();We?(0,re.f)(q,We,()=>Te(ce)):Te(ce)}Oe()}catch(ce){q.error(ce)}}))};return ge.subscribe((0,ae.x)(q,Fe,()=>{Ne=!0,Oe()})),()=>{ct?.()}}(X,je,ge,W)))}},5363:(_t,Ie,V)=>{V.d(Ie,{Q:()=>re});var c=V(9672),H=V(4482),P=V(5403);function re(ae,te=0){return(0,H.e)((ye,he)=>{ye.subscribe((0,P.x)(he,ge=>(0,c.f)(he,ae,()=>he.next(ge),te),()=>(0,c.f)(he,ae,()=>he.complete(),te),ge=>(0,c.f)(he,ae,()=>he.error(ge),te)))})}},3099:(_t,Ie,V)=>{V.d(Ie,{B:()=>ae});var c=V(8421),H=V(7579),P=V(930),re=V(4482);function ae(ye={}){const{connector:he=(()=>new H.x),resetOnError:ge=!0,resetOnComplete:q=!0,resetOnRefCountZero:W=!0}=ye;return X=>{let je,Ae,We,ct=0,me=!1,Se=!1;const De=()=>{Ae?.unsubscribe(),Ae=void 0},Ne=()=>{De(),je=We=void 0,me=Se=!1},Oe=()=>{const Fe=je;Ne(),Fe?.unsubscribe()};return(0,re.e)((Fe,Te)=>{ct++,!Se&&!me&&De();const Ze=We=We??he();Te.add(()=>{ct--,0===ct&&!Se&&!me&&(Ae=te(Oe,W))}),Ze.subscribe(Te),!je&&ct>0&&(je=new P.Hp({next:J=>Ze.next(J),error:J=>{Se=!0,De(),Ae=te(Ne,ge,J),Ze.error(J)},complete:()=>{me=!0,De(),Ae=te(Ne,q),Ze.complete()}}),(0,c.Xf)(Fe).subscribe(je))})(X)}}function te(ye,he,...ge){if(!0===he)return void ye();if(!1===he)return;const q=new P.Hp({next:()=>{q.unsubscribe(),ye()}});return(0,c.Xf)(he(...ge)).subscribe(q)}},9468:(_t,Ie,V)=>{V.d(Ie,{R:()=>H});var c=V(4482);function H(P,re=0){return(0,c.e)((ae,te)=>{te.add(P.schedule(()=>ae.subscribe(te),re))})}},8505:(_t,Ie,V)=>{V.d(Ie,{b:()=>ae});var c=V(576),H=V(4482),P=V(5403),re=V(4671);function ae(te,ye,he){const ge=(0,c.m)(te)||ye||he?{next:te,error:ye,complete:he}:te;return ge?(0,H.e)((q,W)=>{var X;null===(X=ge.subscribe)||void 0===X||X.call(ge);let je=!0;q.subscribe((0,P.x)(W,Ae=>{var We;null===(We=ge.next)||void 0===We||We.call(ge,Ae),W.next(Ae)},()=>{var Ae;je=!1,null===(Ae=ge.complete)||void 0===Ae||Ae.call(ge),W.complete()},Ae=>{var We;je=!1,null===(We=ge.error)||void 0===We||We.call(ge,Ae),W.error(Ae)},()=>{var Ae,We;je&&(null===(Ae=ge.unsubscribe)||void 0===Ae||Ae.call(ge)),null===(We=ge.finalize)||void 0===We||We.call(ge)}))}):re.y}},4408:(_t,Ie,V)=>{V.d(Ie,{o:()=>ae});var c=V(727);class H extends c.w0{constructor(ye,he){super()}schedule(ye,he=0){return this}}const P={setInterval(te,ye,...he){const{delegate:ge}=P;return ge?.setInterval?ge.setInterval(te,ye,...he):setInterval(te,ye,...he)},clearInterval(te){const{delegate:ye}=P;return(ye?.clearInterval||clearInterval)(te)},delegate:void 0};var re=V(8737);class ae extends H{constructor(ye,he){super(ye,he),this.scheduler=ye,this.work=he,this.pending=!1}schedule(ye,he=0){var ge;if(this.closed)return this;this.state=ye;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,he)),this.pending=!0,this.delay=he,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(W,this.id,he),this}requestAsyncId(ye,he,ge=0){return P.setInterval(ye.flush.bind(ye,this),ge)}recycleAsyncId(ye,he,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return he;null!=he&&P.clearInterval(he)}execute(ye,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ye,he);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,he){let q,ge=!1;try{this.work(ye)}catch(W){ge=!0,q=W||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ye,scheduler:he}=this,{actions:ge}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(ge,this),null!=ye&&(this.id=this.recycleAsyncId(he,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Ie,V)=>{V.d(Ie,{v:()=>P});var c=V(6063);class H{constructor(ae,te=H.now){this.schedulerActionCtor=ae,this.now=te}schedule(ae,te=0,ye){return new this.schedulerActionCtor(this,ae).schedule(ye,te)}}H.now=c.l.now;class P extends H{constructor(ae,te=H.now){super(ae,te),this.actions=[],this._active=!1}flush(ae){const{actions:te}=this;if(this._active)return void te.push(ae);let ye;this._active=!0;do{if(ye=ae.execute(ae.state,ae.delay))break}while(ae=te.shift());if(this._active=!1,ye){for(;ae=te.shift();)ae.unsubscribe();throw ye}}}},4986:(_t,Ie,V)=>{V.d(Ie,{P:()=>re,z:()=>P});var c=V(4408);const P=new(V(7565).v)(c.o),re=P},6063:(_t,Ie,V)=>{V.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(_t,Ie,V)=>{V.d(Ie,{z:()=>c});const c={setTimeout(H,P,...re){const{delegate:ae}=c;return ae?.setTimeout?ae.setTimeout(H,P,...re):setTimeout(H,P,...re)},clearTimeout(H){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(_t,Ie,V)=>{V.d(Ie,{h:()=>H});const H=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Ie,V)=>{V.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Ie,V)=>{V.d(Ie,{_6:()=>te,jO:()=>re,yG:()=>ae});var c=V(576),H=V(3532);function P(ye){return ye[ye.length-1]}function re(ye){return(0,c.m)(P(ye))?ye.pop():void 0}function ae(ye){return(0,H.K)(P(ye))?ye.pop():void 0}function te(ye,he){return"number"==typeof P(ye)?ye.pop():he}},8737:(_t,Ie,V)=>{function c(H,P){if(H){const re=H.indexOf(P);0<=re&&H.splice(re,1)}}V.d(Ie,{P:()=>c})},3888:(_t,Ie,V)=>{function c(H){const re=H(ae=>{Error.call(ae),ae.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}V.d(Ie,{d:()=>c})},2806:(_t,Ie,V)=>{V.d(Ie,{O:()=>re,x:()=>P});var c=V(2416);let H=null;function P(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const te=!H;if(te&&(H={errorThrown:!1,error:null}),ae(),te){const{errorThrown:ye,error:he}=H;if(H=null,ye)throw he}}else ae()}function re(ae){c.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=ae)}},9672:(_t,Ie,V)=>{function c(H,P,re,ae=0,te=!1){const ye=P.schedule(function(){re(),te?H.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(H.add(ye),!te)return ye}V.d(Ie,{f:()=>c})},4671:(_t,Ie,V)=>{function c(H){return H}V.d(Ie,{y:()=>c})},1144:(_t,Ie,V)=>{V.d(Ie,{z:()=>c});const c=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(_t,Ie,V)=>{V.d(Ie,{D:()=>H});var c=V(576);function H(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(_t,Ie,V)=>{function c(H){return"function"==typeof H}V.d(Ie,{m:()=>c})},3670:(_t,Ie,V)=>{V.d(Ie,{c:()=>P});var c=V(8822),H=V(576);function P(re){return(0,H.m)(re[c.L])}},6495:(_t,Ie,V)=>{V.d(Ie,{T:()=>P});var c=V(2202),H=V(576);function P(re){return(0,H.m)(re?.[c.h])}},8239:(_t,Ie,V)=>{V.d(Ie,{t:()=>H});var c=V(576);function H(P){return(0,c.m)(P?.then)}},3260:(_t,Ie,V)=>{V.d(Ie,{L:()=>re,Q:()=>P});var c=V(655),H=V(576);function P(ae){return(0,c.FC)(this,arguments,function*(){const ye=ae.getReader();try{for(;;){const{value:he,done:ge}=yield(0,c.qq)(ye.read());if(ge)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{ye.releaseLock()}})}function re(ae){return(0,H.m)(ae?.getReader)}},3532:(_t,Ie,V)=>{V.d(Ie,{K:()=>H});var c=V(576);function H(P){return P&&(0,c.m)(P.schedule)}},4482:(_t,Ie,V)=>{V.d(Ie,{A:()=>H,e:()=>P});var c=V(576);function H(re){return(0,c.m)(re?.lift)}function P(re){return ae=>{if(H(ae))return ae.lift(function(te){try{return re(te,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Ie,V)=>{function c(){}V.d(Ie,{Z:()=>c})},9635:(_t,Ie,V)=>{V.d(Ie,{U:()=>P,z:()=>H});var c=V(4671);function H(...re){return P(re)}function P(re){return 0===re.length?c.y:1===re.length?re[0]:function(te){return re.reduce((ye,he)=>he(ye),te)}}},7849:(_t,Ie,V)=>{V.d(Ie,{h:()=>P});var c=V(2416),H=V(3410);function P(re){H.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw re;ae(re)})}},4532:(_t,Ie,V)=>{function c(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ie,{z:()=>c})},655:(_t,Ie,V)=>{function re(le,pe){var be={};for(var ke in le)Object.prototype.hasOwnProperty.call(le,ke)&&pe.indexOf(ke)<0&&(be[ke]=le[ke]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ke=Object.getOwnPropertySymbols(le);Ue<ke.length;Ue++)pe.indexOf(ke[Ue])<0&&Object.prototype.propertyIsEnumerable.call(le,ke[Ue])&&(be[ke[Ue]]=le[ke[Ue]])}return be}function X(le,pe,be,ke){return new(be||(be=Promise))(function(Be,it){function Xe(yt){try{Dt(ke.next(yt))}catch(rt){it(rt)}}function pn(yt){try{Dt(ke.throw(yt))}catch(rt){it(rt)}}function Dt(yt){yt.done?Be(yt.value):function Ue(Be){return Be instanceof be?Be:new be(function(it){it(Be)})}(yt.value).then(Xe,pn)}Dt((ke=ke.apply(le,pe||[])).next())})}function Oe(le){return this instanceof Oe?(this.v=le,this):new Oe(le)}function Fe(le,pe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ke=be.apply(le,pe||[]),Be=[];return Ue={},it("next"),it("throw"),it("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function it(un){ke[un]&&(Ue[un]=function(zn){return new Promise(function(vn,gn){Be.push([un,zn,vn,gn])>1||Xe(un,zn)})})}function Xe(un,zn){try{!function pn(un){un.value instanceof Oe?Promise.resolve(un.value.v).then(Dt,yt):rt(Be[0][2],un)}(ke[un](zn))}catch(vn){rt(Be[0][3],vn)}}function Dt(un){Xe("next",un)}function yt(un){Xe("throw",un)}function rt(un,zn){un(zn),Be.shift(),Be.length&&Xe(Be[0][0],Be[0][1])}}function Ze(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,pe=le[Symbol.asyncIterator];return pe?pe.call(le):(le=function ct(le){var pe="function"==typeof Symbol&&Symbol.iterator,be=pe&&le[pe],ke=0;if(be)return be.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ke>=le.length&&(le=void 0),{value:le&&le[ke++],done:!le}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),be={},ke("next"),ke("throw"),ke("return"),be[Symbol.asyncIterator]=function(){return this},be);function ke(Be){be[Be]=le[Be]&&function(it){return new Promise(function(Xe,pn){!function Ue(Be,it,Xe,pn){Promise.resolve(pn).then(function(Dt){Be({value:Dt,done:Xe})},it)}(Xe,pn,(it=le[Be](it)).done,it.value)})}}}V.d(Ie,{FC:()=>Fe,KL:()=>Ze,_T:()=>re,mG:()=>X,qq:()=>Oe})},4650:(_t,Ie,V)=>{V.d(Ie,{$8M:()=>zo,$WT:()=>tr,$Z:()=>qw,AFp:()=>bC,AaK:()=>he,BQk:()=>Rg,CHM:()=>ku,CRH:()=>Jy,CZH:()=>kd,CqO:()=>CE,D6c:()=>VA,EJc:()=>fA,EpF:()=>wE,F$t:()=>ME,F4k:()=>EE,FYo:()=>P_,FiY:()=>Us,Gf:()=>Ef,GfV:()=>Iw,Gpc:()=>W,Hsn:()=>xE,Ikx:()=>bd,JOm:()=>po,Jzz:()=>Sy,KtG:()=>lh,LFG:()=>He,Lbi:()=>wk,Lck:()=>Vy,MMx:()=>Td,MR2:()=>xR,NdJ:()=>my,OlP:()=>An,Oqu:()=>Lr,P3R:()=>mw,PXZ:()=>bv,Q6J:()=>fy,QGY:()=>gy,QbO:()=>wC,Qsj:()=>GI,R0b:()=>ws,RDi:()=>aw,Rgc:()=>kl,SBq:()=>Lh,Sil:()=>pA,Suo:()=>Xy,TTD:()=>Xs,TgZ:()=>Mg,Udp:()=>ef,VKq:()=>FT,X6Q:()=>TA,XFs:()=>at,Xpm:()=>$i,Xts:()=>ad,Y36:()=>Oa,YKP:()=>Ly,YNc:()=>yE,Yjl:()=>Yl,Yz7:()=>rt,Z0I:()=>gn,ZZ4:()=>Mv,_Bn:()=>Fy,_UZ:()=>vE,_Vd:()=>Fh,_c5:()=>Rv,_uU:()=>WE,aQg:()=>OC,c2e:()=>EC,cJS:()=>zn,cg1:()=>df,dDg:()=>EA,dqk:()=>Ut,eFA:()=>SA,eJc:()=>Df,ekj:()=>bo,eoX:()=>kf,f3M:()=>st,g9A:()=>dA,h0i:()=>Ol,hGG:()=>RC,hij:()=>sf,iGM:()=>xd,ifc:()=>k,ip1:()=>dv,jDz:()=>zy,kL8:()=>l0,lG2:()=>Kl,lqb:()=>xa,lri:()=>wA,n5z:()=>Da,oAB:()=>ja,oxw:()=>AE,q4F:()=>Sw,qLn:()=>Wo,qOj:()=>Zh,qZA:()=>xg,rWj:()=>CC,sBO:()=>Rk,s_b:()=>um,soG:()=>Tf,tBr:()=>Ta,tb:()=>DC,tp0:()=>I,uIk:()=>ly,vHH:()=>me,vpe:()=>ns,wAp:()=>Rt,xp6:()=>dg,ynx:()=>Og,z2F:()=>_m,zSh:()=>ng,zs3:()=>Hc});var c=V(7579),H=V(727),P=V(9751),re=V(6451),ae=V(3099);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function ye(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=te({__forward_ref__:te});function W(s){return s.__forward_ref__=W,s.toString=function(){return he(this())},s}function X(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===W}function Ae(s){return s&&!!s.\u0275providers}const ct="https://g.co/ng/security#xss";class me extends Error{constructor(o,l){super(Se(o,l)),this.code=o}}function Se(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function De(s){return"string"==typeof s?s:null==s?"":String(s)}function Ze(s,o){throw new me(-201,!1)}function it(s,o){null==s&&function Xe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function rt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function zn(s){return{providers:s.providers||[],imports:s.imports||[]}}function vn(s){return li(s,cr)||li(s,Sn)}function gn(s){return null!==vn(s)}function li(s,o){return s.hasOwnProperty(o)?s[o]:null}function jn(s){return s&&(s.hasOwnProperty(ur)||s.hasOwnProperty(gi))?s[ur]:null}const cr=te({\u0275prov:te}),ur=te({\u0275inj:te}),Sn=te({ngInjectableDef:te}),gi=te({ngInjectorDef:te});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let wi;function Xn(s){const o=wi;return wi=s,o}function Hn(s,o,l){const d=vn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&at.Optional?null:void 0!==o?o:void Ze(he(s))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fn={},Jn="__NG_DI_FLAG__",Ci="ngTempTokenPath",ci="ngTokenPath",Tr=/\n/gm,Gt="\u0275",Ar="__source";let Qt;function Hi(s){const o=Qt;return Qt=s,o}function $n(s,o=at.Default){if(void 0===Qt)throw new me(-203,!1);return null===Qt?Hn(s,void 0,o):Qt.get(s,o&at.Optional?null:void 0,o)}function He(s,o=at.Default){return(function Ei(){return wi}()||$n)(X(s),o)}function st(s,o=at.Default){return He(s,It(o))}function It(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Pt(s){const o=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new me(900,!1);let h,p=at.Default;for(let y=0;y<d.length;y++){const E=d[y],C=Gn(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}o.push(He(h,p))}else o.push(He(d))}return o}function sn(s,o){return s[Jn]=o,s.prototype[Jn]=o,s}function Gn(s){return s[Jn]}function N(s){return{toString:s}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),k=(()=>{return(s=k||(k={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",k;var s})();const ee={},ue=[],lt=te({\u0275cmp:te}),xt=te({\u0275dir:te}),Nt=te({\u0275pipe:te}),rn=te({\u0275mod:te}),Ot=te({\u0275fac:te}),Tn=te({__NG_ELEMENT_ID__:te});let Zt=0;function $i(s){return N(()=>{const o=Si(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||k.Emulated,id:"c"+Zt++,styles:s.styles||ue,_:null,schemas:s.schemas||null,tView:null};Ha(l);const d=s.dependencies;return l.directiveDefs=As(d,!1),l.pipeDefs=As(d,!0),l})}function za(s){return hn(s)||Zn(s)}function Wl(s){return null!==s}function ja(s){return N(()=>({type:s.type,bootstrap:s.bootstrap||ue,declarations:s.declarations||ue,imports:s.imports||ue,exports:s.exports||ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ia(s,o){if(null==s)return ee;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}function Kl(s){return N(()=>{const o=Si(s);return Ha(o),o})}function Yl(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function hn(s){return s[lt]||null}function Zn(s){return s[xt]||null}function Ii(s){return s[Nt]||null}function tr(s){const o=hn(s)||Zn(s)||Ii(s);return null!==o&&o.standalone}function Gi(s,o){const l=s[rn]||null;if(!l&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return l}function Si(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||ue,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ia(s.inputs,o),outputs:ia(s.outputs)}}function Ha(s){s.features?.forEach(o=>o(s))}function As(s,o){if(!s)return null;const l=o?Ii:za;return()=>("function"==typeof s?s():s).map(d=>l(d)).filter(Wl)}const $r=0,Je=1,qt=2,Cn=3,Zi=4,ls=5,qn=6,cs=7,Ln=8,Gr=9,Ql=10,$t=11,$a=12,Ms=13,ra=14,Ys=15,Pi=16,xs=17,Zr=18,ei=19,Ao=20,oh=21,jt=22,sa=1,Su=2,us=7,qr=8,Os=9,Ni=10;function Fi(s){return Array.isArray(s)&&"object"==typeof s[sa]}function mi(s){return Array.isArray(s)&&!0===s[sa]}function Xl(s){return 0!=(4&s.flags)}function Ga(s){return s.componentOffset>-1}function Wr(s){return 1==(1&s.flags)}function Kr(s){return!!s.template}function oa(s){return 0!=(256&s[qt])}function hr(s,o){return s.hasOwnProperty(Ot)?s[Ot]:null}class qa{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Xs(){return la}function la(s){return s.type.prototype.ngOnChanges&&(s.setInput=ca),Js}function Js(){const s=ua(this),o=s?.current;if(o){const l=s.previous;if(l===ee)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function ca(s,o,l,d){const h=this.declaredInputs[l],p=ua(s)||function Jl(s,o){return s[Wa]=o}(s,{previous:ee,current:null}),y=p.current||(p.current={}),E=p.previous,C=E[h];y[h]=new qa(C&&C.currentValue,o,E===ee),s[d]=o}Xs.ngInherit=!0;const Wa="__ngSimpleChanges__";function ua(s){return s[Wa]||null}const mn=function(s,o,l){};function Vn(s){for(;Array.isArray(s);)s=s[$r];return s}function ks(s,o){return Vn(o[s])}function _i(s,o){return Vn(o[s.index])}function ha(s,o){return s.data[o]}function Ti(s,o){const l=o[s];return Fi(l)?l:l[$r]}function eo(s){return 64==(64&s[qt])}function Mr(s,o){return null==o?null:s[o]}function Ka(s){s[Zr]=0}function fa(s,o){s[ls]+=o;let l=s,d=s[Cn];for(;null!==d&&(1===o&&1===l[ls]||-1===o&&0===l[ls]);)d[ls]+=o,l=d,d=d[Cn]}const Bt={lFrame:Cp(null),bindingsEnabled:!0};function Ru(){return Bt.bindingsEnabled}function Re(){return Bt.lFrame.lView}function cn(){return Bt.lFrame.tView}function ku(s){return Bt.lFrame.contextLView=s,s[Ln]}function lh(s){return Bt.lFrame.contextLView=null,s}function Wn(){let s=ch();for(;null!==s&&64===s.type;)s=s.parent;return s}function ch(){return Bt.lFrame.currentTNode}function xr(s,o){const l=Bt.lFrame;l.currentTNode=s,l.isParent=o}function Qa(){return Bt.lFrame.isParent}function Xa(){Bt.lFrame.isParent=!1}function to(){return Bt.lFrame.bindingIndex++}function Qr(s){const o=Bt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function dc(s,o){const l=Bt.lFrame;l.bindingIndex=l.bindingRootIndex=s,hs(o)}function hs(s){Bt.lFrame.currentDirectiveIndex=s}function Nu(){return Bt.lFrame.currentQueryIndex}function tl(s){Bt.lFrame.currentQueryIndex=s}function Ep(s){const o=s[Je];return 2===o.type?o.declTNode:1===o.type?s[qn]:null}function fc(s,o,l){if(l&at.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&at.Host||(h=Ep(p),null===h||(p=p[Ys],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Bt.lFrame=i_();return d.currentTNode=o,d.lView=s,!0}function Fu(s){const o=i_(),l=s[Je];Bt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function i_(){const s=Bt.lFrame,o=null===s?null:s.child;return null===o?Cp(s):o}function Cp(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function pc(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const r_=pc;function dh(){const s=pc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qi(){return Bt.lFrame.selectedIndex}function Ns(s){Bt.lFrame.selectedIndex=s}function bn(){const s=Bt.lFrame;return ha(s.tView,s.selectedIndex)}function gc(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),T&&((s.viewHooks||(s.viewHooks=[])).push(l,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,T)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function ga(s,o,l){Or(s,o,3,l)}function Po(s,o,l,d){(3&s[qt])===l&&Or(s,o,l,d)}function ma(s,o){let l=s[qt];(3&l)===o&&(l&=2047,l+=1,s[qt]=l)}function Or(s,o,l,d){const p=d??-1,y=o.length-1;let E=0;for(let C=void 0!==d?65535&s[Zr]:0;C<y;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=d&&E>=d)break}else o[C]<0&&(s[Zr]+=65536),(E<p||-1==p)&&(Vu(s,l,o,C),s[Zr]=(4294901760&s[Zr])+C+2),C++}function Vu(s,o,l,d){const h=l[d]<0,p=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[qt]>>11<s[Zr]>>16&&(3&s[qt])===o){s[qt]+=2048,mn(4,E,p);try{p.call(E)}finally{mn(5,E,p)}}}else{mn(4,E,p);try{p.call(E)}finally{mn(5,E,p)}}}const Rr=-1;class _a{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function No(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const p=l[d++],y=l[d++],E=l[d++];s.setAttribute(o,y,E,p)}else{const p=h,y=l[++d];Fo(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function On(s){return 3===s||4===s||6===s}function Fo(s){return 64===s.charCodeAt(0)}function Xr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||ba(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function ba(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function wa(s){return s!==Rr}function rl(s){return 32767&s}function no(s,o){let l=function fh(s){return s>>16}(s),d=o;for(;l>0;)d=d[Ys],l--;return d}let sl=!0;function fs(s){const o=sl;return sl=s,o}const ps=255,Lo=5;let Vo=0;const Wi={};function io(s,o){const l=Bo(s,o);if(-1!==l)return l;const d=o[Je];d.firstCreatePass&&(s.injectorIndex=o.length,Uo(d.data,s),Uo(o,null),Uo(d.blueprint,null));const h=ro(s,o),p=s.injectorIndex;if(wa(h)){const y=rl(h),E=no(h,o),C=E[Je].data;for(let T=0;T<8;T++)o[p+T]=E[y+T]|C[y+T]}return o[p+8]=h,p}function Uo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Bo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ro(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=ju(h),null===d)return Rr;if(l++,h=h[Ys],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Rr}function Ea(s,o,l){!function ol(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Tn)&&(d=l[Tn]),null==d&&(d=l[Tn]=Vo++);const h=d&ps;o.data[s+(h>>Lo)]|=1<<h}(s,o,l)}function al(s,o,l){if(l&at.Optional||void 0!==s)return s;Ze()}function yc(s,o,l,d){if(l&at.Optional&&void 0===d&&(d=null),!(l&(at.Self|at.Host))){const h=s[Gr],p=Xn(void 0);try{return h?h.get(o,d,l&at.Optional):Hn(o,d,l&at.Optional)}finally{Xn(p)}}return al(d,0,l)}function ll(s,o,l,d=at.Default,h){if(null!==s){if(1024&o[qt]){const y=function zu(s,o,l,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[qt]&&!(256&y[qt]);){const E=Bu(p,y,l,d|at.Self,Wi);if(E!==Wi)return E;let C=p.parent;if(!C){const T=y[oh];if(T){const R=T.get(l,Wi,d);if(R!==Wi)return R}C=ju(y),y=y[Ys]}p=C}return h}(s,o,l,d,Wi);if(y!==Wi)return y}const p=Bu(s,o,l,d,Wi);if(p!==Wi)return p}return yc(o,l,d,h)}function Bu(s,o,l,d,h){const p=function Ca(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Tn)?s[Tn]:void 0;return"number"==typeof o?o>=0?o&ps:bc:o}(l);if("function"==typeof p){if(!fc(o,s,d))return d&at.Host?al(h,0,d):yc(o,l,d,h);try{const y=p(d);if(null!=y||d&at.Optional)return y;Ze()}finally{r_()}}else if("number"==typeof p){let y=null,E=Bo(s,o),C=Rr,T=d&at.Host?o[Pi][qn]:null;for((-1===E||d&at.SkipSelf)&&(C=-1===E?ro(s,o):o[E+8],C!==Rr&&ul(d,!1)?(y=o[Je],E=rl(C),o=no(C,o)):E=-1);-1!==E;){const R=o[Je];if(vc(p,E,R.data)){const U=kr(E,o,l,y,d,T);if(U!==Wi)return U}C=o[E+8],C!==Rr&&ul(d,o[Je].data[E+8]===T)&&vc(p,E,o)?(y=R,E=rl(C),o=no(C,o)):E=-1}}return h}function kr(s,o,l,d,h,p){const y=o[Je],E=y.data[s+8],R=cl(E,y,l,null==d?Ga(E)&&sl:d!=y&&0!=(3&E.type),h&at.Host&&p===E);return null!==R?gs(o,y,R,E):Wi}function cl(s,o,l,d,h){const p=s.providerIndexes,y=o.data,E=1048575&p,C=s.directiveStart,R=p>>20,Y=h?E+R:s.directiveEnd;for(let se=d?E:E+R;se<Y;se++){const we=y[se];if(se<C&&l===we||se>=C&&we.type===l)return se}if(h){const se=y[C];if(se&&Kr(se)&&se.type===l)return C}return null}function gs(s,o,l,d){let h=s[l];const p=o.data;if(function Uu(s){return s instanceof _a}(h)){const y=h;y.resolving&&function Oe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new me(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():De(s)}(p[l]));const E=fs(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Xn(y.injectImpl):null;fc(s,d,at.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function hh(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=la(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==C&&Xn(C),fs(E),y.resolving=!1,r_()}}return h}function vc(s,o,l){return!!(l[o+(s>>Lo)]&1<<s)}function ul(s,o){return!(s&at.Self||s&at.Host&&o)}class Ki{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return ll(this._tNode,this._lView,o,It(d),l)}}function bc(){return new Ki(Wn(),Re())}function Da(s){return N(()=>{const o=s.prototype.constructor,l=o[Ot]||wc(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Ot]||wc(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function wc(s){return je(s)?()=>{const o=wc(X(s));return o&&o()}:hr(s)}function ju(s){const o=s[Je],l=o.type;return 2===l?o.declTNode:1===l?s[qn]:null}function zo(s){return function gh(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(On(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(Wn(),s)}const oo="__parameters__";function ao(s,o,l){return N(()=>{const d=function Hu(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(C,T,R){const U=C.hasOwnProperty(oo)?C[oo]:Object.defineProperty(C,oo,{value:[]})[oo];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class An{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ls(s,o){s.forEach(l=>Array.isArray(l)?Ls(l,o):o(l))}function Ic(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function co(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function uo(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function At(s,o,l){let d=Rn(s,o);return d>=0?s[1|d]=l:(d=~d,function Wu(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function fn(s,o){const l=Rn(s,o);if(l>=0)return s[1|l]}function Rn(s,o){return function Sc(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const Ta=sn(ao("Inject",s=>({token:s})),-1),Us=sn(ao("Optional"),8),I=sn(ao("SkipSelf"),4);var po=(()=>((po=po||{})[po.Important=1]="Important",po[po.DashCase=2]="DashCase",po))();const js=new Map;let vi=0;const wh="__ngContext__";function ni(s,o){Fi(o)?(s[wh]=o[Ao],function bh(s){js.set(s[Ao],s)}(o)):s[wh]=o}let ed;function b(s,o){return ed(s,o)}function m(s){const o=s[Cn];return mi(o)?o[Cn]:o}function L(s){return xe(s[Ms])}function ie(s){return xe(s[Zi])}function xe(s){for(;null!==s&&!mi(s);)s=s[Zi];return s}function Qe(s,o,l,d,h){if(null!=d){let p,y=!1;mi(d)?p=d:Fi(d)&&(y=!0,d=d[$r]);const E=Vn(d);0===s&&null!==l?null==h?Jb(o,l,E):gl(o,l,E,h||null,!0):1===s&&null!==l?gl(o,l,E,h||null,!0):2===s?function rw(s,o,l){const d=$p(s,o);d&&function ew(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function DI(s,o,l,d,h){const p=l[us];p!==Vn(l)&&Qe(o,s,d,p,h);for(let E=Ni;E<l.length;E++){const C=l[E];Th(C[Je],C,s,o,d,p)}}(o,s,p,l,h)}}function _s(s,o,l){return s.createElement(o,l)}function xc(s,o){const l=s[Os],d=l.indexOf(o),h=o[Cn];512&o[qt]&&(o[qt]&=-513,fa(h,-1)),l.splice(d,1)}function td(s,o){if(s.length<=Ni)return;const l=Ni+o,d=s[l];if(d){const h=d[xs];null!==h&&h!==s&&xc(h,d),o>0&&(s[l-1][Zi]=d[Zi]);const p=co(s,Ni+o);!function Aa(s,o){Th(s,o,o[$t],2,null,null),o[$r]=null,o[qn]=null}(d[Je],d);const y=p[ei];null!==y&&y.detachView(p[Je]),d[Cn]=null,d[Zi]=null,d[qt]&=-65}return d}function Bp(s,o){if(!(128&o[qt])){const l=o[$t];l.destroyNode&&Th(s,o,l,3,null,null),function Lp(s){let o=s[Ms];if(!o)return Oc(s[Je],s);for(;o;){let l=null;if(Fi(o))l=o[Ms];else{const d=o[Ni];d&&(l=d)}if(!l){for(;o&&!o[Zi]&&o!==s;)Fi(o)&&Oc(o[Je],o),o=o[Cn];null===o&&(o=s),Fi(o)&&Oc(o[Je],o),l=o&&o[Zi]}o=l}}(o)}}function Oc(s,o){if(!(128&o[qt])){o[qt]&=-65,o[qt]|=128,function jp(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof _a)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],C=p[y+1];mn(4,E,C);try{C.call(E)}finally{mn(5,E,C)}}else{mn(4,h,p);try{p.call(h)}finally{mn(5,h,p)}}}}}(s,o),function zp(s,o){const l=s.cleanup,d=o[cs];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[cs]=null}}(s,o),1===o[Je].type&&o[$t].destroy();const l=o[xs];if(null!==l&&mi(o[Cn])){l!==o[Cn]&&xc(l,o);const d=o[ei];null!==d&&d.detachView(s)}!function Xb(s){js.delete(s[Ao])}(o)}}function pl(s,o,l){return function Hp(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[$r];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===k.None||p===k.Emulated)return null}return _i(d,l)}}(s,o.parent,l)}function gl(s,o,l,d,h){s.insertBefore(o,l,d,h)}function Jb(s,o,l){s.appendChild(o,l)}function y_(s,o,l,d,h){null!==d?gl(s,o,l,d,h):Jb(s,o,l)}function $p(s,o){return s.parentNode(o)}function ui(s,o,l){return tw(s,o,l)}let nw,id,Hs,tw=function Rc(s,o,l){return 40&s.type?_i(s,l):null};function Gp(s,o,l,d){const h=pl(s,d,o),p=o[$t],E=ui(d.parent||o[qn],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)y_(p,h,l[C],E,!1);else y_(p,h,l,E,!1);void 0!==nw&&nw(p,d,o,l,h)}function b_(s,o){if(null!==o){const l=o.type;if(3&l)return _i(o,s);if(4&l)return iw(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return b_(s,d);{const h=s[o.index];return mi(h)?iw(-1,h):Vn(h)}}if(32&l)return b(o,s)()||Vn(s[o.index]);{const d=EI(s,o);return null!==d?Array.isArray(d)?d[0]:b_(m(s[Pi]),d):b_(s,o.next)}}return null}function EI(s,o){return null!==o?s[Pi][qn].projection[o.projection]:null}function iw(s,o){const l=Ni+s+1;if(l<o.length){const d=o[l],h=d[Je].firstChild;if(null!==h)return b_(d,h)}return o[us]}function sw(s,o,l,d,h,p,y){for(;null!=l;){const E=d[l.index],C=l.type;if(y&&0===o&&(E&&ni(Vn(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)sw(s,o,l.child,d,h,p,!1),Qe(o,s,h,E,p);else if(32&C){const T=b(l,d);let R;for(;R=T();)Qe(o,s,h,R,p);Qe(o,s,h,E,p)}else 16&C?CI(s,o,d,l,h,p):Qe(o,s,h,E,p);l=y?l.projectionNext:l.next}}function Th(s,o,l,d,h,p){sw(l,d,s.firstChild,o,h,p,!1)}function CI(s,o,l,d,h,p){const y=l[Pi],C=y[qn].projection[d.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Qe(o,s,h,C[T],p);else sw(s,o,C,y[Cn],h,p,!0)}function ow(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Mh(s,o,l){const{mergedAttrs:d,classes:h,styles:p}=l;null!==d&&No(s,o,d),null!==h&&ow(s,o,h),null!==p&&function Ah(s,o,l){s.setAttribute(o,"style",l)}(s,o,p)}function aw(s){id=s}function qp(s){return function Qi(){if(void 0===Hs&&(Hs=null,Ut.trustedTypes))try{Hs=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hs}()?.createScriptURL(s)||s}class C_{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function _l(s){return s instanceof C_?s.changingThisBreaksApplicationSecurity:s}function Zo(s,o){const l=function AI(s){return s instanceof C_&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${ct})`)}return l===o}const kI=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ri=(()=>((ri=ri||{})[ri.NONE=0]="NONE",ri[ri.HTML=1]="HTML",ri[ri.STYLE=2]="STYLE",ri[ri.SCRIPT=3]="SCRIPT",ri[ri.URL=4]="URL",ri[ri.RESOURCE_URL=5]="RESOURCE_URL",ri))();function pw(s){const o=Fc();return o?o.sanitize(ri.URL,s)||"":Zo(s,"URL")?_l(s):function Kp(s){return(s=String(s)).match(kI)?s:"unsafe:"+s}(De(s))}function gw(s){const o=Fc();if(o)return qp(o.sanitize(ri.RESOURCE_URL,s)||"");if(Zo(s,"ResourceURL"))return qp(_l(s));throw new me(904,!1)}function mw(s,o,l){return function VI(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?gw:pw}(o,l)(s)}function Fc(){const s=Re();return s&&s[$a]}const ad=new An("ENVIRONMENT_INITIALIZER"),_w=new An("INJECTOR",-1),vl=new An("INJECTOR_DEF_TYPES");class Jp{get(o,l=Fn){if(l===Fn){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return l}}function xR(s){return{\u0275providers:s}}function yw(...s){return{\u0275providers:O_(0,s),\u0275fromNgModule:!0}}function O_(s,...o){const l=[],d=new Set;let h;return Ls(o,p=>{const y=p;Lc(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&vw(h,l),l}function vw(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];bl(h,p=>{o.push(p)})}}function Lc(s,o,l,d){if(!(s=X(s)))return!1;let h=null,p=jn(s);const y=!p&&hn(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const C=s.ngModule;if(p=jn(C),!p)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of C)Lc(T,o,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;d.add(h);try{Ls(p.imports,R=>{Lc(R,o,l,d)&&(T||(T=[]),T.push(R))})}finally{}void 0!==T&&vw(T,o)}if(!E){const T=hr(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:ue},{provide:vl,useValue:h,multi:!0},{provide:ad,useValue:()=>He(h),multi:!0})}const C=p.providers;null==C||E||bl(C,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}function bl(s,o){for(let l of s)Ae(l)&&(l=l.\u0275providers),Array.isArray(l)?bl(l,o):o(l)}const bw=te({provide:String,useValue:te});function tg(s){return null!==s&&"object"==typeof s&&bw in s}function Uc(s){return"function"==typeof s}const ng=new An("Set Injector scope."),ig={},k_={};let wl;function rg(){return void 0===wl&&(wl=new Jp),wl}class xa{}class ww extends xa{get destroyed(){return this._destroyed}constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nh(o,y=>this.processProvider(y)),this.records.set(_w,El(void 0,this)),h.has("environment")&&this.records.set(xa,El(void 0,this));const p=this.records.get(ng);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(vl.multi,ue,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Hi(this),d=Xn(void 0);try{return o()}finally{Hi(l),Xn(d)}}get(o,l=Fn,d=at.Default){this.assertNotDestroyed(),d=It(d);const h=Hi(this),p=Xn(void 0);try{if(!(d&at.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function ag(s){return"function"==typeof s||"object"==typeof s&&s instanceof An}(o)&&vn(o);E=C&&this.injectableDefInScope(C)?El(sg(o),ig):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&at.Self?rg():this.parent).get(o,l=d&at.Optional&&l===Fn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Ci]=y[Ci]||[]).unshift(he(o)),h)throw y;return function G(s,o,l,d){const h=s[Ci];throw o[Ar]&&h.unshift(o[Ar]),s.message=function $(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Gt?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Tr,"\n  ")}`}("\n"+s.message,h,l,d),s[ci]=h,s[Ci]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Xn(p),Hi(h)}}resolveInjectorInitializers(){const o=Hi(this),l=Xn(void 0);try{const d=this.get(ad.multi,ue,at.Self);for(const h of d)h()}finally{Hi(o),Xn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(he(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(o){let l=Uc(o=X(o))?o:X(o&&o.provide);const d=function Ph(s){return tg(s)?El(void 0,s.useValue):El(go(s),ig)}(o);if(Uc(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=El(void 0,ig,!0),h.factory=()=>Pt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===ig&&(l.value=k_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function og(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=X(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function sg(s){const o=vn(s),l=null!==o?o.factory:hr(s);if(null!==l)return l;if(s instanceof An)throw new me(204,!1);if(s instanceof Function)return function Ew(s){const o=s.length;if(o>0)throw uo(o,"?"),new me(204,!1);const l=function ji(s){const o=s&&(s[cr]||s[Sn]);return o?(function Hr(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new me(204,!1)}function go(s,o,l){let d;if(Uc(s)){const h=X(s);return hr(h)||sg(h)}if(tg(s))d=()=>X(s.useValue);else if(function Vc(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Pt(s.deps||[]));else if(function R_(s){return!(!s||!s.useExisting)}(s))d=()=>He(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Bc(s){return!!s.deps}(s))return hr(h)||sg(h);d=()=>new h(...Pt(s.deps))}return d}function El(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Nh(s,o){for(const l of s)Array.isArray(l)?Nh(l,o):l&&Ae(l)?Nh(l.\u0275providers,o):o(l)}class BI{}class Cw{}class jI{resolveComponentFactory(o){throw function zI(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Fh=(()=>{class s{}return s.NULL=new jI,s})();function HI(){return ld(Wn(),Re())}function ld(s,o){return new Lh(_i(s,o))}let Lh=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=HI,s})();function $I(s){return s instanceof Lh?s.nativeElement:s}class P_{}let GI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ZI(){const s=Re(),l=Ti(Wn().index,s);return(Fi(l)?l:s)[$t]}(),s})(),qI=(()=>{class s{}return s.\u0275prov=rt({token:s,providedIn:"root",factory:()=>null}),s})();class Iw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Sw=new Iw("15.2.5"),lg={},Vh="ngOriginalError";function mo(s){return s[Vh]}class Wo{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&mo(o);for(;l&&mo(l);)l=mo(l);return l||null}}function _o(s){return s instanceof Function?s():s}function Rw(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const ug="ng-template";function kw(s,o,l){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(l&&"class"===p&&-1!==Rw(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function L_(s){return 4===s.type&&s.value!==ug}function Pw(s,o,l){return o===(4!==s.type||l?s.value:ug)}function Nw(s,o,l){let d=4;const h=s.attrs||[],p=function YI(s){for(let o=0;o<s.length;o++)if(On(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!Pw(s,C,l)||""===C&&1===o.length){if(yo(d))return!1;y=!0}}else{const T=8&d?C:o[++E];if(8&d&&null!==s.attrs){if(!kw(s.attrs,T,l)){if(yo(d))return!1;y=!0}continue}const U=Uh(8&d?"class":C,h,L_(s),l);if(-1===U){if(yo(d))return!1;y=!0;continue}if(""!==T){let Y;Y=U>p?"":h[U+1].toLowerCase();const se=8&d?Y:null;if(se&&-1!==Rw(se,T,0)||2&d&&T!==Y){if(yo(d))return!1;y=!0}}}}else{if(!y&&!yo(d)&&!yo(C))return!1;if(y&&yo(C))continue;y=!1,d=C|1&d}}return yo(d)||y}function yo(s){return 0==(1&s)}function Uh(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function QI(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Bh(s,o,l=!1){for(let d=0;d<o.length;d++)if(Nw(s,o[d],l))return!0;return!1}function U_(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function B_(s,o){return s?":not("+o.trim()+")":o}function PR(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const E=s[++l];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!yo(y)&&(o+=B_(p,h),h=""),d=y,p=p||!yo(d);l++}return""!==h&&(o+=B_(p,h)),o}const Jt={};function dg(s){Fw(cn(),Re(),qi()+s,!1)}function Fw(s,o,l,d){if(!d)if(3==(3&o[qt])){const p=s.preOrderCheckHooks;null!==p&&ga(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Po(o,p,0,l)}Ns(l)}function zh(s,o=null,l=null,d){const h=Uw(s,o,l,d);return h.resolveInjectorInitializers(),h}function Uw(s,o=null,l=null,d,h=new Set){const p=[l||ue,yw(s)];return d=d||("object"==typeof s?void 0:he(s)),new ww(p,o||rg(),d||null,h)}let Hc=(()=>{class s{static create(l,d){if(Array.isArray(l))return zh({name:""},d,l,"");{const h=l.name??"";return zh({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Fn,s.NULL=new Jp,s.\u0275prov=rt({token:s,providedIn:"any",factory:()=>He(_w)}),s.__NG_ELEMENT_ID__=-1,s})();function Oa(s,o=at.Default){const l=Re();return null===l?He(s,o):ll(Wn(),l,X(s),o)}function qw(){throw new Error("invalid")}function Ww(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const p=l[d+1];if(-1!==p){const y=s.data[p];tl(l[d]),y.contentQueries(2,o[p],p)}}}function Hh(s,o,l,d,h,p,y,E,C,T,R){const U=o.blueprint.slice();return U[$r]=h,U[qt]=76|d,(null!==R||s&&1024&s[qt])&&(U[qt]|=1024),Ka(U),U[Cn]=U[Ys]=s,U[Ln]=l,U[Ql]=y||s&&s[Ql],U[$t]=E||s&&s[$t],U[$a]=C||s&&s[$a]||null,U[Gr]=T||s&&s[Gr]||null,U[qn]=p,U[Ao]=function hl(){return vi++}(),U[oh]=R,U[Pi]=2==o.type?s[Pi]:U,U}function Zc(s,o,l,d,h){let p=s.data[o];if(null===p)p=function pd(s,o,l,d,h){const p=ch(),y=Qa(),C=s.data[o]=function pS(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(s,o,l,d,h),function el(){return Bt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function Ps(){const s=Bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return xr(p,!0),p}function Cl(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function _g(s,o,l){Fu(o);try{const d=s.viewQuery;null!==d&&ty(1,d,l);const h=s.template;null!==h&&H_(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ww(s,o),s.staticViewQueries&&ty(2,s.viewQuery,l);const p=s.components;null!==p&&function mg(s,o){for(let l=0;l<o.length;l++)DS(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[qt]&=-5,dh()}}function Dl(s,o,l,d){const h=o[qt];if(128!=(128&h)){Fu(o);try{Ka(o),function cc(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&H_(s,o,l,2,d);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&ga(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Po(o,T,0,null),ma(o,0)}if(function ES(s){for(let o=L(s);null!==o;o=ie(o)){if(!o[Su])continue;const l=o[Os];for(let d=0;d<l.length;d++){const h=l[d];512&h[qt]||fa(h[Cn],1),h[qt]|=512}}}(o),function aE(s){for(let o=L(s);null!==o;o=ie(o))for(let l=Ni;l<o.length;l++){const d=o[l],h=d[Je];eo(d)&&Dl(h,d,h.template,d[Ln])}}(o),null!==s.contentQueries&&Ww(s,o),y){const T=s.contentCheckHooks;null!==T&&ga(o,T)}else{const T=s.contentHooks;null!==T&&Po(o,T,1),ma(o,1)}!function dS(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ns(~h);else{const p=h,y=l[++d],E=l[++d];dc(y,p),E(2,o[p])}}}finally{Ns(-1)}}(s,o);const E=s.components;null!==E&&function hS(s,o){for(let l=0;l<o.length;l++)CS(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&ty(2,C,d),y){const T=s.viewCheckHooks;null!==T&&ga(o,T)}else{const T=s.viewHooks;null!==T&&Po(o,T,2),ma(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[qt]&=-41,512&o[qt]&&(o[qt]&=-513,fa(o[Cn],-1))}finally{dh()}}}function H_(s,o,l,d,h){const p=qi(),y=2&d;try{Ns(-1),y&&o.length>jt&&Fw(s,o,jt,!1),mn(y?2:0,h),l(d,h)}finally{Ns(p),mn(y?3:1,h)}}function $_(s,o,l){if(Xl(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function G_(s,o,l){Ru()&&(function vS(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;Ga(l)&&function Q_(s,o,l){const d=_i(o,s),h=Kw(l),p=s[Ql],y=qc(s,Hh(s,h,null,l.onPush?32:16,d,o,p,p.createRenderer(d,l),null,null,null));s[o.index]=y}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||io(l,o),ni(d,o);const y=l.initialInputs;for(let E=h;E<p;E++){const C=s.data[E],T=gs(o,s,E,l);ni(T,o),null!==y&&vg(0,E-h,T,C,0,y),Kr(C)&&(Ti(l.index,o)[Ln]=gs(o,s,E,l))}}(s,o,l,_i(l,o)),64==(64&l.flags)&&rE(s,o,l))}function Z_(s,o,l=_i){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?l(o,s):s[y];s[h++]=E}}}function Kw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=q_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function q_(s,o,l,d,h,p,y,E,C,T){const R=jt+d,U=R+h,Y=function Yw(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Jt);return l}(R,U),se="function"==typeof T?T():T;return Y[Je]={type:s,blueprint:Y,template:l,queries:null,viewQuery:E,declTNode:o,data:Y.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:se,incompleteFirstPass:!1}}function Qw(s,o,l,d){const h=cE(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&uE(s).push(d,h.length-1))}function Xw(s,o,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const p=s[h];null===d?Jw(l,o,h,p):d.hasOwnProperty(h)&&Jw(l,o,d[h],p)}return l}function Jw(s,o,l,d){s.hasOwnProperty(l)?s[l].push(o,d):s[l]=[o,d]}function es(s,o,l,d,h,p,y,E){const C=_i(o,l);let R,T=o.inputs;!E&&null!=T&&(R=T[d])?(md(s,l,R,d,h),Ga(o)&&eE(l,o.index)):3&o.type&&(d=function mS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(C,d,h))}function eE(s,o){const l=Ti(o,s);16&l[qt]||(l[qt]|=32)}function nE(s,o,l,d){if(Ru()){const h=null===d?null:{"":-1},p=function wS(s,o){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];if(Bh(o,y.selectors,!1))if(d||(d=[]),Kr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),K_(s,o,E.length)}else d.unshift(y),K_(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,l);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&W_(s,o,l,y,h,E),h&&function sE(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new me(-301,!1);d.push(o[h],p)}}}(l,d,h)}l.mergedAttrs=Xr(l.mergedAttrs,l.attrs)}function W_(s,o,l,d,h,p){for(let T=0;T<d.length;T++)Ea(io(l,o),s,d[T].type);!function oE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,C=Cl(s,o,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];l.mergedAttrs=Xr(l.mergedAttrs,R.hostAttrs),gd(s,l,o,C,R),Y_(C,R,h),null!==R.contentQueries&&(l.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=64);const U=R.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),y=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),C++}!function gS(s,o,l){const h=o.directiveEnd,p=s.data,y=o.attrs,E=[];let C=null,T=null;for(let R=o.directiveStart;R<h;R++){const U=p[R],Y=l?l.get(U):null,we=Y?Y.outputs:null;C=Xw(U.inputs,R,C,Y?Y.inputs:null),T=Xw(U.outputs,R,T,we);const $e=null===C||null===y||L_(o)?null:bg(C,R,y);E.push($e)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=T}(s,l,p)}function rE(s,o,l){const d=l.directiveStart,h=l.directiveEnd,p=l.index,y=function uh(){return Bt.lFrame.currentDirectiveIndex}();try{Ns(p);for(let E=d;E<h;E++){const C=s.data[E],T=o[E];hs(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&bS(C,T)}}finally{Ns(-1),hs(y)}}function bS(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function K_(s,o,l){o.componentOffset=l,(s.components||(s.components=[])).push(o.index)}function Y_(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Kr(o)&&(l[""]=s)}}function gd(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=hr(h.type)),y=new _a(p,Kr(h),Oa);s.blueprint[d]=y,l[d]=y,function iE(s,o,l,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function yS(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(y)!=E&&y.push(E),y.push(l,d,p)}}(s,o,d,Cl(s,l,h.hostVars,Jt),h)}function Ko(s,o,l,d,h,p){const y=_i(s,o);!function yg(s,o,l,d,h,p,y){if(null==p)s.removeAttribute(o,h,l);else{const E=null==y?De(p):y(p,d||"",h);s.setAttribute(o,h,E,l)}}(o[$t],y,p,s.value,l,d,h)}function vg(s,o,l,d,h,p){const y=p[o];if(null!==y){const E=d.setInput;for(let C=0;C<y.length;){const T=y[C++],R=y[C++],U=y[C++];null!==E?d.setInput(l,U,T,R):l[R]=U}}}function bg(s,o,l){let d=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){d.push(p,y[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function X_(s,o,l,d){return[s,!0,!1,o,null,0,d,l,null,null]}function CS(s,o){const l=Ti(o,s);if(eo(l)){const d=l[Je];48&l[qt]?Dl(d,l,d.template,l[Ln]):l[ls]>0&&J_(l)}}function J_(s){for(let d=L(s);null!==d;d=ie(d))for(let h=Ni;h<d.length;h++){const p=d[h];if(eo(p))if(512&p[qt]){const y=p[Je];Dl(y,p,y.template,p[Ln])}else p[ls]>0&&J_(p)}const l=s[Je].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Ti(l[d],s);eo(h)&&h[ls]>0&&J_(h)}}function DS(s,o){const l=Ti(o,s),d=l[Je];(function IS(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),_g(d,l,l[Ln])}function qc(s,o){return s[Ms]?s[ra][Zi]=o:s[Ms]=o,s[ra]=o,o}function ey(s){for(;s;){s[qt]|=32;const o=m(s);if(oa(s)&&!o)return s;s=o}return null}function wg(s,o,l,d=!0){const h=o[Ql];h.begin&&h.begin();try{Dl(s,o,s.template,l)}catch(y){throw d&&dE(o,y),y}finally{h.end&&h.end()}}function ty(s,o,l){tl(0),o(s,l)}function cE(s){return s[cs]||(s[cs]=[])}function uE(s){return s.cleanup||(s.cleanup=[])}function dE(s,o){const l=s[Gr],d=l?l.get(Wo,null):null;d&&d.handleError(o)}function md(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],E=l[p++],C=o[y],T=s.data[y];null!==T.setInput?T.setInput(C,h,d,E):C[E]=h}}function Eg(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?h=ge(h,E):2==p&&(d=ge(d,E+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function $h(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(Vn(p)),mi(p))for(let E=Ni;E<p.length;E++){const C=p[E],T=C[Je].firstChild;null!==T&&$h(C[Je],C,T,d)}const y=l.type;if(8&y)$h(s,o,l.child,d);else if(32&y){const E=b(l,o);let C;for(;C=E();)d.push(C)}else if(16&y){const E=EI(o,l);if(Array.isArray(E))d.push(...E);else{const C=m(o[Pi]);$h(C[Je],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class Cg{get rootNodes(){const o=this._lView,l=o[Je];return $h(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(o){this._lView[Ln]=o}get destroyed(){return 128==(128&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Cn];if(mi(o)){const l=o[qr],d=l?l.indexOf(this):-1;d>-1&&(td(o,d),co(l,d))}this._attachedToViewContainer=!1}Bp(this._lView[Je],this._lView)}onDestroy(o){Qw(this._lView[Je],this._lView,null,o)}markForCheck(){ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-65}reattach(){this._lView[qt]|=64}detectChanges(){wg(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function __(s,o){Th(s,o,o[$t],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=o}}class jR extends Cg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;wg(o[Je],o,o[Ln],!1)}checkNoChanges(){}get context(){return null}}class hE extends Fh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=hn(o);return new Gh(l,this.ngModule)}}function Dg(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class vs{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=It(d);const h=this.injector.get(o,lg,d);return h!==lg||l===lg?h:this.parentInjector.get(o,l,d)}}class Gh extends Cw{get inputs(){return Dg(this.componentDef.inputs)}get outputs(){return Dg(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function NR(s){return s.map(PR).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,d,h){let p=(h=h||this.ngModule)instanceof xa?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new vs(o,p):o,E=y.get(P_,null);if(null===E)throw new me(407,!1);const C=y.get(qI,null),T=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",U=d?function fS(s,o,l){return s.selectRootElement(o,l===k.ShadowDom)}(T,d,this.componentDef.encapsulation):_s(T,R,function fE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Y=this.componentDef.onPush?288:272,se=q_(0,null,null,1,0,null,null,null,null,null),we=Hh(null,se,null,Y,null,null,E,T,C,y,null);let $e,et;Fu(we);try{const gt=this.componentDef;let Lt,Pe=null;gt.findHostDirectiveDefs?(Lt=[],Pe=new Map,gt.findHostDirectiveDefs(gt,Lt,Pe),Lt.push(gt)):Lt=[gt];const Yt=function pE(s,o){const l=s[Je],d=jt;return s[d]=o,Zc(l,d,2,"#host",null)}(we,U),Qn=function Il(s,o,l,d,h,p,y,E){const C=h[Je];!function ny(s,o,l,d){for(const h of s)o.mergedAttrs=Xr(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Eg(o,o.mergedAttrs,!0),null!==l&&Mh(d,l,o))}(d,s,o,y);const T=p.createRenderer(o,l),R=Hh(h,Kw(l),null,l.onPush?32:16,h[s.index],s,p,T,E||null,null,null);return C.firstCreatePass&&K_(C,s,d.length-1),qc(h,R),h[s.index]=R}(Yt,U,gt,Lt,we,E,T);et=ha(se,jt),U&&function HR(s,o,l,d){if(d)No(s,l,["ng-version",Sw.full]);else{const{attrs:h,classes:p}=function FR(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!yo(h))break;h=p}d++}return{attrs:o,classes:l}}(o.selectors[0]);h&&No(s,l,h),p&&p.length>0&&ow(s,l,p.join(" "))}}(T,gt,U,d),void 0!==l&&function $R(s,o,l){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=l[h];d.push(null!=p?Array.from(p):null)}}(et,this.ngContentSelectors,l),$e=function SS(s,o,l,d,h,p){const y=Wn(),E=h[Je],C=_i(y,h);W_(E,h,y,l,null,d);for(let R=0;R<l.length;R++)ni(gs(h,E,y.directiveStart+R,y),h);rE(E,h,y),C&&ni(C,h);const T=gs(h,E,y.directiveStart+y.componentOffset,y);if(s[Ln]=h[Ln]=T,null!==p)for(const R of p)R(T,o);return $_(E,y,s),T}(Qn,gt,Lt,Pe,we,[gE]),_g(se,we,null)}finally{dh()}return new _d(this.componentType,$e,ld(et,we),we,et)}}class _d extends BI{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new jR(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;md(p[Je],p,h,o,l),eE(p,this._tNode.index)}}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function gE(){const s=Wn();gc(Re()[Je],s)}function Zh(s){let o=function iy(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Kr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new me(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=ry(s.inputs),y.declaredInputs=ry(s.declaredInputs),y.outputs=ry(s.outputs);const E=h.hostBindings;E&&MS(s,E);const C=h.viewQuery,T=h.contentQueries;if(C&&AS(s,C),T&&mE(s,T),ye(s.inputs,h.inputs),ye(s.declaredInputs,h.declaredInputs),ye(s.outputs,h.outputs),Kr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===Zh&&(l=!1)}}o=Object.getPrototypeOf(o)}!function TS(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Xr(h.hostAttrs,l=Xr(l,h.hostAttrs))}}(d)}function ry(s){return s===ee?{}:s===ue?[]:s}function AS(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function mE(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function MS(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}function Ig(s){return!!ay(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function ay(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function mr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function ly(s,o,l,d){const h=Re();return mr(h,to(),o)&&(cn(),Ko(bn(),h,s,o,l,d)),ly}function Kc(s,o,l,d){return mr(s,to(),l)?o+De(l)+d:Jt}function yE(s,o,l,d,h,p,y,E){const C=Re(),T=cn(),R=s+jt,U=T.firstCreatePass?function VS(s,o,l,d,h,p,y,E,C){const T=o.consts,R=Zc(o,s,4,y||null,Mr(T,E));nE(o,l,R,Mr(T,C)),gc(o,R);const U=R.tView=q_(2,R,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,R),U.queries=o.queries.embeddedTView(R)),R}(R,T,C,o,l,d,h,p,y):T.data[R];xr(U,!1);const Y=C[$t].createComment("");Gp(T,C,Y,U),ni(Y,C),qc(C,C[R]=X_(Y,C,Y,U)),Wr(U)&&G_(T,C,U),null!=y&&Z_(C,U,E)}function fy(s,o,l){const d=Re();return mr(d,to(),o)&&es(cn(),bn(),d,s,o,d[$t],l,!1),fy}function py(s,o,l,d,h){const y=h?"class":"style";md(s,l,o.inputs[y],y,d)}function Mg(s,o,l,d){const h=Re(),p=cn(),y=jt+s,E=h[$t],C=p.firstCreatePass?function zS(s,o,l,d,h,p){const y=o.consts,C=Zc(o,s,2,d,Mr(y,h));return nE(o,l,C,Mr(y,p)),null!==C.attrs&&Eg(C,C.attrs,!1),null!==C.mergedAttrs&&Eg(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(y,p,h,o,l,d):p.data[y],T=h[y]=_s(E,o,function s_(){return Bt.lFrame.currentNamespace}()),R=Wr(C);return xr(C,!0),Mh(E,T,C),32!=(32&C.flags)&&Gp(p,h,T,C),0===function sc(){return Bt.lFrame.elementDepthCount}()&&ni(T,h),function oc(){Bt.lFrame.elementDepthCount++}(),R&&(G_(p,h,C),$_(p,C,h)),null!==d&&Z_(h,C),Mg}function xg(){let s=Wn();Qa()?Xa():(s=s.parent,xr(s,!1));const o=s;!function ac(){Bt.lFrame.elementDepthCount--}();const l=cn();return l.firstCreatePass&&(gc(l,s),Xl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function mc(s){return 0!=(8&s.flags)}(o)&&py(l,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ya(s){return 0!=(16&s.flags)}(o)&&py(l,o,Re(),o.stylesWithoutHost,!1),xg}function vE(s,o,l,d){return Mg(s,o,l,d),xg(),vE}function Og(s,o,l){const d=Re(),h=cn(),p=s+jt,y=h.firstCreatePass?function jS(s,o,l,d,h){const p=o.consts,y=Mr(p,d),E=Zc(o,s,8,"ng-container",y);return null!==y&&Eg(E,y,!0),nE(o,l,E,Mr(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,d,o,l):h.data[p];xr(y,!0);const E=d[p]=d[$t].createComment("");return Gp(h,d,E,y),ni(E,d),Wr(y)&&(G_(h,d,y),$_(h,y,d)),null!=l&&Z_(d,y),Og}function Rg(){let s=Wn();const o=cn();return Qa()?Xa():(s=s.parent,xr(s,!1)),o.firstCreatePass&&(gc(o,s),Xl(s)&&o.queries.elementEnd(s)),Rg}function wE(){return Re()}function gy(s){return!!s&&"function"==typeof s.then}function EE(s){return!!s&&"function"==typeof s.subscribe}const CE=EE;function my(s,o,l,d){const h=Re(),p=cn(),y=Wn();return function IE(s,o,l,d,h,p,y){const E=Wr(d),T=s.firstCreatePass&&uE(s),R=o[Ln],U=cE(o);let Y=!0;if(3&d.type||y){const $e=_i(d,o),et=y?y($e):$e,gt=U.length,Lt=y?Yt=>y(Vn(Yt[d.index])):d.index;let Pe=null;if(!y&&E&&(Pe=function HS(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const E=o[cs],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=p,Pe.__ngLastListenerFn__=p,Y=!1;else{p=TE(d,o,R,p,!1);const Yt=l.listen(et,h,p);U.push(p,Yt),T&&T.push(h,Lt,gt,gt+1)}}else p=TE(d,o,R,p,!1);const se=d.outputs;let we;if(Y&&null!==se&&(we=se[h])){const $e=we.length;if($e)for(let et=0;et<$e;et+=2){const Qn=o[we[et]][we[et+1]].subscribe(p),Mi=U.length;U.push(p,Qn),T&&T.push(h,d.index,Mi,-(Mi+1))}}}(p,h,h[$t],y,s,o,d),my}function SE(s,o,l,d){try{return mn(6,o,l),!1!==l(d)}catch(h){return dE(s,h),!1}finally{mn(7,o,l)}}function TE(s,o,l,d,h){return function p(y){if(y===Function)return d;ey(s.componentOffset>-1?Ti(s.index,o):o);let C=SE(o,l,d,y),T=p.__ngNextListenerFn__;for(;T;)C=SE(o,l,T,y)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function AE(s=1){return function Lu(s){return(Bt.lFrame.contextLView=function Dp(s,o){for(;s>0;)o=o[Ys],s--;return o}(s,Bt.lFrame.contextLView))[Ln]}(s)}function $S(s,o){let l=null;const d=function V_(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?Bh(s,p,!0):U_(d,p))return h}else l=h}return l}function ME(s){const o=Re()[Pi][qn];if(!o.projection){const d=o.projection=uo(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?$S(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function xE(s,o=0,l){const d=Re(),h=cn(),p=Zc(h,jt+s,16,null,l||null);null===p.projection&&(p.projection=o),Xa(),32!=(32&p.flags)&&function IR(s,o,l){CI(o[$t],0,o,l,pl(s,l,o),ui(l.parent||o[qn],l,o))}(h,d,p)}function Yh(s,o){return s<<17|o<<2}function Qo(s){return s>>17&32767}function Fr(s){return 2|s}function Tl(s){return(131068&s)>>2}function Qh(s,o){return-131069&s|o<<2}function Pg(s){return 1|s}function by(s,o,l,d,h){const p=s[l+1],y=null===o;let E=d?Qo(p):Tl(p),C=!1;for(;0!==E&&(!1===C||y);){const R=s[E+1];qS(s[E],o)&&(C=!0,s[E+1]=d?Pg(R):Fr(R)),E=d?Qo(R):Tl(R)}C&&(s[l+1]=d?Fr(p):Pg(p))}function qS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Rn(s,o)>=0}const Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UE(s){return s.substring(Xi.key,Xi.keyEnd)}function BE(s){return s.substring(Xi.value,Xi.valueEnd)}function Ng(s,o){const l=Xi.textEnd;let d=Xi.key=tu(s,o,l);return l===d?-1:(d=Xi.keyEnd=function wy(s,o,l){let d;for(;o<l&&(45===(d=s.charCodeAt(o))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)o++;return o}(s,d,l),d=Xh(s,d,l),d=Xi.value=tu(s,d,l),d=Xi.valueEnd=function Fg(s,o,l){let d=-1,h=-1,p=-1,y=o,E=y;for(;y<l;){const C=s.charCodeAt(y++);if(59===C)return E;34===C||39===C?E=y=Jh(s,C,y,l):o===y-4&&85===p&&82===h&&76===d&&40===C?E=y=Jh(s,41,y,l):C>32&&(E=y),p=h,h=d,d=-33&C}return E}(s,d,l),Xh(s,d,l))}function tu(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Xh(s,o,l,d){return(o=tu(s,o,l))<l&&o++,o}function Jh(s,o,l,d){let h=-1,p=l;for(;p<d;){const y=s.charCodeAt(p++);if(y==o&&92!==h)return p;h=92==y&&92===h?0:y}throw new Error}function ef(s,o,l){return Gs(s,o,l,!1),ef}function bo(s,o){return Gs(s,o,null,!0),bo}function $s(s){!function wo(s,o,l,d){const h=cn(),p=Qr(2);h.firstUpdatePass&&Pa(h,null,p,d);const y=Re();if(l!==Jt&&mr(y,p,l)){const E=h.data[qi()];if(qE(E,d)&&!Ey(h,p)){let C=d?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(l=ge(C,l||"")),py(h,E,y,l,d)}else!function nf(s,o,l,d,h,p,y,E){h===Jt&&(h=ue);let C=0,T=0,R=0<h.length?h[0]:null,U=0<p.length?p[0]:null;for(;null!==R||null!==U;){const Y=C<h.length?h[C+1]:void 0,se=T<p.length?p[T+1]:void 0;let $e,we=null;R===U?(C+=2,T+=2,Y!==se&&(we=U,$e=se)):null===U||null!==R&&R<U?(C+=2,we=R):(T+=2,we=U,$e=se),null!==we&&rf(s,o,l,d,we,$e,y,E),R=C<h.length?h[C]:null,U=T<p.length?p[T]:null}}(h,E,y,y[$t],y[p+1],y[p+1]=function Cy(s,o,l){if(null==l||""===l)return ue;const d=[],h=_l(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,p)}}(Dy,Lg,s,!1)}function Lg(s,o){for(let l=function jE(s){return function HE(s){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=s.length}(s),Ng(s,tu(s,0,Xi.textEnd))}(o);l>=0;l=Ng(o,l))Dy(s,UE(o),BE(o))}function Gs(s,o,l,d){const h=Re(),p=cn(),y=Qr(2);p.firstUpdatePass&&Pa(p,s,y,d),o!==Jt&&mr(h,y,o)&&rf(p,p.data[qi()],h,h[$t],s,h[y+1]=function XS(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(_l(s)))),s}(o,l),d,y)}function Ey(s,o){return o>=s.expandoStartIndex}function Pa(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[qi()],y=Ey(s,l);qE(p,d)&&null===o&&!y&&(o=!1),o=function $E(s,o,l,d){const h=function hc(s){const o=Bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=tf(l=iu(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=iu(h,s,o,l,d),null===p){let C=function GE(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Tl(d))return s[Qo(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=iu(null,s,o,C[1],d),C=tf(C,o.attrs,d),function Xo(s,o,l,d){s[Qo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else p=function nu(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=tf(d,s[p].hostAttrs,l);return tf(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function ZS(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,E=Qo(y),C=Tl(y);s[d]=l;let R,T=!1;if(Array.isArray(l)?(R=l[1],(null===R||Rn(l,R)>0)&&(T=!0)):R=l,h)if(0!==C){const Y=Qo(s[E+1]);s[d+1]=Yh(Y,E),0!==Y&&(s[Y+1]=Qh(s[Y+1],d)),s[E+1]=function vy(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Yh(E,0),0!==E&&(s[E+1]=Qh(s[E+1],d)),E=d;else s[d+1]=Yh(C,0),0===E?E=d:s[C+1]=Qh(s[C+1],d),C=d;T&&(s[d+1]=Fr(s[d+1])),by(s,R,d,!0),by(s,R,d,!1),function eu(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Rn(p,o)>=0&&(l[d+1]=Pg(l[d+1]))}(o,R,s,d,p),y=Yh(E,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}function iu(s,o,l,d,h){let p=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(p=o[E],d=tf(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function tf(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),At(s,y,!!l||o[++p]))}return void 0===s?null:s}function Dy(s,o,l){At(s,o,_l(l))}function rf(s,o,l,d,h,p,y,E){if(!(3&o.type))return;const C=s.data,T=C[E+1],R=function LE(s){return 1==(1&s)}(T)?ZE(C,o,l,h,Tl(T),y):void 0;vd(R)||(vd(p)||function yy(s){return 2==(2&s)}(T)&&(p=ZE(C,null,l,h,E,y)),function Zp(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:po.DashCase;null==h?s.removeStyle(l,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=po.Important),s.setStyle(l,d,h,p))}}(d,y,ks(qi(),l),h,p))}function ZE(s,o,l,d,h,p){const y=null===o;let E;for(;h>0;){const C=s[h],T=Array.isArray(C),R=T?C[1]:C,U=null===R;let Y=l[h+1];Y===Jt&&(Y=U?ue:void 0);let se=U?fn(Y,d):R===d?Y:void 0;if(T&&!vd(se)&&(se=fn(C,d)),vd(se)&&(E=se,y))return E;const we=s[h+1];h=y?Qo(we):Tl(we)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(E=fn(C,d))}return E}function vd(s){return void 0!==s}function qE(s,o){return 0!=(s.flags&(o?8:16))}function WE(s,o=""){const l=Re(),d=cn(),h=s+jt,p=d.firstCreatePass?Zc(d,h,1,o,null):d.data[h],y=l[h]=function wt(s,o){return s.createText(o)}(l[$t],o);Gp(d,l,y,p),xr(p,!1)}function Lr(s){return sf("",s,""),Lr}function sf(s,o,l){const d=Re(),h=Kc(d,s,o,l);return h!==Jt&&function Ra(s,o,l){const d=ks(o,s);!function Kt(s,o,l){s.setValue(o,l)}(s[$t],d,l)}(d,qi(),h),sf}function Sy(s,o,l){$s(Kc(Re(),s,o,l))}function bd(s,o,l){const d=Re();return mr(d,to(),o)&&es(cn(),bn(),d,s,o,d[$t],l,!0),bd}const Jo=void 0;var a0=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dT(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let wd={};function df(s){const o=function u0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=c0(o);if(l)return l;const d=o.split("-")[0];if(l=c0(d),l)return l;if("en"===d)return a0;throw new me(701,!1)}function l0(s){return df(s)[Rt.PluralCase]}function c0(s){return s in wd||(wd[s]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[s]),wd[s]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Ed="en-US";let d0=Ed;function Xg(s,o,l,d,h){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Xg(s[p],o,l,d,h);else{const p=cn(),y=Re();let E=Uc(s)?s:X(s.provide),C=go(s);const T=Wn(),R=1048575&T.providerIndexes,U=T.directiveStart,Y=T.providerIndexes>>20;if(Uc(s)||!s.multi){const se=new _a(C,h,Oa),we=Jg(E,o,h?R:R+Y,U);-1===we?(Ea(io(T,y),p,E),Sd(p,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(se),y.push(se)):(l[we]=se,y[we]=se)}else{const se=Jg(E,o,R+Y,U),we=Jg(E,o,R,R+Y),et=we>=0&&l[we];if(h&&!et||!h&&!(se>=0&&l[se])){Ea(io(T,y),p,E);const gt=function G0(s,o,l,d,h){const p=new _a(s,l,Oa);return p.multi=[],p.index=o,p.componentProviders=0,Py(p,h,d&&!l),p}(h?$0:H0,l.length,h,d,C);!h&&et&&(l[we].providerFactory=gt),Sd(p,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(gt),y.push(gt)}else Sd(p,s,se>-1?se:we,Py(l[h?we:se],C,!h&&d));!h&&d&&et&&l[we].componentProviders++}}}function Sd(s,o,l,d){const h=Uc(o),p=function UI(s){return!!s.useClass}(o);if(h||p){const C=(p?X(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=T.indexOf(l);-1===R?T.push(l,[d,C]):T[R+1].push(d,C)}else T.push(l,C)}}}function Py(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Jg(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function H0(s,o,l,d){return Ny(this.multi,[])}function $0(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=gs(l,l[Je],this.providerFactory.index,d);p=E.slice(0,y),Ny(h,p);for(let C=y;C<E.length;C++)p.push(E[C])}else p=[],Ny(h,p);return p}function Ny(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Fy(s,o=[]){return l=>{l.providersResolver=(d,h)=>function j0(s,o,l){const d=cn();if(d.firstCreatePass){const h=Kr(s);Xg(l,d.data,d.blueprint,h,!0),Xg(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Ol{}class Ly{}function Vy(s,o){return new Uy(s,o??null)}class Uy extends Ol{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hE(this);const d=Gi(o);this._bootstrapComponents=_o(d.bootstrap),this._r3Injector=Uw(o,l,[{provide:Ol,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class em extends Ly{constructor(o){super(),this.moduleType=o}create(o){return new Uy(this.moduleType,o)}}class By extends Ol{constructor(o,l,d){super(),this.componentFactoryResolver=new hE(this),this.instance=null;const h=new ww([...o,{provide:Ol,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],l||rg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Td(s,o,l=null){return new By(s,o,l).injector}let Z0=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=O_(0,l.type),h=d.length>0?Td([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rt({token:s,providedIn:"environment",factory:()=>new s(He(xa))}),s})();function zy(s){s.getStandaloneInjector=o=>o.get(Z0).getOrCreateStandaloneInjector(s)}function FT(s,o,l,d){return function au(s,o,l,d,h,p){const y=o+l;return mr(s,y,h)?function Yo(s,o,l){return s[o]=l}(s,y+1,p?d.call(p,h):d(h)):function Rl(s,o){const l=s[o];return l===Jt?void 0:l}(s,y+1)}(Re(),function ti(){const s=Bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,d)}function Fa(s){return o=>{setTimeout(s,void 0,o)}}const ns=class dk extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,p=l||(()=>null),y=d;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=Fa(p),h&&(h=Fa(h)),y&&(y=Fa(y)));const E=super.subscribe({next:h,error:p,complete:y});return o instanceof H.w0&&o.add(E),E}};function lm(){return this._results[Symbol.iterator]()}class lu{get changes(){return this._changes||(this._changes=new ns)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=lu.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=lm)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=function ir(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Zu(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kl=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zy,s})();const cm=kl,HT=class extends cm{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tView,h=Hh(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[xs]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[ei];return null!==y&&(h[ei]=y.createEmbeddedView(d)),_g(d,h,o),new Cg(h)}};function Zy(){return cu(Wn(),Re())}function cu(s,o){return 4&s.type?new HT(o,s,ld(s,o)):null}let um=(()=>{class s{}return s.__NG_ELEMENT_ID__=$T,s})();function $T(){return GT(Wn(),Re())}const Y0=um,Q0=class extends Y0{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){const o=ro(this._hostTNode,this._hostLView);if(wa(o)){const l=no(o,this._hostLView),d=rl(o);return new Ki(l[Je].data[d+8],l)}return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=qy(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(o,l,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(o,l,d,h,p){const y=o&&!function Pr(s){return"function"==typeof s}(o);let E;if(y)E=l;else{const U=l||{};E=U.index,d=U.injector,h=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const C=y?o:new Gh(hn(o)),T=d||this.parentInjector;if(!p&&null==C.ngModule){const Y=(y?T:this.parentInjector).get(xa,null);Y&&(p=Y)}const R=C.create(T,h,void 0,p);return this.insert(R.hostView,E),R}insert(o,l){const d=o._lView,h=d[Je];if(function Ou(s){return mi(s[Cn])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const U=d[Cn],Y=new Q0(U,U[qn],U[Cn]);Y.detach(Y.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function Vp(s,o,l,d){const h=Ni+d,p=l.length;d>0&&(l[h-1][Zi]=o),d<p-Ni?(o[Zi]=l[h],Ic(l,Ni+d,o)):(l.push(o),o[Zi]=null),o[Cn]=l;const y=o[xs];null!==y&&l!==y&&function Up(s,o){const l=s[Os];o[Pi]!==o[Cn][Cn][Pi]&&(s[Su]=!0),null===l?s[Os]=[o]:l.push(o)}(y,o);const E=o[ei];null!==E&&E.insertView(s),o[qt]|=64}(h,d,y,p);const E=iw(p,y),C=d[$t],T=$p(C,y[us]);return null!==T&&function Sh(s,o,l,d,h,p){d[$r]=h,d[qn]=o,Th(s,d,l,1,h,p)}(h,y[qn],C,d,T,E),o.attachToViewContainerRef(),Ic(Wy(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=qy(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=td(this._lContainer,l);d&&(co(Wy(this._lContainer),l),Bp(d[Je],d))}detach(o){const l=this._adjustIndex(o,-1),d=td(this._lContainer,l);return d&&null!=co(Wy(this._lContainer),l)?new Cg(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function qy(s){return s[qr]}function Wy(s){return s[qr]||(s[qr]=[])}function GT(s,o){let l;const d=o[s.index];if(mi(d))l=d;else{let h;if(8&s.type)h=Vn(d);else{const p=o[$t];h=p.createComment("");const y=_i(s,o);gl(p,$p(p,y),h,function DR(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=l=X_(d,o,h,s),qc(o,l)}return new Q0(l,s,o)}class Ky{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class bf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new bf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==YT(o,l).matches&&this.queries[l].setDirty()}}class ZT{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class X0{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new X0(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class wf{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new wf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,qT(l,p)),this.matchTNodeWithReadOption(o,l,cl(l,o,p,!1,!1))}else d===kl?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,cl(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Lh||h===um||h===kl&&4&l.type)this.addMatch(l.index,-2);else{const p=cl(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function qT(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Yy(s,o,l,d){return-1===l?function J0(s,o){return 11&s.type?ld(s,o):4&s.type?cu(s,o):null}(o,s):-2===l?function WT(s,o,l){return l===Lh?ld(o,s):l===kl?cu(o,s):l===um?GT(o,s):void 0}(s,o,d):gs(s,s[Je],l,o)}function KT(s,o,l,d){const h=o[ei].queries[d];if(null===h.matches){const p=s.data,y=l.matches,E=[];for(let C=0;C<y.length;C+=2){const T=y[C];E.push(T<0?null:Yy(o,p[T],y[C+1],l.metadata.read))}h.matches=E}return h.matches}function Qy(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=KT(s,o,h,l);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)d.push(y[E/2]);else{const T=p[E+1],R=o[-C];for(let U=Ni;U<R.length;U++){const Y=R[U];Y[xs]===Y[Cn]&&Qy(Y[Je],Y,T,d)}if(null!==R[Os]){const U=R[Os];for(let Y=0;Y<U.length;Y++){const se=U[Y];Qy(se[Je],se,T,d)}}}}}return d}function xd(s){const o=Re(),l=cn(),d=Nu();tl(d+1);const h=YT(l,d);if(s.dirty&&function ic(s){return 4==(4&s[qt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Qy(l,o,d,[]):KT(l,o,h,d);s.reset(p,$I),s.notifyOnChanges()}return!0}return!1}function Ef(s,o,l){const d=cn();d.firstCreatePass&&(tC(d,new ZT(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),eC(d,Re(),o)}function Xy(s,o,l,d){const h=cn();if(h.firstCreatePass){const p=Wn();tC(h,new ZT(o,l,d),p.index),function nC(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}eC(h,Re(),l)}function Jy(){return function Od(s,o){return s[ei].queries[o].queryList}(Re(),Nu())}function eC(s,o,l){const d=new lu(4==(4&l));Qw(s,o,d,d.destroy),null===o[ei]&&(o[ei]=new bf),o[ei].queries.push(new Ky(d))}function tC(s,o,l){null===s.queries&&(s.queries=new X0),s.queries.track(new wf(o,l))}function YT(s,o){return s.queries.getByIndex(o)}function Df(s){return!!Gi(s)}function uv(...s){}const dv=new An("Application Initializer");let kd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=uv,this.reject=uv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(gy(p))l.push(p);else if(CE(p)){const y=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(He(dv,8))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bC=new An("AppId",{providedIn:"root",factory:function cA(){return`${hv()}${hv()}${hv()}`}});function hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dA=new An("Platform Initializer"),wk=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wC=new An("AnimationModuleType");let EC=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Tf=new An("LocaleId",{providedIn:"root",factory:()=>st(Tf,at.Optional|at.SkipSelf)||function hA(){return typeof $localize<"u"&&$localize.locale||Ed}()}),fA=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ek{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let pA=(()=>{class s{compileModuleSync(l){return new em(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=_o(Gi(l).declarations).reduce((y,E)=>{const C=hn(E);return C&&y.push(new Gh(C)),y},[]);return new Ek(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const _A=(()=>Promise.resolve(0))();function gm(s){typeof Zone>"u"?_A.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ws{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ns(!1),this.onMicrotaskEmpty=new ns(!1),this.onStable=new ns(!1),this.onError=new ns(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function xf(){let s=Ut.requestAnimationFrame,o=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function vA(s){const o=()=>{!function Sk(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ut,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Of(s),s.isCheckStableRunning=!0,gv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Of(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,E)=>{try{return Rf(s),l.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),mv(s)}},onInvoke:(l,d,h,p,y,E,C)=>{try{return Rf(s),l.invoke(h,p,y,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),mv(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Of(s),gv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new me(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,yA,uv,uv);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const yA={};function gv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Of(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Rf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function mv(s){s._nesting--,gv(s)}class bA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ns,this.onMicrotaskEmpty=new ns,this.onStable=new ns,this.onError=new ns}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const wA=new An(""),CC=new An("");let _v,EA=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_v||(function CA(s){_v=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gm(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(He(ws),He(kf),He(CC))},s.\u0275prov=rt({token:s,factory:s.\u0275fac}),s})(),kf=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return _v?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const La=!1;let uu=null;const Pf=new An("AllowMultipleToken"),yv=new An("PlatformDestroyListeners"),DC=new An("appBootstrapListener");class bv{constructor(o,l){this.name=o,this.token=l}}function SA(s,o,l=[]){const d=`Platform: ${o}`,h=new An(d);return(p=[])=>{let y=Pd();if(!y||y.injector.get(Pf,!1)){const E=[...l,...p,{provide:h,useValue:!0}];s?s(E):function Co(s){if(uu&&!uu.get(Pf,!1))throw new me(400,!1);uu=s;const o=s.get(Fl);(function du(s){const o=s.get(dA,null);o&&o.forEach(l=>l())})(s)}(function IC(s=[],o){return Hc.create({name:o,providers:[{provide:ng,useValue:"platform"},{provide:yv,useValue:new Set([()=>uu=null])},...s]})}(E,d))}return function Nf(s){const o=Pd();if(!o)throw new me(401,!1);return o}()}}function Pd(){return uu?.get(Fl)??null}let Fl=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function Nd(s,o){let l;return l="noop"===s?new bA:("zone.js"===s?void 0:s)||new ws(o),l}(d?.ngZone,function Ev(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:ws,useValue:h}];return h.run(()=>{const y=Hc.create({providers:p,parent:this.injector,name:l.moduleType.name}),E=l.create(y),C=E.injector.get(Wo,null);if(!C)throw new me(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:R=>{C.handleError(R)}});E.onDestroy(()=>{Fd(this._modules,E),T.unsubscribe()})}),function mm(s,o,l){try{const d=l();return gy(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(C,h,()=>{const T=E.injector.get(kd);return T.runInitializers(),T.donePromise.then(()=>(function h0(s){it(s,"Expected localeId to be defined"),"string"==typeof s&&(d0=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Tf,Ed)||Ed),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=SC({},d);return function DA(s,o,l){const d=new em(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(_m);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new me(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(yv,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(He(Hc))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function SC(s,o){return Array.isArray(o)?o.reduce(SC,s):{...s,...o}}let _m=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new P.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(p,y.pipe((0,ae.B)()))}bootstrap(l,d){const h=l instanceof Cw;if(!this._injector.get(kd).done){!h&&tr(l);throw new me(405,La)}let y;y=h?l:this._injector.get(Fh).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const E=function vv(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Ol),T=y.create(Hc.NULL,[],d||y.selector,E),R=T.location.nativeElement,U=T.injector.get(wA,null);return U?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),Fd(this.components,T),U?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Fd(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(DC,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Fd(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new me(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(He(ws),He(xa),He(Wo))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fd(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function TA(){return!1}let Rk=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ff,s})();function Ff(s){return function AA(s,o,l){if(Ga(s)&&!l){const d=Ti(s.index,o);return new Cg(d,d)}return 47&s.type?new Cg(o[Pi],o):null}(Wn(),Re(),16==(16&s))}class PA{constructor(){}supports(o){return Ig(o)}create(o){return new Fk(o)}}const Nk=(s,o)=>o;class Fk{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Nk}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<bm(d,h,p)?l:d,E=bm(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const T=E-h,R=C-h;if(T!=R){for(let Y=0;Y<T;Y++){const se=Y<p.length?p[Y]:p[Y]=0,we=se+Y;R<=we&&we<T&&(p[Y]=se+1)}p[y.previousIndex]=R-T}}E!==C&&o(y,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ig(o))throw new me(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,E)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,E),d=!0),l=l._next}else h=0,function kS(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{y=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,E,y,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new Lk(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new vm),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Lk{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vk{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class vm{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new Vk,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bm(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class Tv{constructor(){}supports(o){return o instanceof Map||ay(o)}create(){return new NA}}class NA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||ay(o)))throw new me(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Av(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Av{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FA(){return new Mv([new PA])}let Mv=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||FA()),deps:[[s,new I,new Us]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new me(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:FA}),s})();function LA(){return new OC([new Tv])}let OC=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||LA()),deps:[[s,new I,new Us]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new me(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:LA}),s})();const Rv=SA(null,"core",[]);let RC=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(He(_m))},s.\u0275mod=ja({type:s}),s.\u0275inj=zn({}),s})();function VA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(_t,Ie,V)=>{V.d(Ie,{Z:()=>We});var c=V(2090),H=V(4859),P=V(9681),re=V(1877);class ae{constructor(me,Se){this._delegate=me,this.firebase=Se,(0,P._addComponent)(me,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(me,Se=P._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(me);return!Ne.isInitialized()&&"EXPLICIT"===(null===(De=Ne.getComponent())||void 0===De?void 0:De.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:Se})}_removeServiceInstance(me,Se=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Se)}_addComponent(me){(0,P._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,P._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ge(){const ct=function he(ct){const me={},Se={__esModule:!0,initializeApp:function Oe(J,ce={}){const ve=P.initializeApp(J,ce);if((0,c.r3)(me,ve.name))return me[ve.name];const Ke=new ct(ve,Se);return me[ve.name]=Ke,Ke},app:Ne,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Te(J){const ce=J.name,ve=ce.replace("-compat","");if(P._registerComponent(J)&&"PUBLIC"===J.type){const Ke=(Ge=Ne())=>{if("function"!=typeof Ge[ve])throw ye.create("invalid-app-argument",{appName:ce});return Ge[ve]()};void 0!==J.serviceProps&&(0,c.ZB)(Ke,J.serviceProps),Se[ve]=Ke,ct.prototype[ve]=function(...Ge){return this._getService.bind(this,ce).apply(this,J.multipleInstances?Ge:[])}}return"PUBLIC"===J.type?Se[ve]:null},removeApp:function De(J){delete me[J]},useAsService:function Ze(J,ce){return"serverAuth"===ce?null:ce},modularAPIs:P}};function Ne(J){if(!(0,c.r3)(me,J=J||P._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:J});return me[J]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Fe(){return Object.keys(me).map(J=>me[J])}}),Ne.App=ct,Se}(ae);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function me(Se){(0,c.ZB)(ct,Se)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ct}(),W=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=q;!function Ae(ct){(0,P.registerVersion)("@firebase/app-compat","0.2.7",ct)}()},9681:(_t,Ie,V)=>{V.r(Ie),V.d(Ie,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>ji,_DEFAULT_ENTRY_NAME:()=>Ue,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Dt,_apps:()=>it,_clearComponents:()=>zn,_components:()=>Xe,_getProvider:()=>rt,_registerComponent:()=>yt,_removeServiceInstance:()=>un,deleteApp:()=>ur,getApp:()=>jn,getApps:()=>cr,initializeApp:()=>Hr,onLog:()=>at,registerVersion:()=>gi,setLogLevel:()=>wi});var c=V(5861),H=V(4859),P=V(1877),re=V(2090),ae=V(8766);class te{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ye(He){return"VERSION"===He.getComponent()?.type}(st)){const It=st.getImmediate();return`${It.library}/${It.version}`}return null}).filter(st=>st).join(" ")}}const he="@firebase/app",q=new P.Yd("@firebase/app"),Ue="[DEFAULT]",Be={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},it=new Map,Xe=new Map;function pn(He,Ce){try{He.container.addComponent(Ce)}catch(st){q.debug(`Component ${Ce.name} failed to register with FirebaseApp ${He.name}`,st)}}function Dt(He,Ce){He.container.addOrOverwriteComponent(Ce)}function yt(He){const Ce=He.name;if(Xe.has(Ce))return q.debug(`There were multiple attempts to register component ${Ce}.`),!1;Xe.set(Ce,He);for(const st of it.values())pn(st,He);return!0}function rt(He,Ce){const st=He.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),He.container.getProvider(Ce)}function un(He,Ce,st=Ue){rt(He,Ce).clearInstance(st)}function zn(){Xe.clear()}const gn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class li{constructor(Ce,st,It){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const ji="9.19.1";function Hr(He,Ce={}){let st=He;"object"!=typeof Ce&&(Ce={name:Ce});const It=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},Ce),Pt=It.name;if("string"!=typeof Pt||!Pt)throw gn.create("bad-app-name",{appName:String(Pt)});if(st||(st=(0,re.aH)()),!st)throw gn.create("no-options");const sn=it.get(Pt);if(sn){if((0,re.vZ)(st,sn.options)&&(0,re.vZ)(It,sn.config))return sn;throw gn.create("duplicate-app",{appName:Pt})}const Gn=new H.H0(Pt);for(const $ of Xe.values())Gn.addComponent($);const G=new li(st,It,Gn);return it.set(Pt,G),G}function jn(He=Ue){const Ce=it.get(He);if(!Ce&&He===Ue)return Hr();if(!Ce)throw gn.create("no-app",{appName:He});return Ce}function cr(){return Array.from(it.values())}function ur(He){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(He){const Ce=He.name;it.has(Ce)&&(it.delete(Ce),yield Promise.all(He.container.getProviders().map(st=>st.delete())),He.isDeleted=!0)})).apply(this,arguments)}function gi(He,Ce,st){var It;let Pt=null!==(It=Be[He])&&void 0!==It?It:He;st&&(Pt+=`-${st}`);const sn=Pt.match(/\s|\//),Gn=Ce.match(/\s|\//);if(sn||Gn){const G=[`Unable to register library "${Pt}" with version "${Ce}":`];return sn&&G.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),sn&&Gn&&G.push("and"),Gn&&G.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void q.warn(G.join(" "))}yt(new H.wA(`${Pt}-version`,()=>({library:Pt,version:Ce}),"VERSION"))}function at(He,Ce){if(null!==He&&"function"!=typeof He)throw gn.create("invalid-log-argument");(0,P.Am)(He,Ce)}function wi(He){(0,P.Ub)(He)}const Ei="firebase-heartbeat-database",Xn=1,Hn="firebase-heartbeat-store";let er=null;function Ut(){return er||(er=(0,ae.X3)(Ei,Xn,{upgrade:(He,Ce)=>{0===Ce&&He.createObjectStore(Hn)}}).catch(He=>{throw gn.create("idb-open",{originalErrorMessage:He.message})})),er}function Ft(){return(Ft=(0,c.Z)(function*(He){try{return(yield Ut()).transaction(Hn).objectStore(Hn).get(Jn(He))}catch(Ce){if(Ce instanceof re.ZR)q.warn(Ce.message);else{const st=gn.create("idb-get",{originalErrorMessage:Ce?.message});q.warn(st.message)}}})).apply(this,arguments)}function xn(He,Ce){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(He,Ce){try{const It=(yield Ut()).transaction(Hn,"readwrite");return yield It.objectStore(Hn).put(Ce,Jn(He)),It.done}catch(st){if(st instanceof re.ZR)q.warn(st.message);else{const It=gn.create("idb-set",{originalErrorMessage:st?.message});q.warn(It.message)}}})).apply(this,arguments)}function Jn(He){return`${He.name}!${He.options.appId}`}class Tr{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Qt(st),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const It=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=Gt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!Ce._heartbeatsCache.heartbeats.some(sn=>sn.date===Pt))return Ce._heartbeatsCache.heartbeats.push({date:Pt,agent:It}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(sn=>{const Gn=new Date(sn.date).valueOf();return Date.now()-Gn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const st=Gt(),{heartbeatsToSend:It,unsentEntries:Pt}=function Ar(He,Ce=1024){const st=[];let It=He.slice();for(const Pt of He){const sn=st.find(Gn=>Gn.agent===Pt.agent);if(sn){if(sn.dates.push(Pt.date),Hi(st)>Ce){sn.dates.pop();break}}else if(st.push({agent:Pt.agent,dates:[Pt.date]}),Hi(st)>Ce){st.pop();break}It=It.slice(1)}return{heartbeatsToSend:st,unsentEntries:It}}(Ce._heartbeatsCache.heartbeats),sn=(0,re.L)(JSON.stringify({version:2,heartbeats:It}));return Ce._heartbeatsCache.lastSentHeartbeatDate=st,Pt.length>0?(Ce._heartbeatsCache.heartbeats=Pt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),sn})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function vt(He){return Ft.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var st=this;return(0,c.Z)(function*(){var It;if(yield st._canUseIndexedDBPromise){const sn=yield st.read();return xn(st.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:sn.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var st=this;return(0,c.Z)(function*(){var It;if(yield st._canUseIndexedDBPromise){const sn=yield st.read();return xn(st.app,{lastSentHeartbeatDate:null!==(It=Ce.lastSentHeartbeatDate)&&void 0!==It?It:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Ce.heartbeats]})}})()}}function Hi(He){return(0,re.L)(JSON.stringify({version:2,heartbeats:He})).length}!function $n(He){yt(new H.wA("platform-logger",Ce=>new te(Ce),"PRIVATE")),yt(new H.wA("heartbeat",Ce=>new Tr(Ce),"PRIVATE")),gi(he,"0.9.7",He),gi(he,"0.9.7","esm2017"),gi("fire-js","")}("")},4859:(_t,Ie,V)=>{V.d(Ie,{H0:()=>he,wA:()=>P});var c=V(5861),H=V(2090);class P{constructor(q,W,X){this.name=q,this.instanceFactory=W,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const re="[DEFAULT]";class ae{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const X=new H.BH;if(this.instancesDeferred.set(W,X),this.isInitialized(W)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:W});je&&X.resolve(je)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const X=this.normalizeInstanceIdentifier(q?.identifier),je=null!==(W=q?.optional)&&void 0!==W&&W;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ae){if(je)return null;throw Ae}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ye(ge){return"EAGER"===ge.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[W,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(W);try{const Ae=this.getOrInitializeService({instanceIdentifier:je});X.resolve(Ae)}catch{}}}}clearInstance(q=re){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...W.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=re){return this.instances.has(q)}getOptions(q=re){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,X=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:W});for(const[Ae,We]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ae)&&We.resolve(je);return je}onInit(q,W){var X;const je=this.normalizeInstanceIdentifier(W),Ae=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;Ae.add(q),this.onInitCallbacks.set(je,Ae);const We=this.instances.get(je);return We&&q(We,je),()=>{Ae.delete(q)}}invokeOnInitCallbacks(q,W){const X=this.onInitCallbacks.get(W);if(X)for(const je of X)try{je(q,W)}catch{}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let X=this.instances.get(q);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=q,ge===re?void 0:ge),options:W}),this.instances.set(q,X),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(X,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,X)}catch{}var ge;return X||null}normalizeInstanceIdentifier(q=re){return this.component?this.component.multipleInstances?q:re:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new ae(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Ie,V)=>{V.d(Ie,{Am:()=>ge,Ub:()=>he,Yd:()=>ye,in:()=>H});const c=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},re=H.INFO,ae={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},te=(q,W,...X)=>{if(W<q.logLevel)return;const je=(new Date).toISOString(),Ae=ae[W];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ae](`[${je}]  ${q.name}:`,...X)};class ye{constructor(W){this.name=W,this._logLevel=re,this._logHandler=te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in H))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...W),this._logHandler(this,H.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...W),this._logHandler(this,H.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,H.INFO,...W),this._logHandler(this,H.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,H.WARN,...W),this._logHandler(this,H.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...W),this._logHandler(this,H.ERROR,...W)}}function he(q){c.forEach(W=>{W.setLogLevel(q)})}function ge(q,W){for(const X of c){let je=null;W&&W.level&&(je=P[W.level]),X.userLogHandler=null===q?null:(Ae,We,...ct)=>{const me=ct.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");We>=(je??Ae.logLevel)&&q({level:H[We].toLowerCase(),message:me,args:ct,type:Ae.name})}}}},259:(_t,Ie,V)=>{V.d(Ie,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=V(9681);(0,c.registerVersion)("firebase","9.19.1","app")},9260:(_t,Ie,V)=>{V.d(Ie,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(_t,Ie,V)=>{V.r(Ie);var c=V(5861),H=V(3942),P=V(3432),re=V(2090),ye=(V(9681),V(1877),V(4859));function he(){return window}const ge=2e3;function W(){return W=(0,c.Z)(function*(N,F,k){var ee;const{BuildInfo:ue}=he();(0,P.ar)(F.sessionId,"AuthEvent did not contain a session ID");const lt=yield function Se(N){return De.apply(this,arguments)}(F.sessionId),xt={};return(0,P.as)()?xt.ibi=ue.packageName:(0,P.at)()?xt.apn=ue.packageName:(0,P.au)(N,"operation-not-supported-in-this-environment"),ue.displayName&&(xt.appDisplayName=ue.displayName),xt.sessionId=lt,(0,P.av)(N,k,F.type,void 0,null!==(ee=F.eventId)&&void 0!==ee?ee:void 0,xt)}),W.apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(N){const{BuildInfo:F}=he(),k={};(0,P.as)()?k.iosBundleId=F.packageName:(0,P.at)()?k.androidPackageName=F.packageName:(0,P.au)(N,"operation-not-supported-in-this-environment"),yield(0,P.aw)(N,k)})).apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(N,F,k){const{cordova:ee}=he();let ue=()=>{};try{yield new Promise((lt,xt)=>{let Nt=null;function rn(){var Zt;lt();const $i=null===(Zt=ee.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof $i&&$i(),"function"==typeof k?.close&&k.close()}function Ot(){Nt||(Nt=window.setTimeout(()=>{xt((0,P.ay)(N,"redirect-cancelled-by-user"))},ge))}function Tn(){"visible"===document?.visibilityState&&Ot()}F.addPassiveListener(rn),document.addEventListener("resume",Ot,!1),(0,P.at)()&&document.addEventListener("visibilitychange",Tn,!1),ue=()=>{F.removePassiveListener(rn),document.removeEventListener("resume",Ot,!1),document.removeEventListener("visibilitychange",Tn,!1),Nt&&window.clearTimeout(Nt)}})}finally{ue()}})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(N){const F=function Ne(N){if((0,P.ar)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const F=new ArrayBuffer(N.length),k=new Uint8Array(F);for(let ee=0;ee<N.length;ee++)k[ee]=N.charCodeAt(ee);return k}(N),k=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(k)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Oe=20;class Fe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(F)),super.onEvent(F)}initialized(){var F=this;return(0,c.Z)(function*(){yield F.initPromise})()}}function J(N){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(N){const F=yield Ge()._get(kt(N));return F&&(yield Ge()._remove(kt(N))),F})).apply(this,arguments)}function Ke(){const N=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<Oe;k++){const ee=Math.floor(Math.random()*F.length);N.push(F.charAt(ee))}return N.join("")}function Ge(){return(0,P.aB)(P.b)}function kt(N){return(0,P.aC)("authEvent",N.config.apiKey,N.name)}function pe(N){if(!N?.includes("?"))return{};const[F,...k]=N.split("?");return(0,re.zd)(k.join("?"))}const Ue=class ke{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(F){var k=this;return(0,c.Z)(function*(){const ee=F._key();let ue=k.eventManagers.get(ee);return ue||(ue=new Fe(F),k.eventManagers.set(ee,ue),k.attachCallbackListeners(F,ue)),ue})()}_openPopup(F){(0,P.au)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,k,ee,ue){var lt=this;return(0,c.Z)(function*(){!function me(N){var F,k,ee,ue,lt,xt,Nt,rn,Ot,Tn;const Zt=he();(0,P.az)("function"==typeof(null===(F=Zt?.universalLinks)||void 0===F?void 0:F.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.az)(typeof(null===(k=Zt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.az)("function"==typeof(null===(lt=null===(ue=null===(ee=Zt?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===lt?void 0:lt.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(rn=null===(Nt=null===(xt=Zt?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===rn?void 0:rn.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(Tn=null===(Ot=Zt?.cordova)||void 0===Ot?void 0:Ot.InAppBrowser)||void 0===Tn?void 0:Tn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const xt=yield lt._initialize(F);yield xt.initialized(),xt.resetRedirect(),(0,P.aF)(),yield lt._originValidation(F);const Nt=function Te(N,F,k=null){return{type:F,eventId:k,urlResponse:null,sessionId:Ke(),postBody:null,tenantId:N.tenantId,error:(0,P.ay)(N,"no-auth-event")}}(F,ee,ue);yield function Ze(N,F){return Ge()._set(kt(N),F)}(F,Nt);const rn=yield function q(N,F,k){return W.apply(this,arguments)}(F,Nt,k),Ot=yield function Ae(N){const{cordova:F}=he();return new Promise(k=>{F.plugins.browsertab.isAvailable(ee=>{let ue=null;ee?F.plugins.browsertab.openUrl(N):ue=F.InAppBrowser.open(N,(0,P.ax)()?"_blank":"_system","location=yes"),k(ue)})})}(rn);return function We(N,F,k){return ct.apply(this,arguments)}(F,xt,Ot)})()}_isIframeWebStorageSupported(F,k){throw new Error("Method not implemented.")}_originValidation(F){const k=F._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function X(N){return je.apply(this,arguments)}(F)),this.originValidationPromises[k]}attachCallbackListeners(F,k){const{universalLinks:ee,handleOpenURL:ue,BuildInfo:lt}=he(),xt=setTimeout((0,c.Z)(function*(){yield J(F),k.onEvent(Be())}),500),Nt=function(){var Tn=(0,c.Z)(function*(Zt){clearTimeout(xt);const $i=yield J(F);let ql=null;$i&&Zt?.url&&(ql=function ve(N,F){var k,ee;const ue=function le(N){const F=pe(N),k=F.link?decodeURIComponent(F.link):void 0,ee=pe(k).link,ue=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return pe(ue).link||ue||ee||k||N}(F);if(ue.includes("/__/auth/callback")){const lt=pe(ue),xt=lt.firebaseError?function nt(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,Nt=null===(ee=null===(k=xt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ee?void 0:ee[1],rn=Nt?(0,P.ay)(Nt):null;return rn?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:ue,postBody:null}}return null}($i,Zt.url)),k.onEvent(ql||Be())});return function($i){return Tn.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,Nt);const rn=ue,Ot=`${lt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Tn=(0,c.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Ot)&&Nt({url:Zt}),"function"==typeof rn)try{rn(Zt)}catch($i){console.error($i)}});return function(Zt){return Tn.apply(this,arguments)}}()}};function Be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.ay)("no-auth-event")}}const Dt=1e3;function yt(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function un(N=(0,re.z$)()){return!("file:"!==yt()&&"ionic:"!==yt()&&"capacitor:"!==yt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function ji(){try{const N=self.localStorage,F=P.aK();if(N)return N.setItem(F,"1"),N.removeItem(F),!function li(N=(0,re.z$)()){return function vn(){return(0,re.w1)()&&11===document?.documentMode}()||function gn(N=(0,re.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,re.hl)()}catch{return Hr()&&(0,re.hl)()}return!1}function Hr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function rt(){return"http:"===yt()||"https:"===yt()}()||(0,re.ru)()||un())&&!function zn(){return(0,re.b$)()||(0,re.UG)()}()&&ji()&&!Hr()}function cr(){return un()&&typeof document<"u"}function Sn(){return(Sn=(0,c.Z)(function*(){return!!cr()&&new Promise(N=>{const F=setTimeout(()=>{N(!1)},Dt);document.addEventListener("deviceready",()=>{clearTimeout(F),N(!0)})})})).apply(this,arguments)}const at={LOCAL:"local",NONE:"none",SESSION:"session"},wi=P.az,Ei="persistence";function Hn(N){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(N){yield N._initializationPromise;const F=vt(),k=P.aC(Ei,N.config.apiKey,N.name);F&&F.setItem(k,N._getPersistence())})).apply(this,arguments)}function vt(){var N;try{return(null===(N=function gi(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Ft=P.az;class xn{constructor(){this.browserResolver=P.aB(P.k),this.cordovaResolver=P.aB(Ue),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(F){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,k,ee,ue){var lt=this;return(0,c.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(F,k,ee,ue)})()}_openRedirect(F,k,ee,ue){var lt=this;return(0,c.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(F,k,ee,ue)})()}_isIframeWebStorageSupported(F,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,k)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,c.Z)(function*(){if(F.underlyingResolver)return;const k=yield function ur(){return Sn.apply(this,arguments)}();F.underlyingResolver=k?F.cordovaResolver:F.browserResolver})()}}function Fn(N){return N.unwrap()}function Ci(N){return Tr(N)}function Tr(N){const{_tokenResponse:F}=N instanceof re.ZR?N.customData:N;if(!F)return null;if(!(N instanceof re.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(N);const k=F.providerId;if(!k||k===P.p.PASSWORD)return null;let ee;switch(k){case P.p.GOOGLE:ee=P.U;break;case P.p.FACEBOOK:ee=P.Q;break;case P.p.GITHUB:ee=P.V;break;case P.p.TWITTER:ee=P.Y;break;default:const{oauthIdToken:ue,oauthAccessToken:lt,oauthTokenSecret:xt,pendingToken:Nt,nonce:rn}=F;return lt||xt||ue||Nt?Nt?k.startsWith("saml.")?P.aN._create(k,Nt):P.K._fromParams({providerId:k,signInMethod:k,pendingToken:Nt,idToken:ue,accessToken:lt}):new P.W(k).credential({idToken:ue,accessToken:lt,rawNonce:rn}):null}return N instanceof re.ZR?ee.credentialFromError(N):ee.credentialFromResult(N)}function Gt(N,F){return F.catch(k=>{throw k instanceof re.ZR&&function ci(N,F){var k;const ee=null===(k=F.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Hi(N,P.ap(N,F));else if(ee){const ue=Tr(F),lt=F;ue&&(lt.credential=ue,lt.tenantId=ee.tenantId||void 0,lt.email=ee.email||void 0,lt.phoneNumber=ee.phoneNumber||void 0)}}(N,k),k}).then(k=>{const ue=k.user;return{operationType:k.operationType,credential:Ci(k),additionalUserInfo:P.an(k),user:$n.getOrCreate(ue)}})}function Ar(N,F){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(N,F){const k=yield F;return{verificationId:k.verificationId,confirm:ee=>Gt(N,k.confirm(ee))}})).apply(this,arguments)}class Hi{constructor(F,k){this.resolver=k,this.auth=function Jn(N){return N.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Gt(Fn(this.auth),this.resolver.resolveSignIn(F))}}class $n{constructor(F){this._delegate=F,this.multiFactor=P.aq(F)}static getOrCreate(F){return $n.USER_MAP.has(F)||$n.USER_MAP.set(F,new $n(F)),$n.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var k=this;return(0,c.Z)(function*(){return Gt(k.auth,P.$(k._delegate,F))})()}linkWithPhoneNumber(F,k){var ee=this;return(0,c.Z)(function*(){return Ar(ee.auth,P.l(ee._delegate,F,k))})()}linkWithPopup(F){var k=this;return(0,c.Z)(function*(){return Gt(k.auth,P.d(k._delegate,F,xn))})()}linkWithRedirect(F){var k=this;return(0,c.Z)(function*(){return yield Hn(P.aG(k.auth)),P.g(k._delegate,F,xn)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var k=this;return(0,c.Z)(function*(){return Gt(k.auth,P.a0(k._delegate,F))})()}reauthenticateWithPhoneNumber(F,k){return Ar(this.auth,P.r(this._delegate,F,k))}reauthenticateWithPopup(F){return Gt(this.auth,P.e(this._delegate,F,xn))}reauthenticateWithRedirect(F){var k=this;return(0,c.Z)(function*(){return yield Hn(P.aG(k.auth)),P.h(k._delegate,F,xn)})()}sendEmailVerification(F){return P.ad(this._delegate,F)}unlink(F){var k=this;return(0,c.Z)(function*(){return yield P.am(k._delegate,F),k})()}updateEmail(F){return P.ai(this._delegate,F)}updatePassword(F){return P.aj(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ah(this._delegate,F)}verifyBeforeUpdateEmail(F,k){return P.ae(this._delegate,F,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$n.USER_MAP=new WeakMap;const He=P.az;let Ce=(()=>{class N{constructor(k,ee){if(this.app=k,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=k.options;He(ue,"invalid-api-key",{appName:k.name}),He(ue,"invalid-api-key",{appName:k.name});const lt=typeof window<"u"?xn:void 0;this._delegate=ee.initialize({options:{persistence:It(ue,k.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(P.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$n.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ee){P.H(this._delegate,k,ee)}applyActionCode(k){return P.a4(this._delegate,k)}checkActionCode(k){return P.a5(this._delegate,k)}confirmPasswordReset(k,ee){return P.a3(this._delegate,k,ee)}createUserWithEmailAndPassword(k,ee){var ue=this;return(0,c.Z)(function*(){return Gt(ue._delegate,P.a7(ue._delegate,k,ee))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.ac(this._delegate,k)}isSignInWithEmailLink(k){return P.aa(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.Z)(function*(){He(jn(),k._delegate,"operation-not-supported-in-this-environment");const ee=yield P.j(k._delegate,xn);return ee?Gt(k._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function it(N,F){(0,P.aG)(N)._logFramework(F)}(this._delegate,k)}onAuthStateChanged(k,ee,ue){const{next:lt,error:xt,complete:Nt}=st(k,ee,ue);return this._delegate.onAuthStateChanged(lt,xt,Nt)}onIdTokenChanged(k,ee,ue){const{next:lt,error:xt,complete:Nt}=st(k,ee,ue);return this._delegate.onIdTokenChanged(lt,xt,Nt)}sendSignInLinkToEmail(k,ee){return P.a9(this._delegate,k,ee)}sendPasswordResetEmail(k,ee){return P.a2(this._delegate,k,ee||void 0)}setPersistence(k){var ee=this;return(0,c.Z)(function*(){let ue;switch(function Xn(N,F){wi(Object.values(at).includes(F),N,"invalid-persistence-type"),(0,re.b$)()?wi(F!==at.SESSION,N,"unsupported-persistence-type"):(0,re.UG)()?wi(F===at.NONE,N,"unsupported-persistence-type"):Hr()?wi(F===at.NONE||F===at.LOCAL&&(0,re.hl)(),N,"unsupported-persistence-type"):wi(F===at.NONE||ji(),N,"unsupported-persistence-type")}(ee._delegate,k),k){case at.SESSION:ue=P.a;break;case at.LOCAL:ue=(yield P.aB(P.i)._isAvailable())?P.i:P.b;break;case at.NONE:ue=P.M;break;default:return P.au("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Gt(this._delegate,P.Z(this._delegate))}signInWithCredential(k){return Gt(this._delegate,P._(this._delegate,k))}signInWithCustomToken(k){return Gt(this._delegate,P.a1(this._delegate,k))}signInWithEmailAndPassword(k,ee){return Gt(this._delegate,P.a8(this._delegate,k,ee))}signInWithEmailLink(k,ee){return Gt(this._delegate,P.ab(this._delegate,k,ee))}signInWithPhoneNumber(k,ee){return Ar(this._delegate,P.s(this._delegate,k,ee))}signInWithPopup(k){var ee=this;return(0,c.Z)(function*(){return He(jn(),ee._delegate,"operation-not-supported-in-this-environment"),Gt(ee._delegate,P.c(ee._delegate,k,xn))})()}signInWithRedirect(k){var ee=this;return(0,c.Z)(function*(){return He(jn(),ee._delegate,"operation-not-supported-in-this-environment"),yield Hn(ee._delegate),P.f(ee._delegate,k,xn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a6(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=at,N})();function st(N,F,k){let ee=N;"function"!=typeof N&&({next:ee,error:F,complete:k}=N);const ue=ee;return{next:xt=>ue(xt&&$n.getOrCreate(xt)),error:F,complete:k}}function It(N,F){const k=function Ut(N,F){const k=vt();if(!k)return[];const ee=P.aC(Ei,N,F);switch(k.getItem(ee)){case at.NONE:return[P.M];case at.LOCAL:return[P.i,P.a];case at.SESSION:return[P.a];default:return[]}}(N,F);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const ee of[P.b,P.a])k.includes(ee)||k.push(ee);return k.includes(P.M)||k.push(P.M),k}class Pt{constructor(){this.providerId="phone",this._delegate=new P.P(Fn(H.Z.auth()))}static credential(F,k){return P.P.credential(F,k)}verifyPhoneNumber(F,k){return this._delegate.verifyPhoneNumber(F,k)}unwrap(){return this._delegate}}Pt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Pt.PROVIDER_ID=P.P.PROVIDER_ID;const sn=P.az;class Gn{constructor(F,k,ee=H.Z.app()){var ue;sn(null===(ue=ee.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new P.R(F,k,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(N){N.INTERNAL.registerComponent(new ye.wA("auth-compat",F=>{const k=F.getProvider("app-compat").getImmediate(),ee=F.getProvider("auth");return new Ce(k,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.N,FacebookAuthProvider:P.Q,GithubAuthProvider:P.V,GoogleAuthProvider:P.U,OAuthProvider:P.W,SAMLAuthProvider:P.X,PhoneAuthProvider:Pt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Gn,TwitterAuthProvider:P.Y,Auth:Ce,AuthCredential:P.I,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.3.7")}(H.Z)},8766:(_t,Ie,V)=>{V.d(Ie,{Lj:()=>Oe,X3:()=>Ne});var c=V(5861);const H=(ce,ve)=>ve.some(Ke=>ce instanceof Ke);let P,re;const ye=new WeakMap,he=new WeakMap,ge=new WeakMap,q=new WeakMap,W=new WeakMap;let Ae={get(ce,ve,Ke){if(ce instanceof IDBTransaction){if("done"===ve)return he.get(ce);if("objectStoreNames"===ve)return ce.objectStoreNames||ge.get(ce);if("store"===ve)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return Se(ce[ve])},set:(ce,ve,Ke)=>(ce[ve]=Ke,!0),has:(ce,ve)=>ce instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ce};function me(ce){return"function"==typeof ce?function ct(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ve){return ce.apply(De(this),ve),Se(ye.get(this))}:function(...ve){return Se(ce.apply(De(this),ve))}:function(ve,...Ke){const Ge=ce.call(De(this),ve,...Ke);return ge.set(Ge,ve.sort?ve.sort():[ve]),Se(Ge)}}(ce):(ce instanceof IDBTransaction&&function je(ce){if(he.has(ce))return;const ve=new Promise((Ke,Ge)=>{const kt=()=>{ce.removeEventListener("complete",nt),ce.removeEventListener("error",le),ce.removeEventListener("abort",le)},nt=()=>{Ke(),kt()},le=()=>{Ge(ce.error||new DOMException("AbortError","AbortError")),kt()};ce.addEventListener("complete",nt),ce.addEventListener("error",le),ce.addEventListener("abort",le)});he.set(ce,ve)}(ce),H(ce,function ae(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Ae):ce)}function Se(ce){if(ce instanceof IDBRequest)return function X(ce){const ve=new Promise((Ke,Ge)=>{const kt=()=>{ce.removeEventListener("success",nt),ce.removeEventListener("error",le)},nt=()=>{Ke(Se(ce.result)),kt()},le=()=>{Ge(ce.error),kt()};ce.addEventListener("success",nt),ce.addEventListener("error",le)});return ve.then(Ke=>{Ke instanceof IDBCursor&&ye.set(Ke,ce)}).catch(()=>{}),W.set(ve,ce),ve}(ce);if(q.has(ce))return q.get(ce);const ve=me(ce);return ve!==ce&&(q.set(ce,ve),W.set(ve,ce)),ve}const De=ce=>W.get(ce);function Ne(ce,ve,{blocked:Ke,upgrade:Ge,blocking:kt,terminated:nt}={}){const le=indexedDB.open(ce,ve),pe=Se(le);return Ge&&le.addEventListener("upgradeneeded",be=>{Ge(Se(le.result),be.oldVersion,be.newVersion,Se(le.transaction))}),Ke&&le.addEventListener("blocked",()=>Ke()),pe.then(be=>{nt&&be.addEventListener("close",()=>nt()),kt&&be.addEventListener("versionchange",()=>kt())}).catch(()=>{}),pe}function Oe(ce,{blocked:ve}={}){const Ke=indexedDB.deleteDatabase(ce);return ve&&Ke.addEventListener("blocked",()=>ve()),Se(Ke).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Ze=new Map;function J(ce,ve){if(!(ce instanceof IDBDatabase)||ve in ce||"string"!=typeof ve)return;if(Ze.get(ve))return Ze.get(ve);const Ke=ve.replace(/FromIndex$/,""),Ge=ve!==Ke,kt=Te.includes(Ke);if(!(Ke in(Ge?IDBIndex:IDBObjectStore).prototype)||!kt&&!Fe.includes(Ke))return;const nt=function(){var le=(0,c.Z)(function*(pe,...be){const ke=this.transaction(pe,kt?"readwrite":"readonly");let Ue=ke.store;return Ge&&(Ue=Ue.index(be.shift())),(yield Promise.all([Ue[Ke](...be),kt&&ke.done]))[0]});return function(be){return le.apply(this,arguments)}}();return Ze.set(ve,nt),nt}!function We(ce){Ae=ce(Ae)}(ce=>({...ce,get:(ve,Ke,Ge)=>J(ve,Ke)||ce.get(ve,Ke,Ge),has:(ve,Ke)=>!!J(ve,Ke)||ce.has(ve,Ke)}))},5861:(_t,Ie,V)=>{function c(P,re,ae,te,ye,he,ge){try{var q=P[he](ge),W=q.value}catch(X){return void ae(X)}q.done?re(W):Promise.resolve(W).then(te,ye)}function H(P){return function(){var re=this,ae=arguments;return new Promise(function(te,ye){var he=P.apply(re,ae);function ge(W){c(he,te,ye,ge,q,"next",W)}function q(W){c(he,te,ye,ge,q,"throw",W)}ge(void 0)})}}V.d(Ie,{Z:()=>H})}},_t=>{_t(_t.s=638)}]);